import{_ as k,P as w,F as _,L as h,U as v,C as j,a as K,B as P}from"./AdminLayout.vue_vue_type_script_setup_true_lang-COXwxBqt.js";import{r as c,o as D,c as C,a as r,w as L,b as t,d as i,e as d,u as l,t as a,f as x}from"./index-24nulL_6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6"},I={class:"text-sm text-gray-500 dark:text-gray-400"},R={key:0},T={key:1},A={key:0,class:"flex items-center justify-center py-12"},E={key:1,class:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},M={key:0,class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},q={class:"mb-4 flex items-center justify-between"},F={class:"space-y-3"},N={class:"flex items-center justify-between"},U={class:"font-semibold text-gray-800 dark:text-white/90"},X={class:"flex items-center justify-between"},G={class:"font-semibold text-gray-800 dark:text-white/90"},S={class:"flex items-center justify-between"},V={class:"font-semibold text-gray-800 dark:text-white/90"},H={class:"flex items-center justify-between"},O={class:"font-semibold text-gray-800 dark:text-white/90"},W={class:"flex items-center justify-between"},J={class:"font-semibold text-gray-800 dark:text-white/90"},$={key:1,class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},z={class:"mb-4 flex items-center justify-between"},Q={class:"space-y-3"},Y={class:"flex items-center justify-between"},Z={class:"font-semibold text-gray-800 dark:text-white/90"},tt={class:"flex items-center justify-between"},et={class:"font-semibold text-gray-800 dark:text-white/90"},st={class:"flex items-center justify-between"},at={class:"font-semibold text-gray-800 dark:text-white/90"},nt={class:"flex items-center justify-between"},rt={class:"font-semibold text-gray-800 dark:text-white/90"},it={class:"flex items-center justify-between"},ot={class:"font-semibold text-gray-800 dark:text-white/90"},dt={class:"flex items-center justify-between"},lt={class:"font-semibold text-gray-800 dark:text-white/90"},xt={key:2,class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},gt={class:"mb-4 flex items-center justify-between"},ct={class:"space-y-3"},mt={class:"flex items-center justify-between"},yt={class:"font-semibold text-gray-800 dark:text-white/90"},ut={class:"flex items-center justify-between"},pt={class:"font-semibold text-gray-800 dark:text-white/90"},bt={class:"flex items-center justify-between"},ft={class:"font-semibold text-gray-800 dark:text-white/90"},kt={class:"flex items-center justify-between"},wt={class:"font-semibold text-gray-800 dark:text-white/90"},_t={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},ht={class:"mb-4 flex items-center justify-between"},vt={class:"space-y-3"},jt={class:"flex items-center justify-between"},Kt={class:"font-semibold text-gray-800 dark:text-white/90"},Pt={key:0,class:"flex items-center justify-between"},Dt={class:"font-semibold text-gray-800 dark:text-white/90"},Ct={key:1,class:"flex items-center justify-between"},Lt={class:"font-semibold text-gray-800 dark:text-white/90"},Bt={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},It={class:"mb-4 flex items-center justify-between"},Rt={class:"space-y-3"},Tt={class:"flex items-center justify-between"},At={class:"font-semibold text-gray-800 dark:text-white/90"},Et={class:"flex items-center justify-between"},Mt={class:"font-semibold text-gray-800 dark:text-white/90"},qt={key:3,class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},Ft={class:"mb-4 flex items-center justify-between"},Nt={class:"space-y-3"},Ut={class:"flex items-center justify-between"},Xt={class:"font-semibold text-gray-800 dark:text-white/90"},Gt={class:"flex items-center justify-between"},St={class:"font-semibold text-gray-800 dark:text-white/90"},Vt={class:"flex items-center justify-between"},Ht={class:"font-semibold text-gray-800 dark:text-white/90"},Ot={class:"flex items-center justify-between"},Wt={class:"font-semibold text-gray-800 dark:text-white/90"},Jt={key:4,class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},$t={class:"mb-4 flex items-center justify-between"},zt={class:"space-y-3"},Qt={class:"flex items-center justify-between"},Yt={class:"font-semibold text-gray-800 dark:text-white/90"},Zt={class:"flex items-center justify-between"},te={class:"font-semibold text-gray-800 dark:text-white/90"},re={__name:"Dashboard",setup(ee){const g=c(!0),o=c("user"),s=c({company:{landingProfile:0,landingKegiatan:0,landingProgram:0,landingProposal:0,landingBulletin:0},administrasi:{kantorCabang:0,program:0,jabatan:0,pangkat:0,gaji:0,sop:0},konten:{programKami:0,profileKami:0,proposalData:0,bulletinData:0},userKepegawaian:{karyawan:0,mitra:0,donatur:0},operasional:{absensi:0,remunerasi:0},keuangan:{transaksi:0,penyaluran:0,pengajuanDana:0,total:0},laporan:{laporanTransaksi:0,laporanKeuangan:0}}),p=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),b=async()=>{try{const n=await fetch("/admin/api/user",{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin"});if(n.ok){const e=await n.json();e.success&&e.user&&(o.value=e.user.is_admin?"admin":"user")}}catch(n){console.error("Error fetching user:",n)}},f=async()=>{g.value=!0;try{const n=await fetch("/admin/api/dashboard/stats",{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin"});if(n.ok){const e=await n.json();e.success&&e.data&&(o.value=e.data.role||"user",s.value={...s.value,...e.data})}}catch(n){console.error("Error fetching dashboard stats:",n)}finally{g.value=!1}};return D(()=>{b(),f()}),(n,e)=>(r(),C(k,null,{default:L(()=>{var m,y,u;return[t("div",B,[t("div",null,[e[0]||(e[0]=t("h1",{class:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md"}," Dashboard ",-1)),t("p",I,[o.value==="admin"?(r(),i("span",R,"Ringkasan dan statistik dari semua modul aplikasi")):(r(),i("span",T,"Ringkasan data dan aktivitas Anda"))])]),g.value?(r(),i("div",A,e[1]||(e[1]=[t("div",{class:"text-center"},[t("div",{class:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-brand-500 border-r-transparent"}),t("p",{class:"mt-4 text-sm text-gray-500"},"Memuat data...")],-1)]))):(r(),i("div",E,[o.value==="admin"?(r(),i("div",M,[t("div",q,[e[2]||(e[2]=t("h3",{class:"font-semibold text-gray-800 text-lg dark:text-white/90"},"Company",-1)),d(l(w),{class:"h-6 w-6 text-brand-500"})]),t("div",F,[t("div",N,[e[3]||(e[3]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Landing Profile",-1)),t("span",U,a(s.value.company.landingProfile||0),1)]),t("div",X,[e[4]||(e[4]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Landing Kegiatan",-1)),t("span",G,a(s.value.company.landingKegiatan||0),1)]),t("div",S,[e[5]||(e[5]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Landing Program",-1)),t("span",V,a(s.value.company.landingProgram||0),1)]),t("div",H,[e[6]||(e[6]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Landing Proposal",-1)),t("span",O,a(s.value.company.landingProposal||0),1)]),t("div",W,[e[7]||(e[7]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Landing Bulletin",-1)),t("span",J,a(s.value.company.landingBulletin||0),1)])])])):x("",!0),o.value==="admin"?(r(),i("div",$,[t("div",z,[e[8]||(e[8]=t("h3",{class:"font-semibold text-gray-800 text-lg dark:text-white/90"},"Administrasi",-1)),d(l(_),{class:"h-6 w-6 text-brand-500"})]),t("div",Q,[t("div",Y,[e[9]||(e[9]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Kantor Cabang",-1)),t("span",Z,a(s.value.administrasi.kantorCabang||0),1)]),t("div",tt,[e[10]||(e[10]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Program",-1)),t("span",et,a(s.value.administrasi.program||0),1)]),t("div",st,[e[11]||(e[11]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jabatan",-1)),t("span",at,a(s.value.administrasi.jabatan||0),1)]),t("div",nt,[e[12]||(e[12]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pangkat",-1)),t("span",rt,a(s.value.administrasi.pangkat||0),1)]),t("div",it,[e[13]||(e[13]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Gaji",-1)),t("span",ot,a(s.value.administrasi.gaji||0),1)]),t("div",dt,[e[14]||(e[14]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"SOP",-1)),t("span",lt,a(s.value.administrasi.sop||0),1)])])])):x("",!0),o.value==="admin"?(r(),i("div",xt,[t("div",gt,[e[15]||(e[15]=t("h3",{class:"font-semibold text-gray-800 text-lg dark:text-white/90"},"Konten & Publikasi",-1)),d(l(h),{class:"h-6 w-6 text-brand-500"})]),t("div",ct,[t("div",mt,[e[16]||(e[16]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Program Kami",-1)),t("span",yt,a(s.value.konten.programKami||0),1)]),t("div",ut,[e[17]||(e[17]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Profile Kami",-1)),t("span",pt,a(s.value.konten.profileKami||0),1)]),t("div",bt,[e[18]||(e[18]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Proposal Data",-1)),t("span",ft,a(s.value.konten.proposalData||0),1)]),t("div",kt,[e[19]||(e[19]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Bulletin Data",-1)),t("span",wt,a(s.value.konten.bulletinData||0),1)])])])):x("",!0),t("div",_t,[t("div",ht,[e[20]||(e[20]=t("h3",{class:"font-semibold text-gray-800 text-lg dark:text-white/90"},"User & Kepegawaian",-1)),d(l(v),{class:"h-6 w-6 text-brand-500"})]),t("div",vt,[t("div",jt,[e[21]||(e[21]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Karyawan",-1)),t("span",Kt,a(((m=s.value.userKepegawaian)==null?void 0:m.karyawan)||0),1)]),o.value==="admin"?(r(),i("div",Pt,[e[22]||(e[22]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Mitra",-1)),t("span",Dt,a(((y=s.value.userKepegawaian)==null?void 0:y.mitra)||0),1)])):x("",!0),o.value==="admin"?(r(),i("div",Ct,[e[23]||(e[23]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Donatur",-1)),t("span",Lt,a(((u=s.value.userKepegawaian)==null?void 0:u.donatur)||0),1)])):x("",!0)])]),t("div",Bt,[t("div",It,[e[24]||(e[24]=t("h3",{class:"font-semibold text-gray-800 text-lg dark:text-white/90"},"Operasional",-1)),d(l(j),{class:"h-6 w-6 text-brand-500"})]),t("div",Rt,[t("div",Tt,[e[25]||(e[25]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Absensi",-1)),t("span",At,a(s.value.operasional.absensi||0),1)]),t("div",Et,[e[26]||(e[26]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Remunerasi",-1)),t("span",Mt,a(s.value.operasional.remunerasi||0),1)])])]),o.value==="admin"?(r(),i("div",qt,[t("div",Ft,[e[27]||(e[27]=t("h3",{class:"font-semibold text-gray-800 text-lg dark:text-white/90"},"Keuangan",-1)),d(l(K),{class:"h-6 w-6 text-brand-500"})]),t("div",Nt,[t("div",Ut,[e[28]||(e[28]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Transaksi",-1)),t("span",Xt,a(s.value.keuangan.transaksi||0),1)]),t("div",Gt,[e[29]||(e[29]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Penyaluran",-1)),t("span",St,a(s.value.keuangan.penyaluran||0),1)]),t("div",Vt,[e[30]||(e[30]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pengajuan Dana",-1)),t("span",Ht,a(s.value.keuangan.pengajuanDana||0),1)]),t("div",Ot,[e[31]||(e[31]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Keuangan",-1)),t("span",Wt,a(p(s.value.keuangan.total||0)),1)])])])):x("",!0),o.value==="admin"?(r(),i("div",Jt,[t("div",$t,[e[32]||(e[32]=t("h3",{class:"font-semibold text-gray-800 text-lg dark:text-white/90"},"Laporan",-1)),d(l(P),{class:"h-6 w-6 text-brand-500"})]),t("div",zt,[t("div",Qt,[e[33]||(e[33]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Laporan Transaksi",-1)),t("span",Yt,a(s.value.laporan.laporanTransaksi||0),1)]),t("div",Zt,[e[34]||(e[34]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Laporan Keuangan",-1)),t("span",te,a(s.value.laporan.laporanKeuangan||0),1)])])])):x("",!0)]))])]}),_:1}))}};export{re as default};
