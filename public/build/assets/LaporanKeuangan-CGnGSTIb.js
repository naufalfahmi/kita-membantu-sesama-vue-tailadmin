import{d as Ze,g as ge,o as s,T as yt,c as l,i as g,a as e,t as n,r as Ne,q as vt,H as ht,I as ft,M as wt,A as c,b as i,B as z,f as Ue,w as Be,j as X,F as m,l as _,n as y,G as _t,u as A,D as We,m as L,Q as jt,k as Y,v as G}from"./admin-CYUpoyCw.js";import{C as Mt}from"./component-UaKix45j.js";import{u as q,w as Ye}from"./xlsx-3SA47z_C.js";import{_ as Ct,g as Ge}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BLVsIcuw.js";import{S as Je}from"./SearchableSelect-DXmb1a4R.js";import{_ as Bt}from"./ConfirmModal.vue_vue_type_script_setup_true_lang-CE1FVYYh.js";import{_ as St}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Tt={key:0,class:"fixed inset-0 z-[99999] flex items-center justify-center overflow-y-auto px-4 py-6 sm:px-0"},Pt={class:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-800"},Dt={class:"text-lg font-semibold text-gray-800 dark:text-white/90"},Rt={class:"px-6 py-6"},$t={key:0,class:"border-t border-gray-200 px-6 py-4 dark:border-gray-800"},Lt=Ze({__name:"Modal",props:{isOpen:{type:Boolean},title:{}},emits:["close"],setup(ce){return(P,M)=>(s(),ge(yt,{to:"body"},[ce.isOpen?(s(),l("div",Tt,[e("div",{class:"fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[32px]","aria-hidden":"true",onClick:M[0]||(M[0]=D=>P.$emit("close"))}),e("div",{class:"relative w-full max-w-lg transform rounded-2xl bg-white shadow-theme-lg transition-all dark:bg-gray-900",onClick:M[2]||(M[2]=vt(()=>{},["stop"]))},[e("div",Pt,[e("h3",Dt,n(ce.title),1),e("button",{onClick:M[1]||(M[1]=D=>P.$emit("close")),class:"ml-auto inline-flex items-center justify-center rounded-lg p-1 text-gray-500 transition-colors hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"},[...M[3]||(M[3]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Rt,[Ne(P.$slots,"content")]),P.$slots.footer?(s(),l("div",$t,[Ne(P.$slots,"footer")])):g("",!0)])])):g("",!0)]))}}),Ht={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},Vt={role:"tablist",class:"mb-8 flex flex-wrap items-center justify-center gap-4 border-b border-gray-200 dark:border-gray-700"},zt=["aria-selected","aria-controls","id","onClick"],At={class:"space-y-6"},Ft={key:0,role:"tabpanel",id:"tabpanel-balance","aria-labelledby":"tab-balance"},Et={class:"mb-6"},It={class:"grid grid-cols-1 gap-3 md:grid-cols-12"},Xt={class:"md:col-span-4"},qt={class:"md:col-span-3"},Ot={class:"md:col-span-3"},Kt={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2"},Nt={class:"rounded-lg border border-gray-200 bg-gradient-to-br from-green-500 to-green-600 p-6 shadow-lg dark:border-gray-700 dark:from-green-600 dark:to-green-700"},Ut={class:"flex items-center justify-between"},Wt={class:"text-3xl font-bold text-white"},Yt={class:"rounded-lg border border-gray-200 bg-gradient-to-br from-red-500 to-red-600 p-6 shadow-lg dark:border-gray-700 dark:from-red-600 dark:to-red-700"},Gt={class:"flex items-center justify-between"},Jt={class:"text-3xl font-bold text-white"},Zt={class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Qt={class:"relative overflow-x-auto"},ea={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},ta={class:"w-full table-auto"},aa={class:"px-4 py-3 text-sm font-medium text-gray-800 dark:text-white/90"},ra={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400"},na={class:"px-4 py-3 text-right text-sm font-bold text-purple-600 dark:text-purple-400"},sa={key:0},oa={key:0},la={class:"bg-gray-50 dark:bg-gray-800/50"},da={class:"px-4 py-4 text-sm font-bold text-gray-800 dark:text-white/90"},ia={class:"px-4 py-4 text-right text-lg font-bold text-brand-600 dark:text-brand-400"},ua={class:"px-4 py-4 text-right text-lg font-bold text-purple-600 dark:text-purple-400"},ga={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2"},ca={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},pa={class:"flex items-center justify-between"},ba={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},xa={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},ka={class:"flex items-center justify-between"},ma={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},ya={class:"mb-6 grid grid-cols-1 gap-4 lg:grid-cols-2"},va={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},ha={class:"flex items-center justify-center"},fa={class:"rounded-lg border border-gray-200 bg-gradient-to-br from-brand-500 to-brand-600 p-6 shadow-lg dark:border-gray-700 dark:from-brand-600 dark:to-brand-700"},wa={class:"space-y-4"},_a={class:"text-3xl font-bold text-white"},ja={class:"space-y-3 border-t border-white/20 pt-4"},Ma={class:"flex items-center justify-between"},Ca={class:"text-sm font-semibold text-white"},Ba={class:"flex items-center justify-between"},Sa={class:"text-sm font-semibold text-white"},Ta={class:"flex items-center justify-between"},Pa={class:"text-sm font-semibold text-white"},Da={class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Ra={class:"mb-4 flex items-center justify-between"},$a={class:"text-sm text-gray-500 dark:text-gray-400"},La={class:"font-bold text-gray-800 dark:text-white"},Ha={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Va={class:"absolute top-2 right-2 opacity-0 transition-opacity group-hover:opacity-100 flex gap-2"},za=["onClick"],Aa=["onClick"],Fa={class:"flex items-center gap-3 mb-3"},Ea={class:"font-semibold text-gray-800 dark:text-white"},Ia={class:"text-xs text-gray-500 dark:text-gray-400"},Xa={class:"flex items-end justify-between"},qa={class:"text-lg font-bold text-gray-800 dark:text-white"},Oa={key:0,class:"text-right"},Ka=["title"],Na={key:0,class:"col-span-1 sm:col-span-2 lg:col-span-3 flex flex-col items-center justify-center rounded-lg border border-dashed border-gray-300 p-8 text-center text-gray-500 dark:border-gray-700 dark:text-gray-400"},Ua={class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Wa={class:"mb-4 flex items-center justify-between"},Ya={class:"text-sm text-gray-600 dark:text-gray-400"},Ga={class:"font-bold text-purple-600 dark:text-purple-400"},Ja={key:0,class:"mb-6 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4"},Za={class:"flex items-center justify-between"},Qa={class:"flex-1"},er={class:"mb-1 flex items-center gap-2"},tr={class:"text-sm font-medium text-gray-800 dark:text-white/90"},ar={class:"text-xs text-gray-600 dark:text-gray-400"},rr={class:"relative"},nr={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},sr={key:2,class:"py-12 text-center"},or={class:"mt-6"},lr={class:"relative overflow-x-auto"},dr={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},ir={key:1,class:"w-full table-auto"},ur={class:"py-3 text-sm font-medium text-gray-800 dark:text-white/90"},gr={class:"flex items-center gap-2"},cr=["onClick"],pr={class:"py-3 text-right text-sm text-orange-600 dark:text-orange-400"},br={class:"py-3 text-right text-sm text-purple-600 dark:text-purple-400"},xr={key:0,class:"bg-gray-50 dark:bg-gray-800/50"},kr={colspan:"3",class:"p-4"},mr={class:"overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},yr={class:"bg-gray-50 px-4 py-2 text-xs font-semibold uppercase tracking-wider text-gray-500 dark:bg-gray-800 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700"},vr={key:0,class:"p-4 text-center text-sm text-gray-500"},hr={key:1,class:"w-full text-left text-sm"},fr={class:"divide-y divide-gray-200 dark:divide-gray-700"},wr={class:"px-4 py-2 text-gray-600 dark:text-gray-300 whitespace-nowrap"},_r={class:"px-4 py-2 text-gray-600 dark:text-gray-300"},jr={class:"px-4 py-2 text-gray-600 dark:text-gray-300"},Mr={class:"px-4 py-2 text-right font-medium text-gray-800 dark:text-white"},Cr={class:"border-t-2 border-gray-300 dark:border-gray-600"},Br={class:"pt-3 text-right text-sm font-bold text-orange-600 dark:text-orange-400"},Sr={class:"pt-3 text-right text-sm font-bold text-purple-600 dark:text-purple-400"},Tr={key:2,class:"py-12 text-center"},Pr={class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Dr={class:"mb-4 flex items-center justify-between"},Rr=["disabled"],$r={class:"relative overflow-x-auto"},Lr={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},Hr={class:"w-full table-auto"},Vr={class:"px-4 py-3 text-sm font-medium text-gray-800 dark:text-white/90"},zr={class:"flex items-center gap-2"},Ar={key:1,class:"inline-flex items-center gap-2"},Fr={key:2},Er={class:"px-4 py-3 text-right text-sm font-semibold text-green-600 dark:text-green-400"},Ir={class:"px-4 py-3 text-right text-sm text-orange-600 dark:text-orange-400"},Xr={class:"px-4 py-3 text-right text-sm text-purple-600 dark:text-purple-400"},qr={key:0,class:"border-b border-gray-100 bg-blue-50/30 dark:border-gray-800 dark:bg-blue-900/5"},Or={colspan:"6",class:"px-4 py-4"},Kr={class:"ml-8 space-y-4"},Nr={key:0},Ur={class:"space-y-1"},Wr={class:"text-gray-700 dark:text-gray-300"},Yr={class:"font-semibold text-green-600 dark:text-green-400"},Gr={key:1},Jr={class:"space-y-1"},Zr={class:"text-gray-700 dark:text-gray-300"},Qr={class:"font-semibold text-orange-600 dark:text-orange-400"},en={key:2},tn={class:"space-y-1"},an={class:"text-gray-700 dark:text-gray-300"},rn={class:"font-semibold text-purple-600 dark:text-purple-400"},nn={key:3,class:"text-sm text-gray-500 dark:text-gray-500"},sn={key:0},on={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},ln={class:"mb-4 flex gap-2 border-b border-gray-200 dark:border-gray-700"},dn=["onClick"],un={class:"relative overflow-x-auto"},gn={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},cn={class:"w-full table-auto"},pn={class:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300"},bn={class:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300"},xn={class:"px-4 py-3"},kn={class:"px-4 py-3 text-right text-sm font-semibold text-green-600 dark:text-green-400"},mn={class:"px-4 py-3 text-right text-sm font-semibold text-red-600 dark:text-red-400"},yn={class:"px-4 py-3 text-right text-sm font-medium text-gray-800 dark:text-white/90"},vn={key:0},hn={key:0,class:"mt-4 flex items-center justify-between"},fn={class:"text-sm text-gray-600 dark:text-gray-400"},wn={class:"flex gap-2"},_n=["disabled"],jn=["disabled"],Mn={key:1,role:"tabpanel",id:"tabpanel-mitra","aria-labelledby":"tab-mitra"},Cn={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},Bn={class:"flex gap-4"},Sn={class:"flex-1"},Tn={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Pn={class:"mb-4 flex items-center justify-between"},Dn=["onClick"],Rn={class:"mb-2 text-lg font-semibold text-gray-800 dark:text-white/90"},$n={class:"mb-3 text-sm text-gray-600 dark:text-gray-400"},Ln={class:"flex items-center justify-between"},Hn={class:"text-base font-semibold text-gray-800 dark:text-white/90"},Vn={class:"text-base font-semibold text-gray-800 dark:text-white/90"},zn={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},An={class:"text-lg font-medium text-gray-600 dark:text-gray-400"},Fn={key:0,class:"mt-2 text-sm text-gray-500 dark:text-gray-500"},En={key:1,class:"mt-6 flex items-center justify-between"},In={class:"text-sm text-gray-600 dark:text-gray-400"},Xn={class:"flex gap-2"},qn=["disabled"],On={class:"flex gap-1"},Kn=["onClick"],Nn=["disabled"],Un={class:"space-y-4"},Wn={class:"grid grid-cols-2 gap-4"},Yn={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Gn={class:"flex justify-end gap-2"},Jn=["disabled"],Zn=Ze({__name:"LaporanKeuangan",setup(ce){const P=ht(),M=ft(),D=wt(),{can:J}=jt();c(()=>P.meta.title||"Laporan Keuangan");const Qe=r=>r?new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",et=[{id:"balance",label:"Balance",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5z" />
    </svg>
  `}},{id:"mitra",label:"Mitra",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
    </svg>
  `}}],Se=["balance","mitra"],Te=P.query.tab,C=i(Se.includes(Te)?Te:"balance");z(()=>P.query.tab,r=>{r&&Se.includes(r)&&(C.value=r)}),i("");const Pe=i(""),De=i(""),Re=i(""),$e=i(""),H=i(""),pe=i(1),b=i("2020-01-01"),x=i(new Date().toISOString().split("T")[0]);i(!1);const O=i({saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0}),B=i([]),p=i({current_page:1,last_page:1,per_page:20,total:0}),tt={mode:"range",dateFormat:"Y-m-d",altInput:!0,altFormat:"d/m/Y",wrap:!1},F=i([b.value,x.value]);let be=null;const Le=(r=400)=>{be&&clearTimeout(be),be=setTimeout(()=>{p.value.current_page=1,I(1),ie(),_e(),je(),ye()},r)};z(F,r=>{if(Array.isArray(r))b.value=r[0]||b.value,x.value=r[1]||x.value;else if(typeof r=="string"){const t=r.split(" to ");b.value=t[0]||b.value,x.value=t[1]||x.value}Le()});const He=i([]),Ve=i([]),v=i(""),h=i(""),ze=i(""),Ae=i(""),at=c(()=>{const r=He.value.map(t=>({value:String(t.id),label:t.nama_program||t.name||t.nama}));return[{value:"",label:"Semua Program"},...r]}),rt=c(()=>{const r=Ve.value.map(t=>({value:String(t.id),label:t.nama||t.name}));return[{value:"",label:"Semua Kantor Cabang"},...r]});z([v,h],()=>{Le()});const f=i({pengajuan_dana:0,pengajuan_dana_percentage:0,penyaluran:0,penyaluran_percentage:0}),E=i([]),Z=i(!1),Q=i(!1),K=i(null),j=i({total:0,breakdown:[]}),ee=i(!1),$=i([]),N=i(null),te=i(!1),xe=i([]),ae=i(!1),Fe=c(()=>xe.value.filter(r=>!r.label.toLowerCase().includes("keseluruhan transaksi"))),R=c(()=>xe.value.find(r=>r.label.toLowerCase().includes("keseluruhan transaksi"))),Ee=[{value:"all",label:"Semua"},{value:"masuk",label:"Pemasukan"},{value:"pengajuan_dana",label:"Pengajuan Dana"},{value:"penyaluran",label:"Penyaluran"}],U=i("all");z(U,()=>{Z.value=!0,p.value.current_page=1,setTimeout(()=>{Z.value=!1},300)});const re=c(()=>{if(!B.value)return[];switch(U.value){case"masuk":return B.value.filter(r=>r.masuk>0);case"pengajuan_dana":return B.value.filter(r=>r.keluar>0&&r.keterangan.toLowerCase().includes("pengajuan"));case"penyaluran":return B.value.filter(r=>r.keluar>0&&r.keterangan.toLowerCase().includes("penyalur"));default:return B.value}}),nt=c(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"donut"},colors:["#f97316","#a855f7","#06b6d4"],labels:["Pengajuan Dana","Penyaluran","Selisih"],legend:{position:"bottom",labels:{colors:"#6B7280"}},dataLabels:{enabled:!0,formatter:function(r){return r.toFixed(1)+"%"}},plotOptions:{pie:{donut:{size:"70%",labels:{show:!0,name:{show:!0,fontSize:"14px",fontWeight:600,color:"#374151"},value:{show:!0,fontSize:"24px",fontWeight:700,color:"#1F2937",formatter:function(r){return d(parseFloat(r))}},total:{show:!0,label:"Pengajuan Dana",fontSize:"14px",fontWeight:600,color:"#6B7280",formatter:function(r){const t=r.globals.seriesTotals[0]||0;return d(t)}}}}}}})),st=c(()=>{const r=f.value.pengajuan_dana||0,t=f.value.penyaluran||0,a=Math.max(0,r-t);return[r,t,a]}),ot=r=>{const t=["#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#6366f1","#14b8a6","#f97316","#8b5cf6","#06b6d4"],a=[];for(let o=0;o<r;o++)a.push(t[o%t.length]);return a},ke=r=>{const t=[{container:"border-purple-200 bg-purple-50 dark:border-purple-500/20 dark:bg-purple-500/10",icon:"bg-purple-200 text-purple-700 dark:bg-purple-500/20 dark:text-purple-400",text:"text-purple-700 dark:text-purple-400"},{container:"border-blue-200 bg-blue-50 dark:border-blue-500/20 dark:bg-blue-500/10",icon:"bg-blue-200 text-blue-700 dark:bg-blue-500/20 dark:text-blue-400",text:"text-blue-700 dark:text-blue-400"},{container:"border-green-200 bg-green-50 dark:border-green-500/20 dark:bg-green-500/10",icon:"bg-green-200 text-green-700 dark:bg-green-500/20 dark:text-green-400",text:"text-green-700 dark:text-green-400"},{container:"border-orange-200 bg-orange-50 dark:border-orange-500/20 dark:bg-orange-500/10",icon:"bg-orange-200 text-orange-700 dark:bg-orange-500/20 dark:text-orange-400",text:"text-orange-700 dark:text-orange-400"},{container:"border-pink-200 bg-pink-50 dark:border-pink-500/20 dark:bg-pink-500/10",icon:"bg-pink-200 text-pink-700 dark:bg-pink-500/20 dark:text-pink-400",text:"text-pink-700 dark:text-pink-400"},{container:"border-indigo-200 bg-indigo-50 dark:border-indigo-500/20 dark:bg-indigo-500/10",icon:"bg-indigo-200 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400",text:"text-indigo-700 dark:text-indigo-400"}];return t[r%t.length]},lt=c(()=>{const r=j.value.breakdown.length,t=ot(r);return{chart:{fontFamily:"Outfit, sans-serif",type:"bar",toolbar:{show:!1}},colors:t,plotOptions:{bar:{horizontal:!0,barHeight:"70%",distributed:!0}},dataLabels:{enabled:!0,formatter:function(a,o){return t[o.dataPointIndex],d(a)},offsetX:10,style:{fontSize:"12px"}},xaxis:{categories:j.value.breakdown.map(a=>a.alias),labels:{style:{colors:"#6B7280"},formatter:function(a){return d(a)}}},yaxis:{labels:{style:{colors:"#6B7280"}}},legend:{show:!1},tooltip:{y:{formatter:function(a,o){const u=j.value.breakdown[o.dataPointIndex];return`${d(a)} (${u.percentage}% • ${u.count} transaksi)`}}},grid:{borderColor:"#e5e7eb"}}}),dt=c(()=>[{name:"Jumlah Penyaluran",data:j.value.breakdown.map(r=>r.amount)}]);i(!1);const ne=i("all");c(()=>ne.value==="masuk"?"Pemasukan":ne.value==="keluar"?"Pengeluaran":"Semua"),c(()=>B.value?ne.value==="masuk"?B.value.filter(r=>r.masuk>0):ne.value==="keluar"?B.value.filter(r=>r.keluar>0):B.value:[]),i(null),c(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"radialBar"},colors:["#10b981","#ef4444"],plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"70%"},track:{background:"#E4E7EC",strokeWidth:"100%",margin:5},dataLabels:{name:{show:!1},value:{fontSize:"24px",fontWeight:"600",offsetY:0,color:"#1D2939",formatter:function(r){return r.toFixed(1)+"%"}}}}},fill:{type:"solid"},stroke:{lineCap:"round"},labels:["Pemasukan"]}));const me=c(()=>{const r=O.value.totalMasuk||0,t=O.value.totalKeluar||0,a=r+t;return a===0?0:r/a*100});c(()=>me.value.toFixed(2)),c(()=>(100-me.value).toFixed(2)),c(()=>[me.value]);const I=async(r=1)=>{try{console.log("fetchBalanceData start",{start:b.value,end:x.value,program:v.value,kantor:h.value,page:r}),p.value.current_page=r;const t=new URLSearchParams;t.append("start",b.value),t.append("end",x.value),t.append("page",String(r)),t.append("per_page",String(p.value.per_page||20)),v.value&&t.append("program_id",v.value),h.value&&t.append("kantor_cabang_id",h.value);const a=await fetch(`/admin/api/laporan/keuangan?${t.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok){console.error("Error fetching laporan keuangan",a.status);return}const o=await a.json();if(console.log("fetchBalanceData json",o),!o.success){console.error("API returned error",o.message);return}const u=o.data;O.value=u.totals||{saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0},B.value=u.transactions||[],p.value={...u.pagination||{},per_page:u.pagination&&u.pagination.per_page||20},u.breakdown&&(f.value={pengajuan_dana:u.breakdown.pengajuan_dana||0,pengajuan_dana_percentage:u.breakdown.pengajuan_percentage||0,penyaluran:u.breakdown.penyaluran||0,penyaluran_percentage:u.breakdown.penyaluran_percentage||0},console.log("Balance breakdown loaded:",{pengajuan_dana:f.value.pengajuan_dana,pengajuan_percentage:f.value.pengajuan_dana_percentage,penyaluran:f.value.penyaluran,penyaluran_percentage:f.value.penyaluran_percentage})),await ie()}catch(t){console.error("Exception fetching laporan keuangan",t)}};i([]);const ye=async()=>{ae.value=!0;try{const r=new URLSearchParams;r.append("start",b.value),r.append("end",x.value),v.value&&r.append("program_id",v.value),h.value&&r.append("kantor_cabang_id",h.value);const t=await fetch(`/admin/api/laporan/keuangan/allocation-summary?${r.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const a=await t.json();a.success&&(xe.value=a.data||[])}catch(r){console.error("Error fetching allocation summary",r)}finally{ae.value=!1}},ve=i([]),Ie=i(0),he=i(!1),se=i(!1),V=i(null),oe=i(null),le=i(!1),w=i({bank_name:"",account_number:"",account_name:"",balance:0}),de=async()=>{try{const r=await fetch("/admin/api/bank-accounts",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!r.ok)return;const t=await r.json();if(t.success){const a=t.data||[];a.sort((o,u)=>(o.created_at||"").localeCompare(u.created_at||"")),ve.value=a,Ie.value=t.total_balance||0}}catch(r){console.error("Error fetching bank accounts",r)}},fe=(r=null)=>{r?(V.value=r.id,w.value={bank_name:r.bank_name,account_number:r.account_number,account_name:r.account_name,balance:Number(r.balance)}):(V.value=null,w.value={bank_name:"",account_number:"",account_name:"",balance:0}),he.value=!0},we=()=>{he.value=!1,V.value=null},it=async()=>{if(!w.value.bank_name||w.value.balance===""){D.error("Nama Bank dan Saldo wajib diisi");return}le.value=!0;try{const r=V.value?`/admin/api/bank-accounts/${V.value}`:"/admin/api/bank-accounts",t=V.value?"PUT":"POST",a=await Ge(),u=await(await fetch(r,{method:t,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":a},credentials:"same-origin",body:JSON.stringify(w.value)})).json();u.success?(D.success(u.message),we(),de()):D.error(u.message||"Gagal menyimpan rekening")}catch(r){console.error("Error saving bank",r),D.error("Terjadi kesalahan sistem")}finally{le.value=!1}},ut=r=>{oe.value=r.id,se.value=!0},gt=async()=>{if(oe.value)try{const r=await Ge(),a=await(await fetch(`/admin/api/bank-accounts/${oe.value}`,{method:"DELETE",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":r},credentials:"same-origin"})).json();a.success?(D.success(a.message),se.value=!1,oe.value=null,de()):D.error(a.message||"Gagal menghapus rekening")}catch(r){console.error(r),D.error("Gagal menghapus rekening")}},ie=async()=>{try{Q.value=!0;const r=new URLSearchParams;r.append("start",b.value),r.append("end",x.value),v.value&&r.append("program_id",v.value),h.value&&r.append("kantor_cabang_id",h.value);const t=await fetch(`/admin/api/laporan/keuangan/program-breakdown?${r.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok){console.error("Program breakdown fetch failed:",t.status,t.statusText);return}const a=await t.json();console.log("Program breakdown response:",a),a.success&&(E.value=a.data||[],console.log("Program breakdown data loaded:",E.value.length,"items"))}catch(r){console.error("Error fetching program breakdown",r)}finally{Q.value=!1}},_e=async()=>{try{ee.value=!0;const r=new URLSearchParams;r.append("start",b.value),r.append("end",x.value),v.value&&r.append("program_id",v.value),h.value&&r.append("kantor_cabang_id",h.value);const t=await fetch(`/admin/api/laporan/keuangan/penyaluran-by-alias?${r.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const a=await t.json();a.success&&(j.value=a.data||{total:0,breakdown:[]})}catch(r){console.error("Error fetching penyaluran by alias",r)}finally{ee.value=!1}},je=async()=>{try{te.value=!0;const r=new URLSearchParams;r.append("start",b.value),r.append("end",x.value),v.value&&r.append("program_id",v.value),h.value&&r.append("kantor_cabang_id",h.value);const t=await fetch(`/admin/api/laporan/keuangan/expense-type-breakdown?${r.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const a=await t.json();a.success&&($.value=a.data||[])}catch(r){console.error("Error fetching expense type breakdown",r)}finally{te.value=!1}},ct=()=>{const r=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],t=new Date().toISOString().split("T")[0];b.value=r,x.value=t,F.value=[r,t],v.value="",h.value="",p.value.current_page=1,I(1)},Xe=async()=>{var r,t;try{const a=await fetch("/admin/api/program?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)return;const o=await a.json();o.success&&(He.value=o.data||((r=o.data)==null?void 0:r.data)||((t=o.data)==null?void 0:t.items)||[])}catch(a){console.error("Error fetching programs",a)}},qe=async()=>{var r,t;try{const a=await fetch("/admin/api/kantor-cabang?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)return;const o=await a.json();o.success&&(Ve.value=o.data||((r=o.data)==null?void 0:r.data)||((t=o.data)==null?void 0:t.items)||[])}catch(a){console.error("Error fetching kantor cabang",a)}};z(C,r=>{r==="balance"&&(F.value=[b.value,x.value],I(1),Xe(),qe(),ie(),_e(),je(),ye(),de())}),Ue(()=>{C.value==="balance"&&(F.value=[b.value,x.value],I(1),Xe(),qe(),ie(),_e(),je(),ye(),de())});const pt=()=>{const r=E.value.map(u=>({Program:u.nama,"Dana Siap Salur":d(u.pemasukan||0),"Pengajuan Dana":d(u.pengajuan_dana||0),Penyaluran:d(u.penyaluran||0),Selisih:d(u.selisih||0),Saldo:d(u.saldo||0)})),t=q.json_to_sheet(r),a=q.book_new();q.book_append_sheet(a,t,"Breakdown Program");const o=`Breakdown_Program_${b.value}_${x.value}.xlsx`;Ye(a,o)},bt=()=>{var S;const r=re.value.map(T=>({Tanggal:T.tanggal,Keterangan:T.keterangan,Tipe:T.masuk>0?"Pemasukan":"Pengeluaran",Masuk:T.masuk>0?d(T.masuk):"-",Keluar:T.keluar>0?d(T.keluar):"-",Saldo:d(T.saldo)})),t=q.json_to_sheet(r),a=q.book_new();q.book_append_sheet(a,t,"Detail Transaksi");const u=`Transaksi_${((S=Ee.find(T=>T.value===U.value))==null?void 0:S.label)||"Semua"}_${b.value}_${x.value}.xlsx`;Ye(a,u)},d=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r);c(()=>{let r=[...xt];if(Pe.value&&(r=r.filter(t=>{const a=new Date(t.tanggal),o=new Date(Pe.value);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()&&a.getDate()===o.getDate()})),De.value){const t=De.value.toLowerCase();r=r.filter(a=>a.keterangan.toLowerCase().includes(t))}if(Re.value){const t=parseFloat(Re.value);isNaN(t)||(r=r.filter(a=>a.masuk>=t))}if($e.value){const t=parseFloat($e.value);isNaN(t)||(r=r.filter(a=>a.keluar>=t))}return r});const xt=[{id:"1",tanggal:"2024-01-15",keterangan:"Donasi dari PT ABC",masuk:5e7,keluar:0,saldo:5e7},{id:"2",tanggal:"2024-01-16",keterangan:"Pembayaran gaji karyawan",masuk:0,keluar:25e6,saldo:25e6},{id:"3",tanggal:"2024-01-17",keterangan:"Donasi online",masuk:1e7,keluar:0,saldo:35e6},{id:"4",tanggal:"2024-01-18",keterangan:"Biaya operasional",masuk:0,keluar:5e6,saldo:3e7},{id:"5",tanggal:"2024-01-19",keterangan:"Zakat dari donatur",masuk:75e6,keluar:0,saldo:105e6},{id:"6",tanggal:"2024-01-20",keterangan:"Penyaluran ke program pendidikan",masuk:0,keluar:3e7,saldo:75e6},{id:"7",tanggal:"2024-01-21",keterangan:"Donasi dari Yayasan XYZ",masuk:1e8,keluar:0,saldo:175e6},{id:"8",tanggal:"2024-01-22",keterangan:"Biaya administrasi",masuk:0,keluar:2e6,saldo:173e6}],ue=i([]),k=i({current_page:1,last_page:1,per_page:12,total:0}),Oe=i(!1),W=async(r=1)=>{try{Oe.value=!0;const t=new URLSearchParams;t.append("page",String(r)),t.append("per_page",String(k.value.per_page||12)),H.value&&t.append("search",H.value);const a=await fetch(`/admin/api/laporan/mitra?${t.toString()}`,{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)return;const o=await a.json();if(!o.success)return;ue.value=o.data||[],k.value={...o.pagination||{},per_page:k.value.per_page}}catch(t){console.error("Error fetching mitra list",t)}finally{Oe.value=!1}};let Me=null;z(H,()=>{Me&&clearTimeout(Me),Me=setTimeout(()=>W(1),400)});const Ce=c(()=>Math.ceil(k.value.total/k.value.per_page)),Ke=c(()=>(k.value.current_page-1)*k.value.per_page),kt=c(()=>Math.min(Ke.value+k.value.per_page,k.value.total));z(C,r=>{r==="mitra"&&W(1)}),Ue(()=>{C.value==="mitra"&&W(1)});const mt=r=>{M.push(`/laporan/detail-mitra/${r}`)};return(r,t)=>(s(),ge(Ct,null,{default:Be(()=>[e("div",Ht,[t[81]||(t[81]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"mb-2 text-3xl font-bold text-gray-800 dark:text-white/90 sm:text-4xl"}," Laporan Keuangan "),e("p",{class:"text-lg text-gray-600 dark:text-gray-400"}," Ringkasan dan detail keuangan organisasi ")],-1)),e("div",Vt,[(s(),l(m,null,_(et,a=>e("button",{key:a.id,role:"tab","aria-selected":C.value===a.id,"aria-controls":`tabpanel-${a.id}`,id:`tab-${a.id}`,onClick:o=>C.value=a.id,class:y(["flex items-center gap-2 rounded-t-lg px-6 py-3 text-sm font-medium transition-all duration-200",C.value===a.id?"border-b-2 border-brand-500 bg-brand-50 text-brand-600 dark:bg-brand-500/10 dark:text-brand-400":"text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},[(s(),ge(_t(a.icon),{class:"h-5 w-5"})),e("span",null,n(a.label),1)],10,zt)),64))]),e("div",At,[C.value==="balance"?(s(),l("div",Ft,[e("div",Et,[e("div",It,[e("div",Xt,[t[18]||(t[18]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Rentang Tanggal",-1)),X(A(Mt),{modelValue:F.value,"onUpdate:modelValue":t[0]||(t[0]=a=>F.value=a),config:tt,class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:border-brand-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90",placeholder:"Pilih rentang tanggal"},null,8,["modelValue"])]),e("div",qt,[t[19]||(t[19]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Program",-1)),X(Je,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=a=>v.value=a),options:at.value,placeholder:"Semua Program","search-input":ze.value,"onUpdate:searchInput":t[2]||(t[2]=a=>ze.value=a)},null,8,["modelValue","options","search-input"])]),e("div",Ot,[t[20]||(t[20]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Kantor Cabang",-1)),X(Je,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=a=>h.value=a),options:rt.value,placeholder:"Semua Kantor Cabang","search-input":Ae.value,"onUpdate:searchInput":t[4]||(t[4]=a=>Ae.value=a)},null,8,["modelValue","options","search-input"])]),e("div",{class:"md:col-span-2 flex items-end justify-end"},[e("button",{onClick:ct,class:"h-11 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-white/[0.03]"}," Reset ")])])]),e("div",Kt,[e("div",Nt,[e("div",Ut,[e("div",null,[t[21]||(t[21]=e("p",{class:"mb-1 text-sm font-medium text-white/80"},"Total Pemasukan",-1)),e("h3",Wt,n(d(O.value.totalMasuk||0)),1)]),t[22]||(t[22]=e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-white/20"},[e("svg",{class:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1))])]),e("div",Yt,[e("div",Gt,[e("div",null,[t[23]||(t[23]=e("p",{class:"mb-1 text-sm font-medium text-white/80"},"Total Pengeluaran",-1)),e("h3",Jt,n(d(O.value.totalKeluar||0)),1)]),t[24]||(t[24]=e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-white/20"},[e("svg",{class:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})])],-1))])])]),e("div",Zt,[t[29]||(t[29]=e("div",{class:"mb-4 flex items-center justify-between"},[e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Ringkasan Alokasi")],-1)),e("div",Qt,[ae.value?(s(),l("div",ea,[...t[25]||(t[25]=[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data alokasi...")],-1)])])):g("",!0),e("table",ta,[t[28]||(t[28]=e("thead",null,[e("tr",{class:"border-b border-gray-200 text-left text-sm font-semibold text-gray-600 dark:border-gray-700 dark:text-gray-400"},[e("th",{class:"px-4 py-3"},"Kategori"),e("th",{class:"px-4 py-3"},"Alias"),e("th",{class:"px-4 py-3 text-right"},"Dana Siap Salur"),e("th",{class:"px-4 py-3 text-right"},"Penyaluran"),e("th",{class:"px-4 py-3 text-right"},"Saldo")])],-1)),e("tbody",null,[(s(!0),l(m,null,_(Fe.value,(a,o)=>(s(),l("tr",{key:`alloc-${o}`,class:"border-b border-gray-100 hover:bg-gray-50 dark:border-gray-800 dark:hover:bg-white/[0.02]"},[e("td",aa,n(a.label),1),e("td",ra,n(a.alias_code||"-"),1),e("td",{class:y(["px-4 py-3 text-right text-sm font-bold",a.label.includes("Sisa")?"text-brand-600 dark:text-brand-400":"text-gray-800 dark:text-white/90"])},n(d(a.value)),3),e("td",na,n(d(a.penyaluran||0)),1),e("td",{class:y(["px-4 py-3 text-right text-sm font-bold",a.value-(a.penyaluran||0)>=0?"text-brand-600 dark:text-brand-400":"text-red-600 dark:text-red-400"])},n(d(a.value-(a.penyaluran||0))),3)]))),128)),Fe.value.length===0&&!R.value&&!ae.value?(s(),l("tr",sa,[...t[26]||(t[26]=[e("td",{colspan:"5",class:"px-4 py-12 text-center text-gray-500"},"Tidak ada data alokasi",-1)])])):g("",!0)]),R.value?(s(),l("tfoot",oa,[e("tr",la,[e("td",da,n(R.value.label),1),t[27]||(t[27]=e("td",{class:"px-4 py-4"},null,-1)),e("td",ia,n(d(R.value.value)),1),e("td",ua,n(d(R.value.penyaluran||0)),1),e("td",{class:y(["px-4 py-4 text-right text-lg font-bold",R.value.value-(R.value.penyaluran||0)>=0?"text-brand-600 dark:text-brand-400":"text-red-600 dark:text-red-400"])},n(d(R.value.value-(R.value.penyaluran||0))),3)])])):g("",!0)])])]),e("div",ga,[e("div",ca,[e("div",pa,[e("div",null,[t[30]||(t[30]=e("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"},"Pengajuan Dana",-1)),e("p",ba,n(d(f.value.pengajuan_dana||0)),1)]),t[31]||(t[31]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-100 dark:bg-orange-500/10"},[e("svg",{class:"h-6 w-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),e("div",xa,[e("div",ka,[e("div",null,[t[32]||(t[32]=e("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"},"Penyaluran",-1)),e("p",ma,n(d(f.value.penyaluran||0)),1)]),t[33]||(t[33]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100 dark:bg-purple-500/10"},[e("svg",{class:"h-6 w-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])])]),e("div",ya,[e("div",va,[t[34]||(t[34]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"},"Breakdown Pengeluaran",-1)),e("div",ha,[X(A(We),{type:"donut",height:"280",options:nt.value,series:st.value},null,8,["options","series"])])]),e("div",fa,[t[39]||(t[39]=e("h3",{class:"mb-4 text-lg font-semibold text-white/90"},"Detail Breakdown",-1)),e("div",wa,[e("div",null,[t[35]||(t[35]=e("p",{class:"text-sm text-white/80"},"Selisih Dana Belum Tersalurkan",-1)),e("p",_a,n(d(Math.max(0,(f.value.pengajuan_dana||0)-(f.value.penyaluran||0)))),1)]),e("div",ja,[e("div",Ma,[t[36]||(t[36]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-3 w-3 rounded-full bg-orange-300"}),e("p",{class:"text-xs text-white/70"},"Pengajuan Dana")],-1)),e("p",Ca,n(d(f.value.pengajuan_dana||0)),1)]),e("div",Ba,[t[37]||(t[37]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-3 w-3 rounded-full bg-purple-300"}),e("p",{class:"text-xs text-white/70"},"Penyaluran")],-1)),e("p",Sa,n(d(f.value.penyaluran||0)),1)]),e("div",Ta,[t[38]||(t[38]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"h-3 w-3 rounded-full bg-cyan-300"}),e("p",{class:"text-xs text-white/70"},"Selisih")],-1)),e("p",Pa,n(d(Math.max(0,(f.value.pengajuan_dana||0)-(f.value.penyaluran||0)))),1)])])])])]),e("div",Da,[e("div",Ra,[e("div",null,[t[41]||(t[41]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Rekening Bank (Saldo Aktual)",-1)),e("p",$a,[t[40]||(t[40]=L("Total Saldo: ",-1)),e("span",La,n(d(Ie.value)),1)])]),A(J)("create laporan keuangan")?(s(),l("button",{key:0,onClick:t[5]||(t[5]=a=>fe()),class:"rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 transition-colors"}," + Tambah Rekening ")):g("",!0)]),e("div",Ha,[(s(!0),l(m,null,_(ve.value,a=>(s(),l("div",{key:a.id,class:"relative group rounded-lg border border-gray-200 bg-gray-50 p-4 transition-all hover:-translate-y-1 hover:shadow-md dark:border-gray-700 dark:bg-gray-800/50"},[e("div",Va,[A(J)("update laporan keuangan")?(s(),l("button",{key:0,onClick:o=>fe(a),class:"text-gray-500 hover:text-blue-500",title:"Edit"},[...t[42]||(t[42]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,za)):g("",!0),A(J)("delete laporan keuangan")?(s(),l("button",{key:1,onClick:o=>ut(a),class:"text-gray-500 hover:text-red-500",title:"Hapus"},[...t[43]||(t[43]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Aa)):g("",!0)]),e("div",Fa,[t[44]||(t[44]=e("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})])],-1)),e("div",null,[e("h4",Ea,n(a.bank_name),1),e("p",Ia,n(a.account_number),1)])]),e("div",Xa,[e("div",null,[t[45]||(t[45]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-0.5"},"Saldo Aktual",-1)),e("p",qa,n(d(a.balance)),1)]),a.account_name?(s(),l("div",Oa,[t[46]||(t[46]=e("p",{class:"text-[10px] text-gray-400 uppercase tracking-wider"},"A.N",-1)),e("p",{class:"text-xs font-medium text-gray-600 dark:text-gray-300 max-w-[100px] truncate",title:a.account_name},n(a.account_name),9,Ka)])):g("",!0)])]))),128)),ve.value.length===0?(s(),l("div",Na,[t[47]||(t[47]=e("p",null,"Belum ada data rekening bank.",-1)),A(J)("create laporan keuangan")?(s(),l("button",{key:0,onClick:t[6]||(t[6]=a=>fe()),class:"mt-2 text-sm font-medium text-brand-500 hover:text-brand-600 hover:underline"},"Tambah Rekening Baru")):g("",!0)])):g("",!0)])]),e("div",Ua,[e("div",Wa,[t[49]||(t[49]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Breakdown per Tipe Penyaluran",-1)),e("div",Ya,[t[48]||(t[48]=L(" Total: ",-1)),e("span",Ga,n(d(j.value.total||0)),1)])]),j.value.breakdown&&j.value.breakdown.length>0?(s(),l("div",Ja,[(s(!0),l(m,null,_(j.value.breakdown,(a,o)=>(s(),l("div",{key:o,class:y(["rounded-lg border p-4",ke(o).container])},[e("div",Za,[e("div",Qa,[e("div",er,[e("span",{class:y(["flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold",ke(o).icon])},n(o+1),3),e("p",tr,n(a.alias),1)]),e("p",{class:y(["text-lg font-bold",ke(o).text])},n(d(a.amount)),3),e("p",ar,n(a.percentage)+"% • "+n(a.count)+" transaksi ",1)])])],2))),128))])):g("",!0),e("div",rr,[ee.value?(s(),l("div",nr,[...t[50]||(t[50]=[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data kategori...")],-1)])])):g("",!0),j.value.breakdown&&j.value.breakdown.length>0?(s(),ge(A(We),{key:1,type:"bar",height:"300",options:lt.value,series:dt.value},null,8,["options","series"])):g("",!0),!j.value.breakdown||j.value.breakdown.length===0&&!ee.value?(s(),l("div",sr,[...t[51]||(t[51]=[e("div",{class:"flex flex-col items-center justify-center gap-3"},[e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Tidak ada data penyaluran"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Belum ada penyaluran untuk periode ini")],-1)])])):g("",!0)]),e("div",or,[t[58]||(t[58]=e("h4",{class:"mb-4 text-base font-semibold text-gray-800 dark:text-white/90"}," Detail Breakdown per Tipe Penyaluran ",-1)),e("div",lr,[te.value?(s(),l("div",dr,[...t[52]||(t[52]=[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat detail breakdown...")],-1)])])):g("",!0),$.value&&$.value.length>0?(s(),l("table",ir,[t[56]||(t[56]=e("thead",null,[e("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[e("th",{class:"pb-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-300"},"Nama Penyaluran"),e("th",{class:"pb-3 text-right text-sm font-semibold text-gray-700 dark:text-gray-300"},"Pengajuan Dana"),e("th",{class:"pb-3 text-right text-sm font-semibold text-gray-700 dark:text-gray-300"},"Penyaluran")])],-1)),e("tbody",null,[(s(!0),l(m,null,_($.value,(a,o)=>{var u;return s(),l(m,{key:o},[e("tr",{class:y(["border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/[0.02]",{"bg-blue-50/50 dark:bg-blue-900/10":N.value===a.submission_type}])},[e("td",ur,[e("div",gr,[e("button",{onClick:S=>N.value=N.value===a.submission_type?null:a.submission_type,class:"flex h-6 w-6 items-center justify-center rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[(s(),l("svg",{class:y(["h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform",{"rotate-90":N.value===a.submission_type}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[53]||(t[53]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))],8,cr),L(" "+n(a.alias),1)])]),e("td",pr,n(d(a.pengajuan_dana)),1),e("td",br,n(d(a.penyaluran)),1)],2),N.value===a.submission_type?(s(),l("tr",xr,[e("td",kr,[e("div",mr,[e("h5",yr," Detail Penyaluran ("+n(((u=a.details)==null?void 0:u.length)||0)+") ",1),!a.details||a.details.length===0?(s(),l("div",vr," Tidak ada detail penyaluran ")):(s(),l("table",hr,[t[54]||(t[54]=e("thead",{class:"bg-gray-50 text-xs uppercase text-gray-500 dark:bg-gray-800 dark:text-gray-400"},[e("tr",null,[e("th",{class:"px-4 py-2"},"Tanggal"),e("th",{class:"px-4 py-2"},"Keterangan"),e("th",{class:"px-4 py-2"},"Penerima"),e("th",{class:"px-4 py-2 text-right"},"Nominal")])],-1)),e("tbody",fr,[(s(!0),l(m,null,_(a.details,S=>(s(),l("tr",{key:S.id},[e("td",wr,n(Qe(S.created_at)),1),e("td",_r,n(S.program_name||S.report||"-"),1),e("td",jr,n(S.pic||"-"),1),e("td",Mr,n(d(S.amount)),1)]))),128))])]))])])])):g("",!0)],64)}),128))]),e("tfoot",null,[e("tr",Cr,[t[55]||(t[55]=e("td",{class:"pt-3 text-sm font-bold text-gray-800 dark:text-white/90"},"Total",-1)),e("td",Br,n(d($.value.reduce((a,o)=>a+o.pengajuan_dana,0))),1),e("td",Sr,n(d($.value.reduce((a,o)=>a+o.penyaluran,0))),1)])])])):g("",!0),!$.value||$.value.length===0&&!te.value?(s(),l("div",Tr,[...t[57]||(t[57]=[e("div",{class:"flex flex-col items-center justify-center gap-3"},[e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Tidak ada data breakdown"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Belum ada data untuk periode ini")],-1)])])):g("",!0)])])]),e("div",Pr,[e("div",Dr,[t[60]||(t[60]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Breakdown Inflow - Penyaluran per Program",-1)),e("button",{onClick:pt,disabled:E.value.length===0,class:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed"},[...t[59]||(t[59]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),L(" Export Excel ",-1)])],8,Rr)]),e("div",$r,[Q.value?(s(),l("div",Lr,[...t[61]||(t[61]=[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data program...")],-1)])])):g("",!0),e("table",Hr,[t[69]||(t[69]=e("thead",null,[e("tr",{class:"border-b border-gray-200 text-left text-sm font-semibold text-gray-600 dark:border-gray-700 dark:text-gray-400"},[e("th",{class:"px-4 py-3"},"Program"),e("th",{class:"px-4 py-3 text-right"},"Dana Siap Salur"),e("th",{class:"px-4 py-3 text-right"},"Pengajuan Dana"),e("th",{class:"px-4 py-3 text-right"},"Penyaluran"),e("th",{class:"px-4 py-3 text-right"},"Selisih"),e("th",{class:"px-4 py-3 text-right"},"Saldo")])],-1)),e("tbody",null,[(s(!0),l(m,null,_(E.value,a=>(s(),l(m,{key:a.id||"null-program"},[e("tr",{class:y(["border-b border-gray-100 hover:bg-gray-50 dark:border-gray-800 dark:hover:bg-white/[0.02]",{"bg-blue-50/50 dark:bg-blue-900/10":K.value===(a.id||"null")}])},[e("td",Vr,[e("div",zr,[a.id===null&&a.breakdown?(s(),l("button",{key:0,onClick:t[7]||(t[7]=o=>K.value=K.value==="null"?null:"null"),class:"flex h-6 w-6 items-center justify-center rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[(s(),l("svg",{class:y(["h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform",{"rotate-90":K.value==="null"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[62]||(t[62]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))])):g("",!0),a.id===null?(s(),l("span",Ar,[t[63]||(t[63]=e("svg",{class:"h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),L(" "+n(a.nama),1)])):(s(),l("span",Fr,n(a.nama),1))])]),e("td",Er,n(d(a.pemasukan||0)),1),e("td",Ir,n(d(a.pengajuan_dana||0)),1),e("td",Xr,n(d(a.penyaluran||0)),1),e("td",{class:y(["px-4 py-3 text-right text-sm font-semibold",(a.selisih||0)>=0?"text-cyan-600 dark:text-cyan-400":"text-red-600 dark:text-red-400"])},n(d(a.selisih||0)),3),e("td",{class:y(["px-4 py-3 text-right text-sm font-bold",(a.saldo||0)>=0?"text-brand-600 dark:text-brand-400":"text-red-600 dark:text-red-400"])},n(d(a.saldo||0)),3)],2),a.id===null&&a.breakdown&&K.value==="null"?(s(),l("tr",qr,[e("td",Or,[e("div",Kr,[t[67]||(t[67]=e("div",{class:"text-xs font-semibold uppercase text-gray-600 dark:text-gray-400"},"Detail Breakdown (FIFO)",-1)),a.breakdown.pemasukan&&a.breakdown.pemasukan.length>0?(s(),l("div",Nr,[t[64]||(t[64]=e("div",{class:"mb-2 text-sm font-medium text-green-700 dark:text-green-400"},"Dana Siap Salur dari Program:",-1)),e("div",Ur,[(s(!0),l(m,null,_(a.breakdown.pemasukan,(o,u)=>(s(),l("div",{key:"pemasukan-"+u,class:"flex items-center justify-between rounded bg-white px-3 py-2 text-sm dark:bg-gray-800/50"},[e("span",Wr,n(o.program_nama),1),e("span",Yr,n(d(o.amount)),1)]))),128))])])):g("",!0),a.breakdown.pengajuan_dana&&a.breakdown.pengajuan_dana.length>0?(s(),l("div",Gr,[t[65]||(t[65]=e("div",{class:"mb-2 text-sm font-medium text-orange-700 dark:text-orange-400"},"Pengajuan Dana:",-1)),e("div",Jr,[(s(!0),l(m,null,_(a.breakdown.pengajuan_dana,(o,u)=>(s(),l("div",{key:"pengajuan-"+u,class:"flex items-center justify-between rounded bg-white px-3 py-2 text-sm dark:bg-gray-800/50"},[e("span",Zr,n(o.program_nama),1),e("span",Qr,n(d(o.amount)),1)]))),128))])])):g("",!0),a.breakdown.penyaluran&&a.breakdown.penyaluran.length>0?(s(),l("div",en,[t[66]||(t[66]=e("div",{class:"mb-2 text-sm font-medium text-purple-700 dark:text-purple-400"},"Penyaluran:",-1)),e("div",tn,[(s(!0),l(m,null,_(a.breakdown.penyaluran,(o,u)=>(s(),l("div",{key:"penyaluran-"+u,class:"flex items-center justify-between rounded bg-white px-3 py-2 text-sm dark:bg-gray-800/50"},[e("span",an,n(o.program_nama),1),e("span",rn,n(d(o.amount)),1)]))),128))])])):g("",!0),(!a.breakdown.pemasukan||a.breakdown.pemasukan.length===0)&&(!a.breakdown.pengajuan_dana||a.breakdown.pengajuan_dana.length===0)&&(!a.breakdown.penyaluran||a.breakdown.penyaluran.length===0)?(s(),l("div",nn," Tidak ada detail breakdown untuk periode ini ")):g("",!0)])])])):g("",!0)],64))),128)),E.value.length===0&&!Q.value?(s(),l("tr",sn,[...t[68]||(t[68]=[e("td",{colspan:"6",class:"px-4 py-12 text-center"},[e("div",{class:"flex flex-col items-center justify-center gap-3"},[e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Tidak ada data program"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Belum ada aktivitas keuangan untuk periode ini")])],-1)])])):g("",!0)])])])]),e("div",on,[e("div",{class:"mb-4 flex items-center justify-between"},[t[71]||(t[71]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Detail Transaksi",-1)),e("button",{onClick:bt,class:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600"},[...t[70]||(t[70]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),L(" Export Excel ",-1)])])]),e("div",ln,[(s(),l(m,null,_(Ee,a=>e("button",{key:a.value,onClick:o=>U.value=a.value,class:y(["px-4 py-2 text-sm font-medium transition-colors",U.value===a.value?"border-b-2 border-brand-500 text-brand-600 dark:text-brand-400":"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300"])},n(a.label),11,dn)),64))]),e("div",un,[Z.value?(s(),l("div",gn,[...t[72]||(t[72]=[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data...")],-1)])])):g("",!0),e("table",cn,[t[74]||(t[74]=e("thead",null,[e("tr",{class:"border-b border-gray-200 text-left text-sm font-semibold text-gray-600 dark:border-gray-700 dark:text-gray-400"},[e("th",{class:"px-4 py-3"},"Tanggal"),e("th",{class:"px-4 py-3"},"Keterangan"),e("th",{class:"px-4 py-3"},"Tipe"),e("th",{class:"px-4 py-3 text-right"},"Masuk"),e("th",{class:"px-4 py-3 text-right"},"Keluar"),e("th",{class:"px-4 py-3 text-right"},"Saldo")])],-1)),e("tbody",null,[(s(!0),l(m,null,_(re.value,a=>(s(),l("tr",{key:a.id,class:"border-b border-gray-100 hover:bg-gray-50 dark:border-gray-800 dark:hover:bg-white/[0.02]"},[e("td",pn,n(a.tanggal),1),e("td",bn,n(a.keterangan),1),e("td",xn,[e("span",{class:y(["inline-flex rounded-full px-2 py-1 text-xs font-medium",{"bg-green-100 text-green-700 dark:bg-green-500/10 dark:text-green-400":a.masuk>0,"bg-red-100 text-red-700 dark:bg-red-500/10 dark:text-red-400":a.keluar>0}])},n(a.masuk>0?"Pemasukan":"Pengeluaran"),3)]),e("td",kn,n(a.masuk>0?d(a.masuk):"-"),1),e("td",mn,n(a.keluar>0?d(a.keluar):"-"),1),e("td",yn,n(d(a.saldo)),1)]))),128)),re.value.length===0&&!Z.value?(s(),l("tr",vn,[...t[73]||(t[73]=[e("td",{colspan:"6",class:"px-4 py-12 text-center"},[e("div",{class:"flex flex-col items-center justify-center gap-3"},[e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Tidak ada transaksi"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Belum ada data transaksi untuk filter ini")])],-1)])])):g("",!0)])])]),re.value.length>0?(s(),l("div",hn,[e("div",fn," Menampilkan halaman "+n(p.value.current_page)+" dari "+n(p.value.last_page)+" — total "+n(p.value.total)+" transaksi ",1),e("div",wn,[e("button",{disabled:p.value.current_page<=1,onClick:t[8]||(t[8]=()=>{p.value.current_page=Math.max(1,p.value.current_page-1),I(p.value.current_page)}),class:"h-10 rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-white/[0.03]"}," Sebelumnya ",8,_n),e("button",{disabled:p.value.current_page>=p.value.last_page,onClick:t[9]||(t[9]=()=>{p.value.current_page=Math.min(p.value.last_page,p.value.current_page+1),I(p.value.current_page)}),class:"h-10 rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-white/[0.03]"}," Selanjutnya ",8,jn)])])):g("",!0)])])):g("",!0),C.value==="mitra"?(s(),l("div",Mn,[e("div",Cn,[e("div",Bn,[e("div",Sn,[t[75]||(t[75]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Cari Mitra ",-1)),Y(e("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=a=>H.value=a),placeholder:"Cari nama mitra atau program...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[G,H.value]])])])]),e("div",Tn,[(s(!0),l(m,null,_(ue.value,a=>(s(),l("div",{key:a.id,class:"group cursor-pointer rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-brand-300 hover:shadow-lg dark:border-gray-700 dark:bg-white/[0.03] dark:hover:border-brand-500"},[e("div",Pn,[t[77]||(t[77]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-brand-500 text-white transition-all duration-300 group-hover:scale-110 group-hover:bg-brand-500 group-hover:text-white dark:bg-brand-500/10 dark:text-white/90"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("button",{onClick:o=>mt(a.id),class:"flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-100 hover:text-brand-500 dark:hover:bg-white/[0.03] dark:hover:text-brand-400"},[...t[76]||(t[76]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Dn)]),e("h3",Rn,n(a.nama),1),e("p",$n,n(a.transaksi_count||0)+" transaksi • "+n(d(a.transaksi_total||0)),1),e("div",Ln,[e("div",null,[t[78]||(t[78]=e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Jumlah Transaksi",-1)),e("p",Hn,n(a.transaksi_count||0),1)]),e("div",null,[t[79]||(t[79]=e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Total Nilai",-1)),e("p",Vn,n(d(a.transaksi_total||0)),1)])])]))),128))]),ue.value.length===0?(s(),l("div",zn,[t[80]||(t[80]=e("svg",{class:"mb-4 h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e("p",An,n(H.value?"Tidak ada data mitra ditemukan":"Tidak ada data mitra"),1),H.value?(s(),l("p",Fn," Coba ubah kata kunci pencarian Anda ")):g("",!0)])):g("",!0),ue.value.length>0?(s(),l("div",En,[e("div",In," Menampilkan "+n(Ke.value+1)+" - "+n(kt.value)+" dari "+n(k.value.total)+" mitra ",1),e("div",Xn,[e("button",{onClick:t[11]||(t[11]=a=>{k.value.current_page=Math.max(1,k.value.current_page-1),W(k.value.current_page)}),disabled:k.value.current_page===1,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Sebelumnya ",8,qn),e("div",On,[(s(!0),l(m,null,_(Ce.value,a=>(s(),l("button",{key:a,onClick:o=>{k.value.current_page=a,W(a)},class:y(["flex h-10 w-10 items-center justify-center rounded-lg border text-sm font-medium transition-colors",k.value.current_page===a?"border-brand-500 bg-brand-500 text-white":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},n(a),11,Kn))),128))]),e("button",{onClick:t[12]||(t[12]=a=>pe.value=Math.min(Ce.value,pe.value+1)),disabled:pe.value===Ce.value,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Selanjutnya ",8,Nn)])])):g("",!0)])):g("",!0)])]),X(Lt,{isOpen:he.value,title:V.value?"Edit Rekening":"Tambah Rekening",onClose:we},{content:Be(()=>[e("div",Un,[e("div",null,[t[82]||(t[82]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},[L("Nama Bank "),e("span",{class:"text-red-500"},"*")],-1)),Y(e("input",{"onUpdate:modelValue":t[13]||(t[13]=a=>w.value.bank_name=a),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"Contoh: BCA, Mandiri, BRI"},null,512),[[G,w.value.bank_name]])]),e("div",Wn,[e("div",null,[t[83]||(t[83]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Nomor Rekening",-1)),Y(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>w.value.account_number=a),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"1234567890"},null,512),[[G,w.value.account_number]])]),e("div",null,[t[84]||(t[84]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Atas Nama",-1)),Y(e("input",{"onUpdate:modelValue":t[15]||(t[15]=a=>w.value.account_name=a),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"Yayasan..."},null,512),[[G,w.value.account_name]])])]),e("div",null,[t[85]||(t[85]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},[L("Saldo Aktual (Rp) "),e("span",{class:"text-red-500"},"*")],-1)),Y(e("input",{"onUpdate:modelValue":t[16]||(t[16]=a=>w.value.balance=a),type:"number",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"0"},null,512),[[G,w.value.balance,void 0,{number:!0}]]),e("p",Yn,n(d(w.value.balance)),1)])])]),footer:Be(()=>[e("div",Gn,[e("button",{onClick:we,class:"rounded-lg px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"},"Batal"),e("button",{onClick:it,disabled:le.value,class:"rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50"},n(le.value?"Menyimpan...":"Simpan"),9,Jn)])]),_:1},8,["isOpen","title"]),X(Bt,{isOpen:se.value,title:"Hapus Rekening",message:"Apakah Anda yakin ingin menghapus rekening ini? Data yang dihapus tidak dapat dikembalikan.",confirmText:"Hapus",confirmButtonClass:"bg-red-500 hover:bg-red-600",onConfirm:gt,onCancel:t[17]||(t[17]=a=>se.value=!1)},null,8,["isOpen"])]),_:1}))}}),ds=St(Zn,[["__scopeId","data-v-306d098c"]]);export{ds as default};
