import{d as T,b as c,A as v,B as V,f as N,y as R,c as s,o,a,j as D,F as B,l as L,m as E,t as f,q as I,n as m,w as U,i as h,k as F,v as $,z as q,U as A}from"./admin-BaVsAX8S.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=["onClick"],G={key:1,class:"text-gray-400"},J={key:0,class:"absolute z-50 w-full mt-1 rounded-lg border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-900"},K={class:"p-2 border-b border-gray-200 dark:border-gray-700"},Q={class:"custom-scrollbar max-h-48 overflow-y-auto"},W=["onClick"],X={key:0,class:"h-4 w-4 text-brand-500",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},Y={key:0,class:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400"},Z=T({__name:"SearchableMultiSelect",props:{modelValue:{default:()=>[]},options:{default:()=>[]},placeholder:{default:"Pilih..."},searchInput:{default:""}},emits:["update:modelValue","update:search-input"],setup(y,{emit:M}){const n=y,u=M,l=c(!1),k=c(null),p=c(null),d=c(n.searchInput||""),x=v(()=>new Set((n.modelValue||[]).map(e=>String(e).trim()))),b=v(()=>n.options.filter(e=>x.value.has(String(e.value).trim()))),w=v(()=>{const e=d.value.trim().toLowerCase();return e?n.options.filter(t=>t.label.toLowerCase().includes(e)):n.options}),O=()=>{l.value=!l.value,l.value?A(()=>{var e;return(e=k.value)==null?void 0:e.focus()}):_()},j=e=>{const t=String(e).trim(),r=(n.modelValue||[]).map(g=>String(g).trim()),i=r.includes(t)?r.filter(g=>g!==t):[...r,t];u("update:modelValue",i)},z=e=>{const t=String(e).trim(),r=(n.modelValue||[]).map(i=>String(i).trim());r.includes(t)&&u("update:modelValue",r.filter(i=>i!==t))},S=e=>x.value.has(String(e).trim()),_=()=>{d.value="",u("update:search-input","")},C=e=>{p.value&&!p.value.contains(e.target)&&(l.value=!1,_())};return V(()=>n.searchInput,e=>{e!==void 0&&(d.value=e)}),V(d,e=>{u("update:search-input",e)}),N(()=>{document.addEventListener("click",C)}),R(()=>{document.removeEventListener("click",C)}),(e,t)=>(o(),s("div",{ref_key:"selectRef",ref:p,class:m(["relative bg-transparent",l.value?"z-50":"z-10"])},[a("div",{onClick:O,class:m(["dark:bg-dark-900 min-h-[44px] w-full flex flex-wrap items-center gap-2 rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs cursor-pointer hover:border-brand-300 focus-within:border-brand-300 focus-within:outline-hidden focus-within:ring-3 focus-within:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus-within:border-brand-800",{"border-brand-300":l.value}])},[b.value.length?(o(!0),s(B,{key:0},L(b.value,r=>(o(),s("span",{key:r.value,class:"group flex items-center gap-1 rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-800 dark:bg-gray-800 dark:text-white/90"},[E(f(r.label)+" ",1),a("button",{type:"button",class:"text-gray-500 transition-colors hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:I(i=>z(r.value),["stop"]),"aria-label":"Hapus pilihan"},[...t[2]||(t[2]=[a("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,P)]))),128)):(o(),s("span",G,f(y.placeholder),1))],2),t[4]||(t[4]=a("span",{class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[a("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),D(q,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:U(()=>[l.value?(o(),s("div",J,[a("div",K,[F(a("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>d.value=r),placeholder:"Cari...",class:"w-full h-9 rounded-lg border border-gray-300 bg-transparent px-3 py-1.5 text-sm text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90",onClick:t[1]||(t[1]=I(()=>{},["stop"])),ref_key:"searchInputRef",ref:k},null,512),[[$,d.value]])]),a("div",Q,[(o(!0),s(B,null,L(w.value,r=>(o(),s("button",{key:r.value,type:"button",class:m(["flex w-full items-center justify-between px-4 py-2 text-left text-sm text-gray-800 hover:bg-gray-100 dark:text-white/90 dark:hover:bg-gray-800",{"bg-gray-100 dark:bg-gray-800":S(r.value)}]),onClick:i=>j(r.value)},[a("span",null,f(r.label),1),S(r.value)?(o(),s("svg",X,[...t[3]||(t[3]=[a("path",{d:"M5 13l4 4L19 7"},null,-1)])])):h("",!0)],10,W))),128)),w.value.length?h("",!0):(o(),s("div",Y," Tidak ada data ditemukan "))])])):h("",!0)]),_:1})],2))}}),re=H(Z,[["__scopeId","data-v-097f0cdb"]]);export{re as S};
