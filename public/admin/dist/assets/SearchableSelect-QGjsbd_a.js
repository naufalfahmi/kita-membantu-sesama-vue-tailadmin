import{g as I,r as u,A as b,o as L,y as V,a as l,d,b as s,n as c,t as m,e as S,w as z,p as B,F as O,k as R,f as y,z as T,L as E}from"./index-D_YU22O5.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={key:0,class:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 dark:bg-gray-900 dark:border-gray-700 max-h-60 overflow-hidden"},D={class:"p-2 border-b border-gray-200 dark:border-gray-700"},F=["value"],j={class:"overflow-y-auto max-h-48 custom-scrollbar"},A=["onClick"],P={key:0,class:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400"},U=I({__name:"SearchableSelect",props:{modelValue:{},options:{},placeholder:{default:"Pilih..."},searchInput:{default:""}},emits:["update:modelValue","update:search-input"],setup(k,{emit:w}){const a=k,n=w,r=u(!1),g=u(null),p=u(null),o=u(a.searchInput||""),h=b(()=>{if(!a.modelValue)return"";const e=a.options.find(t=>t.value===a.modelValue);return e?e.label:""}),v=b(()=>{const e=o.value.toLowerCase();return e?a.options.filter(t=>t.label.toLowerCase().includes(e)):a.options}),x=()=>{r.value=!r.value,r.value?E(()=>{var e;(e=g.value)==null||e.focus()}):(o.value="",n("update:search-input",""))},_=e=>{const t=e.target;o.value=t.value,n("update:search-input",t.value)},C=e=>{n("update:modelValue",e.value),o.value="",n("update:search-input",""),r.value=!1},f=e=>{p.value&&!p.value.contains(e.target)&&(r.value=!1,o.value="",n("update:search-input",""))};return L(()=>{document.addEventListener("click",f),a.searchInput&&(o.value=a.searchInput)}),V(()=>{document.removeEventListener("click",f)}),(e,t)=>(l(),d("div",{ref_key:"selectRef",ref:p,class:c(["relative bg-transparent",r.value?"z-50":"z-10"])},[s("div",{onClick:x,class:c(["dark:bg-dark-900 h-11 w-full flex items-center rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs cursor-pointer hover:border-brand-300 focus-within:border-brand-300 focus-within:outline-hidden focus-within:ring-3 focus-within:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus-within:border-brand-800",{"border-brand-300":r.value}])},[s("span",{class:c({"text-gray-800 dark:text-white/90":h.value,"text-gray-400":!h.value})},m(h.value||e.placeholder),3)],2),t[1]||(t[1]=s("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[s("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),S(T,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:z(()=>[r.value?(l(),d("div",N,[s("div",D,[s("input",{type:"text",value:e.searchInput,onInput:_,placeholder:"Cari...",class:"w-full h-9 rounded-lg border border-gray-300 bg-transparent px-3 py-1.5 text-sm text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90",onClick:t[0]||(t[0]=B(()=>{},["stop"])),ref_key:"searchInputRef",ref:g},null,40,F)]),s("div",j,[(l(!0),d(O,null,R(v.value,i=>(l(),d("button",{key:i.value,type:"button",onClick:$=>C(i),class:c(["w-full px-4 py-2 text-left text-sm text-gray-800 hover:bg-gray-100 dark:text-white/90 dark:hover:bg-gray-800 transition-colors",{"bg-gray-100 dark:bg-gray-800":e.modelValue===i.value}])},m(i.label),11,A))),128)),v.value.length===0?(l(),d("div",P," Tidak ada data ditemukan ")):y("",!0)])])):y("",!0)]),_:1})],2))}}),H=M(U,[["__scopeId","data-v-05fe285c"]]);export{H as S};
