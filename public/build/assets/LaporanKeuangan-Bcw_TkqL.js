import{d as Me,H as Ce,I as De,A as m,b as d,B as H,f as re,g as ne,o as s,w as Pe,a as e,c as l,F as f,l as w,n as Y,G as je,t as o,i as h,j as A,u as V,k as _,O as oe,D as Se,m as Be,v as I,Q as Te}from"./admin-VFU7j7ft.js";import{C as U}from"./component-BraTdCEw.js";import{u as M,w as se}from"./xlsx-3SA47z_C.js";import{_ as Ke}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dsjrp5R9.js";import{_ as Ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ve={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},Fe={role:"tablist",class:"mb-8 flex flex-wrap items-center justify-center gap-4 border-b border-gray-200 dark:border-gray-700"},He=["aria-selected","aria-controls","id","onClick"],Ie={class:"space-y-6"},Le={key:0,role:"tabpanel",id:"tabpanel-balance","aria-labelledby":"tab-balance"},Ee={class:"mb-6 grid grid-cols-1 gap-3 sm:grid-cols-4"},ze=["value"],Ne={class:"flex items-end justify-end gap-2"},$e={class:"mr-2 w-full"},Re=["value"],Ye={class:"mb-4 flex items-center justify-between"},Ue={class:"flex items-center gap-2"},Oe={class:"mb-6 rounded-lg border border-gray-200 bg-gradient-to-br from-brand-500 to-brand-600 p-6 shadow-lg dark:border-gray-700 dark:from-brand-600 dark:to-brand-700"},qe={class:"text-center"},Xe={class:"text-4xl font-bold text-white sm:text-5xl"},We={class:"mt-2 text-sm text-white/80"},Ze={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2"},Ge={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Je={class:"flex items-center justify-between"},Qe={class:"text-2xl font-bold text-green-600 dark:text-green-400"},ea={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},aa={class:"flex items-center justify-between"},ta={class:"text-2xl font-bold text-red-600 dark:text-red-400"},ra={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},na={class:"flex flex-col items-center justify-center"},oa={class:"relative w-full max-w-[300px]"},sa={class:"mt-4 flex gap-6 text-center"},la={class:"text-lg font-semibold text-green-600 dark:text-green-400"},da={class:"text-lg font-semibold text-red-600 dark:text-red-400"},ia={key:0,class:"mt-6 rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},ua={class:"overflow-x-auto"},ga={class:"w-full table-auto"},ma={class:"px-4 py-3 text-sm text-gray-700"},ca={class:"px-4 py-3 text-sm text-gray-700"},ba={class:"px-4 py-3 text-sm text-right text-green-600"},pa={class:"px-4 py-3 text-sm text-right text-red-600"},ka={class:"px-4 py-3 text-sm text-right"},xa={class:"mt-4 flex items-center justify-between"},va={class:"text-sm text-gray-600"},ha={class:"flex gap-2"},ya=["disabled"],fa=["disabled"],wa={key:1,role:"tabpanel",id:"tabpanel-management","aria-labelledby":"tab-management"},_a={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},Ma={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Ca={class:"flex-1"},Da={class:"relative"},Pa={class:"flex-1"},ja={class:"flex-1"},Sa={class:"flex-1"},Ba={class:"ag-theme-alpine dark:ag-theme-alpine-dark",style:{width:"100%"}},Ta={key:2,role:"tabpanel",id:"tabpanel-mitra","aria-labelledby":"tab-mitra"},Ka={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},Aa={class:"flex gap-4"},Va={class:"flex-1"},Fa={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Ha={class:"mb-4 flex items-center justify-between"},Ia=["onClick"],La={class:"mb-2 text-lg font-semibold text-gray-800 dark:text-white/90"},Ea={class:"mb-3 text-sm text-gray-600 dark:text-gray-400"},za={class:"flex items-center justify-between"},Na={class:"text-base font-semibold text-gray-800 dark:text-white/90"},$a={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},Ra={class:"text-lg font-medium text-gray-600 dark:text-gray-400"},Ya={key:0,class:"mt-2 text-sm text-gray-500 dark:text-gray-500"},Ua={key:1,class:"mt-6 flex items-center justify-between"},Oa={class:"text-sm text-gray-600 dark:text-gray-400"},qa={class:"flex gap-2"},Xa=["disabled"],Wa={class:"flex gap-1"},Za=["onClick"],Ga=["disabled"],O=6,Ja=Me({__name:"LaporanKeuangan",setup(Qa){const L=Ce(),le=De();m(()=>L.meta.title||"Laporan Keuangan");const de=[{id:"balance",label:"Balance",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5z" />
    </svg>
  `}},{id:"management",label:"Management",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
    </svg>
  `}},{id:"mitra",label:"Mitra",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
    </svg>
  `}}],q=["balance","management","mitra"],X=L.query.tab,c=d(q.includes(X)?X:"balance");H(()=>L.query.tab,r=>{r&&q.includes(r)&&(c.value=r)}),d("");const E={dateFormat:"Y-m-d",altInput:!0,altFormat:"d/m/Y",wrap:!1},C=d(""),D=d(""),P=d(""),j=d(""),p=d(""),b=d(1),S=d(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),B=d(new Date().toISOString().split("T")[0]),F=d(!1),k=d({saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0}),z=d([]),i=d({current_page:1,last_page:1,per_page:20,total:0}),W=d([]),Z=d([]),T=d(""),K=d(""),ie=m(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"radialBar"},colors:["#10b981","#ef4444"],plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"70%"},track:{background:"#E4E7EC",strokeWidth:"100%",margin:5},dataLabels:{name:{show:!1},value:{fontSize:"24px",fontWeight:"600",offsetY:0,color:"#1D2939",formatter:function(r){return r.toFixed(1)+"%"}}}}},fill:{type:"solid"},stroke:{lineCap:"round"},labels:["Pemasukan"]})),N=m(()=>{const r=k.value.totalMasuk||0,a=k.value.totalKeluar||0,t=r+a;return t===0?0:r/t*100}),ue=m(()=>N.value.toFixed(2)),ge=m(()=>(100-N.value).toFixed(2)),me=m(()=>[N.value]),x=async(r=1)=>{try{i.value.current_page=r;const a=new URLSearchParams;a.append("start",S.value),a.append("end",B.value),a.append("page",String(r)),a.append("per_page",String(i.value.per_page||20)),T.value&&a.append("program_id",T.value),K.value&&a.append("kantor_cabang_id",K.value);const t=await fetch(`/admin/api/laporan/keuangan?${a.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok){console.error("Error fetching laporan keuangan",t.status);return}const n=await t.json();if(!n.success){console.error("API returned error",n.message);return}const g=n.data;k.value=g.totals||{saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0},z.value=g.transactions||[],i.value={...g.pagination||{},per_page:g.pagination&&g.pagination.per_page||20}}catch(a){console.error("Exception fetching laporan keuangan",a)}},G=()=>{i.value.current_page=1,x(1)},ce=()=>{S.value=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],B.value=new Date().toISOString().split("T")[0],T.value="",K.value="",G()},J=async()=>{var r,a;try{const t=await fetch("/admin/api/program?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const n=await t.json();n.success&&(W.value=n.data||((r=n.data)==null?void 0:r.data)||((a=n.data)==null?void 0:a.items)||[])}catch(t){console.error("Error fetching programs",t)}},Q=async()=>{var r,a;try{const t=await fetch("/admin/api/kantor-cabang?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const n=await t.json();n.success&&(Z.value=n.data||((r=n.data)==null?void 0:r.data)||((a=n.data)==null?void 0:a.items)||[])}catch(t){console.error("Error fetching kantor cabang",t)}};H(c,r=>{r==="balance"&&(x(1),J(),Q())}),re(()=>{c.value==="balance"&&(x(1),J(),Q())});const be=()=>{const r=z.value.map(g=>({Tanggal:g.tanggal,Keterangan:g.keterangan,Masuk:g.masuk>0?u(g.masuk):"-",Keluar:g.keluar>0?u(g.keluar):"-",Saldo:u(g.saldo)})),a=M.json_to_sheet(r),t=M.book_new();M.book_append_sheet(t,a,"Laporan Keuangan");const n=`Laporan_Keuangan_${S.value}_${B.value}.xlsx`;se(t,n)},u=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),pe=[{headerName:"Tanggal",field:"tanggal",sortable:!0,flex:1,valueFormatter:r=>r.value?new Date(r.value).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):""},{headerName:"Keterangan",field:"keterangan",sortable:!0,flex:2},{headerName:"Masuk",field:"masuk",sortable:!0,flex:1,valueFormatter:r=>r.value&&r.value>0?u(r.value):"-",cellStyle:{color:"#10b981",fontWeight:"500"}},{headerName:"Keluar",field:"keluar",sortable:!0,flex:1,valueFormatter:r=>r.value&&r.value>0?u(r.value):"-",cellStyle:{color:"#ef4444",fontWeight:"500"}},{headerName:"Saldo",field:"saldo",sortable:!0,flex:1,valueFormatter:r=>r.value?u(r.value):"-"},{headerName:"Actions",field:"actions",sortable:!1,filter:!1,width:120,cellRenderer:r=>{const a=document.createElement("div");a.className="flex items-center gap-3";const t=document.createElement("button");t.className="flex items-center justify-center w-8 h-8 rounded-lg text-brand-500 hover:bg-brand-50 dark:hover:bg-brand-500/10 transition-colors",t.innerHTML=`
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
          <circle cx="12" cy="12" r="3"></circle>
        </svg>
      `,t.onclick=()=>he(r.data.id);const n=document.createElement("button");return n.className="flex items-center justify-center w-8 h-8 rounded-lg text-gray-500 hover:bg-gray-50 dark:hover:bg-white/[0.03] dark:hover:text-gray-400 transition-colors",n.innerHTML=`
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
      `,n.onclick=()=>ye(r.data.id),a.appendChild(t),a.appendChild(n),a}}],ke={resizable:!0,sortable:!0,filter:!0},ee=m(()=>{let r=[...xe];if(C.value&&(r=r.filter(a=>{const t=new Date(a.tanggal),n=new Date(C.value);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()})),D.value){const a=D.value.toLowerCase();r=r.filter(t=>t.keterangan.toLowerCase().includes(a))}if(P.value){const a=parseFloat(P.value);isNaN(a)||(r=r.filter(t=>t.masuk>=a))}if(j.value){const a=parseFloat(j.value);isNaN(a)||(r=r.filter(t=>t.keluar>=a))}return r}),xe=[{id:"1",tanggal:"2024-01-15",keterangan:"Donasi dari PT ABC",masuk:5e7,keluar:0,saldo:5e7},{id:"2",tanggal:"2024-01-16",keterangan:"Pembayaran gaji karyawan",masuk:0,keluar:25e6,saldo:25e6},{id:"3",tanggal:"2024-01-17",keterangan:"Donasi online",masuk:1e7,keluar:0,saldo:35e6},{id:"4",tanggal:"2024-01-18",keterangan:"Biaya operasional",masuk:0,keluar:5e6,saldo:3e7},{id:"5",tanggal:"2024-01-19",keterangan:"Zakat dari donatur",masuk:75e6,keluar:0,saldo:105e6},{id:"6",tanggal:"2024-01-20",keterangan:"Penyaluran ke program pendidikan",masuk:0,keluar:3e7,saldo:75e6},{id:"7",tanggal:"2024-01-21",keterangan:"Donasi dari Yayasan XYZ",masuk:1e8,keluar:0,saldo:175e6},{id:"8",tanggal:"2024-01-22",keterangan:"Biaya administrasi",masuk:0,keluar:2e6,saldo:173e6}],y=m(()=>{if(!p.value)return te.value;const r=p.value.toLowerCase();return te.value.filter(a=>a.nama.toLowerCase().includes(r)||a.program.toLowerCase().includes(r))}),$=m(()=>Math.ceil(y.value.length/O)),R=m(()=>(b.value-1)*O),ae=m(()=>Math.min(R.value+O,y.value.length)),ve=m(()=>y.value.slice(R.value,ae.value));H(p,()=>{b.value=1}),H(c,r=>{r==="balance"&&x(1)}),re(()=>{c.value==="balance"&&x(1)});const te=d([{id:"1",nama:"PT ABC Foundation",program:"Program Pendidikan Anak",nominal:5e7,status:"Aktif"},{id:"2",nama:"Yayasan XYZ",program:"Program Pemberdayaan Masyarakat",nominal:75e6,status:"Aktif"},{id:"3",nama:"CV Sejahtera",program:"Program Kesehatan",nominal:3e7,status:"Aktif"},{id:"4",nama:"PT Harmoni",program:"Program Bantuan Sosial",nominal:1e8,status:"Aktif"},{id:"5",nama:"Yayasan Peduli",program:"Program Lingkungan",nominal:25e6,status:"Aktif"},{id:"6",nama:"PT Berkah",program:"Program Kemanusiaan",nominal:6e7,status:"Aktif"},{id:"7",nama:"PT Cinta Indonesia",program:"Program Beasiswa",nominal:8e7,status:"Aktif"},{id:"8",nama:"Yayasan Kasih Ibu",program:"Program Kesehatan Ibu dan Anak",nominal:45e6,status:"Aktif"},{id:"9",nama:"CV Maju Bersama",program:"Program Pemberdayaan Ekonomi",nominal:55e6,status:"Aktif"},{id:"10",nama:"PT Harapan Bangsa",program:"Program Infrastruktur",nominal:12e7,status:"Aktif"},{id:"11",nama:"Yayasan Bantu Sesama",program:"Program Bantuan Pangan",nominal:35e6,status:"Aktif"},{id:"12",nama:"PT Gotong Royong",program:"Program Air Bersih",nominal:7e7,status:"Aktif"},{id:"13",nama:"CV Jaya Abadi",program:"Program Teknologi",nominal:9e7,status:"Aktif"},{id:"14",nama:"Yayasan Damai Sentosa",program:"Program Perdamaian",nominal:4e7,status:"Aktif"},{id:"15",nama:"PT Harmoni Sejahtera",program:"Program Sosial Budaya",nominal:65e6,status:"Aktif"}]),he=r=>{alert(`Detail transaksi dengan ID: ${r}`)},ye=r=>{alert(`Download transaksi dengan ID: ${r}`)},fe=r=>{le.push(`/laporan/detail-mitra/${r}`)},we=()=>{C.value="",D.value="",P.value="",j.value=""},_e=()=>{const r=ee.value.map(v=>({Tanggal:new Date(v.tanggal).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),Keterangan:v.keterangan,Masuk:v.masuk>0?u(v.masuk):"-",Keluar:v.keluar>0?u(v.keluar):"-",Saldo:u(v.saldo)})),a=M.json_to_sheet(r),t=M.book_new();M.book_append_sheet(t,a,"Laporan Keuangan Management");const g=`Laporan_Keuangan_Management_${new Date().toISOString().split("T")[0]}.xlsx`;se(t,g)};return(r,a)=>(s(),ne(Ke,null,{default:Pe(()=>[e("div",Ve,[a[44]||(a[44]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"mb-2 text-3xl font-bold text-gray-800 dark:text-white/90 sm:text-4xl"}," Laporan Keuangan "),e("p",{class:"text-lg text-gray-600 dark:text-gray-400"}," Ringkasan dan detail keuangan organisasi ")],-1)),e("div",Fe,[(s(),l(f,null,w(de,t=>e("button",{key:t.id,role:"tab","aria-selected":c.value===t.id,"aria-controls":`tabpanel-${t.id}`,id:`tab-${t.id}`,onClick:n=>c.value=t.id,class:Y(["flex items-center gap-2 rounded-t-lg px-6 py-3 text-sm font-medium transition-all duration-200",c.value===t.id?"border-b-2 border-brand-500 bg-brand-50 text-brand-600 dark:bg-brand-500/10 dark:text-brand-400":"text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},[(s(),ne(je(t.icon),{class:"h-5 w-5"})),e("span",null,o(t.label),1)],10,He)),64))]),e("div",Ie,[c.value==="balance"?(s(),l("div",Le,[e("div",Ee,[e("div",null,[a[15]||(a[15]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Mulai",-1)),A(V(U),{modelValue:S.value,"onUpdate:modelValue":a[0]||(a[0]=t=>S.value=t),config:E,class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:border-brand-300",placeholder:"Pilih tanggal mulai"},null,8,["modelValue"])]),e("div",null,[a[16]||(a[16]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Akhir",-1)),A(V(U),{modelValue:B.value,"onUpdate:modelValue":a[1]||(a[1]=t=>B.value=t),config:E,class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:border-brand-300",placeholder:"Pilih tanggal akhir"},null,8,["modelValue"])]),e("div",null,[a[18]||(a[18]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Program",-1)),_(e("select",{"onUpdate:modelValue":a[2]||(a[2]=t=>T.value=t),class:"h-11 w-full rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm"},[a[17]||(a[17]=e("option",{value:""},"Semua Program",-1)),(s(!0),l(f,null,w(W.value,t=>(s(),l("option",{key:t.id,value:t.id},o(t.nama_program||t.name||t.nama),9,ze))),128))],512),[[oe,T.value]])]),e("div",Ne,[e("div",$e,[a[20]||(a[20]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Kantor Cabang",-1)),_(e("select",{"onUpdate:modelValue":a[3]||(a[3]=t=>K.value=t),class:"h-11 w-full rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm"},[a[19]||(a[19]=e("option",{value:""},"Semua Kantor Cabang",-1)),(s(!0),l(f,null,w(Z.value,t=>(s(),l("option",{key:t.id,value:t.id},o(t.nama||t.name),9,Re))),128))],512),[[oe,K.value]])]),e("div",{class:"flex gap-2"},[e("button",{onClick:G,class:"h-11 rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600"}," Terapkan "),e("button",{onClick:ce,class:"h-11 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Reset ")])])]),e("div",Ye,[a[21]||(a[21]=e("div",null,null,-1)),e("div",Ue,[F.value?(s(),l("button",{key:1,onClick:a[5]||(a[5]=t=>F.value=!1),class:"h-10 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Sembunyikan Transaksi ")):(s(),l("button",{key:0,onClick:a[4]||(a[4]=t=>F.value=!0),class:"h-10 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Tampilkan Transaksi "))])]),e("div",Oe,[e("div",qe,[a[22]||(a[22]=e("p",{class:"mb-2 text-sm font-medium text-white/80"},"Total Saldo",-1)),e("h2",Xe,o(u(k.value.saldo_akhir||0)),1),e("p",We,"Saldo awal: "+o(u(k.value.saldo_awal||0)),1)])]),e("div",Ze,[e("div",Ge,[e("div",Je,[e("div",null,[a[23]||(a[23]=e("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"}," Total Saldo Masuk ",-1)),e("p",Qe,o(u(k.value.totalMasuk||0)),1)]),a[24]||(a[24]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100 dark:bg-green-500/10"},[e("svg",{class:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1))])]),e("div",ea,[e("div",aa,[e("div",null,[a[25]||(a[25]=e("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"}," Total Saldo Keluar ",-1)),e("p",ta,o(u(k.value.totalKeluar||0)),1)]),a[26]||(a[26]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-red-100 dark:bg-red-500/10"},[e("svg",{class:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})])],-1))])])]),e("div",ra,[a[29]||(a[29]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"}," Persentase Pemasukan vs Pengeluaran ",-1)),e("div",na,[e("div",oa,[A(V(Se),{type:"radialBar",height:"300",options:ie.value,series:me.value},null,8,["options","series"])]),e("div",sa,[e("div",null,[a[27]||(a[27]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pemasukan",-1)),e("p",la,o(ue.value)+"% ",1)]),e("div",null,[a[28]||(a[28]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pengeluaran",-1)),e("p",da,o(ge.value)+"% ",1)])])])]),F.value?(s(),l("div",ia,[e("div",{class:"mb-4 flex items-center justify-between"},[a[30]||(a[30]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Transaksi",-1)),e("div",{class:"flex items-center gap-2"},[e("button",{onClick:be,class:"h-10 rounded-lg bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600"}," Export Excel ")])]),e("div",ua,[e("table",ga,[a[31]||(a[31]=e("thead",null,[e("tr",{class:"text-sm font-semibold text-left text-gray-600"},[e("th",{class:"px-4 py-2"},"Tanggal"),e("th",{class:"px-4 py-2"},"Keterangan"),e("th",{class:"px-4 py-2 text-right"},"Masuk"),e("th",{class:"px-4 py-2 text-right"},"Keluar"),e("th",{class:"px-4 py-2 text-right"},"Saldo")])],-1)),e("tbody",null,[(s(!0),l(f,null,w(z.value,t=>(s(),l("tr",{key:t.id,class:"border-t"},[e("td",ma,o(t.tanggal),1),e("td",ca,o(t.keterangan),1),e("td",ba,o(t.masuk>0?u(t.masuk):"-"),1),e("td",pa,o(t.keluar>0?u(t.keluar):"-"),1),e("td",ka,o(u(t.saldo)),1)]))),128))])])]),e("div",xa,[e("div",va,"Menampilkan halaman "+o(i.value.current_page)+" dari "+o(i.value.last_page)+" â€” total "+o(i.value.total)+" transaksi",1),e("div",ha,[e("button",{disabled:i.value.current_page<=1,onClick:a[6]||(a[6]=t=>{i.value.current_page=Math.max(1,i.value.current_page-1),x(i.value.current_page)}),class:"h-10 rounded-lg border px-3 bg-white"},"Sebelumnya",8,ya),e("button",{disabled:i.value.current_page>=i.value.last_page,onClick:a[7]||(a[7]=t=>{i.value.current_page=Math.min(i.value.last_page,i.value.current_page+1),x(i.value.current_page)}),class:"h-10 rounded-lg border px-3 bg-white"},"Selanjutnya",8,fa)])])])):h("",!0)])):h("",!0),c.value==="management"?(s(),l("div",wa,[e("div",_a,[e("div",{class:"mb-4 flex items-center justify-between"},[a[33]||(a[33]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Filter & Export ",-1)),e("button",{onClick:_e,class:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-green-600"},[...a[32]||(a[32]=[e("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10.8333 3.33333V9.16667H16.6667L10.8333 3.33333ZM4.16667 2.5H11.6667L17.5 8.33333V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5Z",fill:"currentColor"})],-1),Be(" Export Excel ",-1)])])]),e("div",Ma,[e("div",Ca,[a[35]||(a[35]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Tanggal ",-1)),e("div",Da,[A(V(U),{modelValue:C.value,"onUpdate:modelValue":a[8]||(a[8]=t=>C.value=t),config:E,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Pilih tanggal"},null,8,["modelValue"]),a[34]||(a[34]=e("span",{class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400"},[e("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10 18.3333C14.6024 18.3333 18.3333 14.6024 18.3333 9.99999C18.3333 5.39762 14.6024 1.66666 10 1.66666C5.39763 1.66666 1.66667 5.39762 1.66667 9.99999C1.66667 14.6024 5.39763 18.3333 10 18.3333Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M10 5V10L13.3333 11.6667",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])]),e("div",Pa,[a[36]||(a[36]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Keterangan ",-1)),_(e("input",{type:"text","onUpdate:modelValue":a[9]||(a[9]=t=>D.value=t),placeholder:"Cari keterangan...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[I,D.value]])]),e("div",ja,[a[37]||(a[37]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Masuk Min ",-1)),_(e("input",{type:"number","onUpdate:modelValue":a[10]||(a[10]=t=>P.value=t),placeholder:"Masuk minimum...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[I,P.value]])]),e("div",Sa,[a[38]||(a[38]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Keluar Min ",-1)),_(e("input",{type:"number","onUpdate:modelValue":a[11]||(a[11]=t=>j.value=t),placeholder:"Keluar minimum...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[I,j.value]])])]),e("div",{class:"mt-4 flex justify-end"},[e("button",{onClick:we,class:"h-11 rounded-lg border border-gray-300 bg-white px-6 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Reset Filter ")])]),e("div",Ba,[A(V(Te),{class:"ag-theme-alpine",style:{width:"100%"},columnDefs:pe,rowData:ee.value,defaultColDef:ke,pagination:!0,paginationPageSize:20,theme:"legacy",animateRows:!0,suppressHorizontalScroll:!0,domLayout:"autoHeight"},null,8,["rowData"])])])):h("",!0),c.value==="mitra"?(s(),l("div",Ta,[e("div",Ka,[e("div",Aa,[e("div",Va,[a[39]||(a[39]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Cari Mitra ",-1)),_(e("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=t=>p.value=t),placeholder:"Cari nama mitra atau program...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[I,p.value]])])])]),e("div",Fa,[(s(!0),l(f,null,w(ve.value,t=>(s(),l("div",{key:t.id,class:"group cursor-pointer rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-brand-300 hover:shadow-lg dark:border-gray-700 dark:bg-white/[0.03] dark:hover:border-brand-500"},[e("div",Ha,[a[41]||(a[41]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-brand-500 text-white transition-all duration-300 group-hover:scale-110 group-hover:bg-brand-500 group-hover:text-white dark:bg-brand-500/10 dark:text-white/90"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("button",{onClick:n=>fe(t.id),class:"flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-100 hover:text-brand-500 dark:hover:bg-white/[0.03] dark:hover:text-brand-400"},[...a[40]||(a[40]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Ia)]),e("h3",La,o(t.nama),1),e("p",Ea,o(t.program),1),e("div",za,[e("div",null,[a[42]||(a[42]=e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Nominal",-1)),e("p",Na,o(u(t.nominal)),1)]),e("span",{class:Y(["rounded-full px-3 py-1 text-xs font-medium",t.status==="Aktif"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"])},o(t.status),3)])]))),128))]),y.value.length===0?(s(),l("div",$a,[a[43]||(a[43]=e("svg",{class:"mb-4 h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e("p",Ra,o(p.value?"Tidak ada data mitra ditemukan":"Tidak ada data mitra"),1),p.value?(s(),l("p",Ya," Coba ubah kata kunci pencarian Anda ")):h("",!0)])):h("",!0),y.value.length>0?(s(),l("div",Ua,[e("div",Oa," Menampilkan "+o(R.value+1)+" - "+o(ae.value)+" dari "+o(y.value.length)+" mitra ",1),e("div",qa,[e("button",{onClick:a[13]||(a[13]=t=>b.value=Math.max(1,b.value-1)),disabled:b.value===1,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Sebelumnya ",8,Xa),e("div",Wa,[(s(!0),l(f,null,w($.value,t=>(s(),l("button",{key:t,onClick:n=>b.value=t,class:Y(["flex h-10 w-10 items-center justify-center rounded-lg border text-sm font-medium transition-colors",b.value===t?"border-brand-500 bg-brand-500 text-white":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},o(t),11,Za))),128))]),e("button",{onClick:a[14]||(a[14]=t=>b.value=Math.min($.value,b.value+1)),disabled:b.value===$.value,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Selanjutnya ",8,Ga)])])):h("",!0)])):h("",!0)])])]),_:1}))}}),it=Ae(Ja,[["__scopeId","data-v-18f43f2e"]]);export{it as default};
