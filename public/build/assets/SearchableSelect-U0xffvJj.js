import{g as I,r as c,A as m,o as L,y as V,d as l,a as d,b as s,f as S,n as p,t as y,w as z,e as k,p as B,F as O,k as R,z as T,L as E}from"./admin-B2p3DWZr.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={key:0,class:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 dark:bg-gray-900 dark:border-gray-700 max-h-60 overflow-hidden"},D={class:"p-2 border-b border-gray-200 dark:border-gray-700"},F=["value"],j={class:"overflow-y-auto max-h-48 custom-scrollbar"},A=["onClick"],P={key:0,class:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400"},U=I({__name:"SearchableSelect",props:{modelValue:{},options:{},placeholder:{default:"Pilih..."},searchInput:{default:""}},emits:["update:modelValue","update:search-input"],setup(i,{emit:x}){const a=i,n=x,r=c(!1),v=c(null),h=c(null),o=c(a.searchInput||""),g=m(()=>{if(!a.modelValue)return"";const e=a.options.find(t=>t.value===a.modelValue);return e?e.label:""}),f=m(()=>{const e=o.value.toLowerCase();return e?a.options.filter(t=>t.label.toLowerCase().includes(e)):a.options}),w=()=>{r.value=!r.value,r.value?E(()=>{var e;(e=v.value)==null||e.focus()}):(o.value="",n("update:search-input",""))},_=e=>{const t=e.target;o.value=t.value,n("update:search-input",t.value)},C=e=>{n("update:modelValue",e.value),o.value="",n("update:search-input",""),r.value=!1},b=e=>{h.value&&!h.value.contains(e.target)&&(r.value=!1,o.value="",n("update:search-input",""))};return L(()=>{document.addEventListener("click",b),a.searchInput&&(o.value=a.searchInput)}),V(()=>{document.removeEventListener("click",b)}),(e,t)=>(d(),l("div",{ref_key:"selectRef",ref:h,class:p(["relative bg-transparent",r.value?"z-50":"z-10"])},[s("div",{onClick:w,class:p(["dark:bg-dark-900 h-11 w-full flex items-center rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs cursor-pointer hover:border-brand-300 focus-within:border-brand-300 focus-within:outline-hidden focus-within:ring-3 focus-within:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus-within:border-brand-800",{"border-brand-300":r.value}])},[s("span",{class:p({"text-gray-800 dark:text-white/90":g.value,"text-gray-400":!g.value})},y(g.value||i.placeholder),3)],2),t[1]||(t[1]=s("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[s("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),S(T,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:z(()=>[r.value?(d(),l("div",N,[s("div",D,[s("input",{type:"text",value:i.searchInput,onInput:_,placeholder:"Cari...",class:"w-full h-9 rounded-lg border border-gray-300 bg-transparent px-3 py-1.5 text-sm text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90",onClick:t[0]||(t[0]=B(()=>{},["stop"])),ref_key:"searchInputRef",ref:v},null,40,F)]),s("div",j,[(d(!0),l(O,null,R(f.value,u=>(d(),l("button",{key:u.value,type:"button",onClick:$=>C(u),class:p(["w-full px-4 py-2 text-left text-sm text-gray-800 hover:bg-gray-100 dark:text-white/90 dark:hover:bg-gray-800 transition-colors",{"bg-gray-100 dark:bg-gray-800":i.modelValue===u.value}])},y(u.label),11,A))),128)),f.value.length===0?(d(),l("div",P," Tidak ada data ditemukan ")):k("",!0)])])):k("",!0)]),_:1})],2))}}),H=M(U,[["__scopeId","data-v-65b452c3"]]);export{H as S};
