import{d as Ce,H as Se,I as je,A as c,b as n,B as S,f as ne,g as oe,o as i,w as Te,a as t,c as u,F as B,l as F,n as P,G as De,t as o,i as j,j as K,u as le,q as ie,D as Be,k as Fe,v as Pe,V as Ke}from"./admin-suzLmzp7.js";import{C as Ie}from"./component-BuZjTC3J.js";import{u as A,w as Le}from"./xlsx-3SA47z_C.js";import{_ as Re}from"./AdminLayout.vue_vue_type_script_setup_true_lang-pjs48Xdu.js";import{S as de}from"./SearchableSelect-C11p13to.js";import{_ as Ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $e={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},He={role:"tablist",class:"mb-8 flex flex-wrap items-center justify-center gap-4 border-b border-gray-200 dark:border-gray-700"},Ae=["aria-selected","aria-controls","id","onClick"],ze={class:"space-y-6"},Ee={key:0,role:"tabpanel",id:"tabpanel-balance","aria-labelledby":"tab-balance"},qe={class:"mb-6"},Oe={class:"grid grid-cols-1 gap-3 md:grid-cols-12"},Ne={class:"md:col-span-4"},Xe={class:"md:col-span-3"},Ye={class:"md:col-span-3"},Ue={class:"mb-6 rounded-lg border border-gray-200 bg-gradient-to-br from-brand-500 to-brand-600 p-6 shadow-lg dark:border-gray-700 dark:from-brand-600 dark:to-brand-700"},We={class:"text-center"},Ze={class:"text-4xl font-bold text-white sm:text-5xl"},Ge={class:"mt-2 text-sm text-white/80"},Je={class:"mb-4 flex items-center justify-between"},Qe={class:"text-lg font-semibold text-gray-800 dark:text-white/90"},et={class:"flex items-center gap-2"},tt={class:"overflow-x-auto"},at={class:"w-full table-auto"},rt={class:"px-4 py-3 text-sm text-gray-700"},st={class:"px-4 py-3 text-sm text-gray-700"},nt={class:"px-4 py-3 text-sm text-right text-green-600"},ot={class:"px-4 py-3 text-sm text-right text-red-600"},lt={class:"px-4 py-3 text-sm text-right"},it={class:"mt-4 flex items-center justify-between"},dt={class:"text-sm text-gray-600"},ut={class:"flex gap-2"},ct=["disabled"],gt=["disabled"],mt={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2"},pt={class:"flex items-center justify-between"},vt={class:"text-2xl font-bold text-green-600 dark:text-green-400"},bt={class:"flex items-center gap-3"},kt={class:"flex items-center justify-between"},xt={class:"text-2xl font-bold text-red-600 dark:text-red-400"},ht={class:"flex items-center gap-3"},ft={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},yt={class:"flex flex-col items-center justify-center"},wt={class:"relative w-full max-w-[300px]"},_t={class:"mt-4 flex gap-6 text-center"},Mt={class:"text-lg font-semibold text-green-600 dark:text-green-400"},Ct={class:"text-lg font-semibold text-red-600 dark:text-red-400"},St={key:1,role:"tabpanel",id:"tabpanel-mitra","aria-labelledby":"tab-mitra"},jt={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},Tt={class:"flex gap-4"},Dt={class:"flex-1"},Bt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Ft={class:"mb-4 flex items-center justify-between"},Pt=["onClick"],Kt={class:"mb-2 text-lg font-semibold text-gray-800 dark:text-white/90"},It={class:"mb-3 text-sm text-gray-600 dark:text-gray-400"},Lt={class:"flex items-center justify-between"},Rt={class:"text-base font-semibold text-gray-800 dark:text-white/90"},Vt={class:"text-base font-semibold text-gray-800 dark:text-white/90"},$t={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},Ht={class:"text-lg font-medium text-gray-600 dark:text-gray-400"},At={key:0,class:"mt-2 text-sm text-gray-500 dark:text-gray-500"},zt={key:1,class:"mt-6 flex items-center justify-between"},Et={class:"text-sm text-gray-600 dark:text-gray-400"},qt={class:"flex gap-2"},Ot=["disabled"],Nt={class:"flex gap-1"},Xt=["onClick"],Yt=["disabled"],Ut=Ce({__name:"LaporanKeuangan",setup(Wt){const I=Se(),ue=je();c(()=>I.meta.title||"Laporan Keuangan");const ce=[{id:"balance",label:"Balance",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5z" />
    </svg>
  `}},{id:"mitra",label:"Mitra",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
    </svg>
  `}}],z=["balance","mitra"],E=I.query.tab,b=n(z.includes(E)?E:"balance");S(()=>I.query.tab,r=>{r&&z.includes(r)&&(b.value=r)}),n("");const q=n(""),O=n(""),N=n(""),X=n(""),h=n(""),L=n(1),p=n(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),v=n(new Date().toISOString().split("T")[0]);n(!1);const f=n({saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0}),M=n([]),l=n({current_page:1,last_page:1,per_page:20,total:0}),ge={mode:"range",dateFormat:"Y-m-d",altInput:!0,altFormat:"d/m/Y",wrap:!1},C=n([p.value,v.value]);let R=null;const Y=(r=400)=>{R&&clearTimeout(R),R=setTimeout(()=>{l.value.current_page=1,_(1)},r)};S(C,r=>{if(Array.isArray(r))p.value=r[0]||p.value,v.value=r[1]||v.value;else if(typeof r=="string"){const e=r.split(" to ");p.value=e[0]||p.value,v.value=e[1]||v.value}Y()});const U=n([]),W=n([]),y=n(""),w=n(""),Z=n(""),G=n(""),me=c(()=>{const r=U.value.map(e=>({value:String(e.id),label:e.nama_program||e.name||e.nama}));return[{value:"",label:"Semua Program"},...r]}),pe=c(()=>{const r=W.value.map(e=>({value:String(e.id),label:e.nama||e.name}));return[{value:"",label:"Semua Kantor Cabang"},...r]});S([y,w],()=>{Y()});const x=n(!1),k=n("all"),ve=c(()=>k.value==="masuk"?"Pemasukan":k.value==="keluar"?"Pengeluaran":"Semua"),J=c(()=>M.value?k.value==="masuk"?M.value.filter(r=>r.masuk>0):k.value==="keluar"?M.value.filter(r=>r.keluar>0):M.value:[]),Q=n(null),ee=async(r="all")=>{var e;if(console.log("toggleAccordion called",{filter:r,accordionOpen:x.value,accordionFilter:k.value}),x.value&&k.value===r)x.value=!1;else{k.value=r,x.value=!0,l.value.current_page=1,await _(1),console.log("toggleAccordion: fetched transactions count",M.value.length),await Ke();try{(e=Q.value)==null||e.scrollIntoView({behavior:"smooth",block:"start"})}catch{}}},be=()=>{const r=J.value.map(g=>({Tanggal:g.tanggal,Keterangan:g.keterangan,Masuk:g.masuk>0?m(g.masuk):"-",Keluar:g.keluar>0?m(g.keluar):"-",Saldo:m(g.saldo)})),e=A.json_to_sheet(r),a=A.book_new();A.book_append_sheet(a,e,"Laporan Keuangan");const s=`Laporan_Keuangan_${p.value}_${v.value}.xlsx`;Le(a,s)},ke=c(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"radialBar"},colors:["#10b981","#ef4444"],plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"70%"},track:{background:"#E4E7EC",strokeWidth:"100%",margin:5},dataLabels:{name:{show:!1},value:{fontSize:"24px",fontWeight:"600",offsetY:0,color:"#1D2939",formatter:function(r){return r.toFixed(1)+"%"}}}}},fill:{type:"solid"},stroke:{lineCap:"round"},labels:["Pemasukan"]})),V=c(()=>{const r=f.value.totalMasuk||0,e=f.value.totalKeluar||0,a=r+e;return a===0?0:r/a*100}),xe=c(()=>V.value.toFixed(2)),he=c(()=>(100-V.value).toFixed(2)),fe=c(()=>[V.value]),_=async(r=1)=>{try{console.log("fetchBalanceData start",{start:p.value,end:v.value,program:y.value,kantor:w.value,page:r}),l.value.current_page=r;const e=new URLSearchParams;e.append("start",p.value),e.append("end",v.value),e.append("page",String(r)),e.append("per_page",String(l.value.per_page||20)),y.value&&e.append("program_id",y.value),w.value&&e.append("kantor_cabang_id",w.value);const a=await fetch(`/admin/api/laporan/keuangan?${e.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok){console.error("Error fetching laporan keuangan",a.status);return}const s=await a.json();if(console.log("fetchBalanceData json",s),!s.success){console.error("API returned error",s.message);return}const g=s.data;f.value=g.totals||{saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0},M.value=g.transactions||[],l.value={...g.pagination||{},per_page:g.pagination&&g.pagination.per_page||20}}catch(e){console.error("Exception fetching laporan keuangan",e)}},ye=()=>{const r=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],e=new Date().toISOString().split("T")[0];p.value=r,v.value=e,C.value=[r,e],y.value="",w.value="",l.value.current_page=1,_(1)},te=async()=>{var r,e;try{const a=await fetch("/admin/api/program?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)return;const s=await a.json();s.success&&(U.value=s.data||((r=s.data)==null?void 0:r.data)||((e=s.data)==null?void 0:e.items)||[])}catch(a){console.error("Error fetching programs",a)}},ae=async()=>{var r,e;try{const a=await fetch("/admin/api/kantor-cabang?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)return;const s=await a.json();s.success&&(W.value=s.data||((r=s.data)==null?void 0:r.data)||((e=s.data)==null?void 0:e.items)||[])}catch(a){console.error("Error fetching kantor cabang",a)}};S(b,r=>{r==="balance"&&(C.value=[p.value,v.value],_(1),te(),ae())}),ne(()=>{b.value==="balance"&&(C.value=[p.value,v.value],_(1),te(),ae())});const m=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r);c(()=>{let r=[...we];if(q.value&&(r=r.filter(e=>{const a=new Date(e.tanggal),s=new Date(q.value);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()&&a.getDate()===s.getDate()})),O.value){const e=O.value.toLowerCase();r=r.filter(a=>a.keterangan.toLowerCase().includes(e))}if(N.value){const e=parseFloat(N.value);isNaN(e)||(r=r.filter(a=>a.masuk>=e))}if(X.value){const e=parseFloat(X.value);isNaN(e)||(r=r.filter(a=>a.keluar>=e))}return r});const we=[{id:"1",tanggal:"2024-01-15",keterangan:"Donasi dari PT ABC",masuk:5e7,keluar:0,saldo:5e7},{id:"2",tanggal:"2024-01-16",keterangan:"Pembayaran gaji karyawan",masuk:0,keluar:25e6,saldo:25e6},{id:"3",tanggal:"2024-01-17",keterangan:"Donasi online",masuk:1e7,keluar:0,saldo:35e6},{id:"4",tanggal:"2024-01-18",keterangan:"Biaya operasional",masuk:0,keluar:5e6,saldo:3e7},{id:"5",tanggal:"2024-01-19",keterangan:"Zakat dari donatur",masuk:75e6,keluar:0,saldo:105e6},{id:"6",tanggal:"2024-01-20",keterangan:"Penyaluran ke program pendidikan",masuk:0,keluar:3e7,saldo:75e6},{id:"7",tanggal:"2024-01-21",keterangan:"Donasi dari Yayasan XYZ",masuk:1e8,keluar:0,saldo:175e6},{id:"8",tanggal:"2024-01-22",keterangan:"Biaya administrasi",masuk:0,keluar:2e6,saldo:173e6}],D=n([]),d=n({current_page:1,last_page:1,per_page:12,total:0}),re=n(!1),T=async(r=1)=>{try{re.value=!0;const e=new URLSearchParams;e.append("page",String(r)),e.append("per_page",String(d.value.per_page||12)),h.value&&e.append("search",h.value);const a=await fetch(`/admin/api/laporan/mitra?${e.toString()}`,{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)return;const s=await a.json();if(!s.success)return;D.value=s.data||[],d.value={...s.pagination||{},per_page:d.value.per_page}}catch(e){console.error("Error fetching mitra list",e)}finally{re.value=!1}};let $=null;S(h,()=>{$&&clearTimeout($),$=setTimeout(()=>T(1),400)});const H=c(()=>Math.ceil(d.value.total/d.value.per_page)),se=c(()=>(d.value.current_page-1)*d.value.per_page),_e=c(()=>Math.min(se.value+d.value.per_page,d.value.total));S(b,r=>{r==="mitra"&&T(1)}),ne(()=>{b.value==="mitra"&&T(1)});const Me=r=>{ue.push(`/laporan/detail-mitra/${r}`)};return(r,e)=>(i(),oe(Re,null,{default:Te(()=>[t("div",$e,[e[33]||(e[33]=t("div",{class:"mb-8 text-center"},[t("h1",{class:"mb-2 text-3xl font-bold text-gray-800 dark:text-white/90 sm:text-4xl"}," Laporan Keuangan "),t("p",{class:"text-lg text-gray-600 dark:text-gray-400"}," Ringkasan dan detail keuangan organisasi ")],-1)),t("div",He,[(i(),u(B,null,F(ce,a=>t("button",{key:a.id,role:"tab","aria-selected":b.value===a.id,"aria-controls":`tabpanel-${a.id}`,id:`tab-${a.id}`,onClick:s=>b.value=a.id,class:P(["flex items-center gap-2 rounded-t-lg px-6 py-3 text-sm font-medium transition-all duration-200",b.value===a.id?"border-b-2 border-brand-500 bg-brand-50 text-brand-600 dark:bg-brand-500/10 dark:text-brand-400":"text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},[(i(),oe(De(a.icon),{class:"h-5 w-5"})),t("span",null,o(a.label),1)],10,Ae)),64))]),t("div",ze,[b.value==="balance"?(i(),u("div",Ee,[t("div",qe,[t("div",Oe,[t("div",Ne,[e[13]||(e[13]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Rentang Tanggal",-1)),K(le(Ie),{modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=a=>C.value=a),config:ge,class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:border-brand-300",placeholder:"Pilih rentang tanggal"},null,8,["modelValue"])]),t("div",Xe,[e[14]||(e[14]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Program",-1)),K(de,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=a=>y.value=a),options:me.value,placeholder:"Semua Program","search-input":Z.value,"onUpdate:searchInput":e[2]||(e[2]=a=>Z.value=a)},null,8,["modelValue","options","search-input"])]),t("div",Ye,[e[15]||(e[15]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Kantor Cabang",-1)),K(de,{modelValue:w.value,"onUpdate:modelValue":e[3]||(e[3]=a=>w.value=a),options:pe.value,placeholder:"Semua Kantor Cabang","search-input":G.value,"onUpdate:searchInput":e[4]||(e[4]=a=>G.value=a)},null,8,["modelValue","options","search-input"])]),t("div",{class:"md:col-span-2 flex items-end justify-end"},[t("div",{class:"flex gap-2"},[t("button",{onClick:ye,class:"h-11 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Reset ")])])])]),t("div",Ue,[t("div",We,[e[16]||(e[16]=t("p",{class:"mb-2 text-sm font-medium text-white/80"},"Total Saldo",-1)),t("h2",Ze,o(m(f.value.saldo_akhir||0)),1),t("p",Ge,"Saldo awal: "+o(m(f.value.saldo_awal||0)),1)])]),x.value?(i(),u("div",{key:0,ref_key:"accordionRef",ref:Q,class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},[t("div",Je,[t("h3",Qe,"Transaksi ("+o(ve.value)+")",1),t("div",et,[t("button",{onClick:be,class:"h-10 rounded-lg bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600"},"Export Excel"),t("button",{onClick:e[5]||(e[5]=a=>x.value=!1),class:"h-10 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm"},"Tutup")])]),t("div",tt,[t("table",at,[e[17]||(e[17]=t("thead",null,[t("tr",{class:"text-sm font-semibold text-left text-gray-600"},[t("th",{class:"px-4 py-2"},"Tanggal"),t("th",{class:"px-4 py-2"},"Keterangan"),t("th",{class:"px-4 py-2 text-right"},"Masuk"),t("th",{class:"px-4 py-2 text-right"},"Keluar"),t("th",{class:"px-4 py-2 text-right"},"Saldo")])],-1)),t("tbody",null,[(i(!0),u(B,null,F(J.value,a=>(i(),u("tr",{key:a.id,class:"border-t"},[t("td",rt,o(a.tanggal),1),t("td",st,o(a.keterangan),1),t("td",nt,o(a.masuk>0?m(a.masuk):"-"),1),t("td",ot,o(a.keluar>0?m(a.keluar):"-"),1),t("td",lt,o(m(a.saldo)),1)]))),128))])])]),t("div",it,[t("div",dt,"Menampilkan halaman "+o(l.value.current_page)+" dari "+o(l.value.last_page)+" — total "+o(l.value.total)+" transaksi",1),t("div",ut,[t("button",{disabled:l.value.current_page<=1,onClick:e[6]||(e[6]=a=>{l.value.current_page=Math.max(1,l.value.current_page-1),_(l.value.current_page)}),class:"h-10 rounded-lg border px-3 bg-white"},"Sebelumnya",8,ct),t("button",{disabled:l.value.current_page>=l.value.last_page,onClick:e[7]||(e[7]=a=>{l.value.current_page=Math.min(l.value.last_page,l.value.current_page+1),_(l.value.current_page)}),class:"h-10 rounded-lg border px-3 bg-white"},"Selanjutnya",8,gt)])])],512)):j("",!0),t("div",mt,[t("button",{onClick:e[8]||(e[8]=ie(a=>ee("masuk"),["prevent"])),class:"w-full text-left rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:border-brand-300 focus:outline-none dark:border-gray-700 dark:bg-white/[0.03]"},[t("div",pt,[t("div",null,[e[18]||(e[18]=t("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Saldo Masuk",-1)),t("p",vt,o(m(f.value.totalMasuk||0)),1)]),t("div",bt,[e[20]||(e[20]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100 dark:bg-green-500/10"},[t("svg",{class:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)),(i(),u("svg",{class:P(["h-5 w-5 transition-transform",x.value&&k.value==="masuk"?"rotate-180":"rotate-0"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...e[19]||(e[19]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))])])]),t("button",{onClick:e[9]||(e[9]=ie(a=>ee("keluar"),["prevent"])),class:"w-full text-left rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:border-brand-300 focus:outline-none dark:border-gray-700 dark:bg-white/[0.03]"},[t("div",kt,[t("div",null,[e[21]||(e[21]=t("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Saldo Keluar",-1)),t("p",xt,o(m(f.value.totalKeluar||0)),1)]),t("div",ht,[e[23]||(e[23]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-red-100 dark:bg-red-500/10"},[t("svg",{class:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})])],-1)),(i(),u("svg",{class:P(["h-5 w-5 transition-transform",x.value&&k.value==="keluar"?"rotate-180":"rotate-0"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...e[22]||(e[22]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))])])])]),t("div",ft,[e[26]||(e[26]=t("h3",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"}," Persentase Pemasukan vs Pengeluaran ",-1)),t("div",yt,[t("div",wt,[K(le(Be),{type:"radialBar",height:"300",options:ke.value,series:fe.value},null,8,["options","series"])]),t("div",_t,[t("div",null,[e[24]||(e[24]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pemasukan",-1)),t("p",Mt,o(xe.value)+"% ",1)]),t("div",null,[e[25]||(e[25]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pengeluaran",-1)),t("p",Ct,o(he.value)+"% ",1)])])])])])):j("",!0),b.value==="mitra"?(i(),u("div",St,[t("div",jt,[t("div",Tt,[t("div",Dt,[e[27]||(e[27]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Cari Mitra ",-1)),Fe(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>h.value=a),placeholder:"Cari nama mitra atau program...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[Pe,h.value]])])])]),t("div",Bt,[(i(!0),u(B,null,F(D.value,a=>(i(),u("div",{key:a.id,class:"group cursor-pointer rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-brand-300 hover:shadow-lg dark:border-gray-700 dark:bg-white/[0.03] dark:hover:border-brand-500"},[t("div",Ft,[e[29]||(e[29]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-brand-500 text-white transition-all duration-300 group-hover:scale-110 group-hover:bg-brand-500 group-hover:text-white dark:bg-brand-500/10 dark:text-white/90"},[t("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("button",{onClick:s=>Me(a.id),class:"flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-100 hover:text-brand-500 dark:hover:bg-white/[0.03] dark:hover:text-brand-400"},[...e[28]||(e[28]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Pt)]),t("h3",Kt,o(a.nama),1),t("p",It,o(a.transaksi_count||0)+" transaksi • "+o(m(a.transaksi_total||0)),1),t("div",Lt,[t("div",null,[e[30]||(e[30]=t("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Jumlah Transaksi",-1)),t("p",Rt,o(a.transaksi_count||0),1)]),t("div",null,[e[31]||(e[31]=t("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Total Nilai",-1)),t("p",Vt,o(m(a.transaksi_total||0)),1)])])]))),128))]),D.value.length===0?(i(),u("div",$t,[e[32]||(e[32]=t("svg",{class:"mb-4 h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t("p",Ht,o(h.value?"Tidak ada data mitra ditemukan":"Tidak ada data mitra"),1),h.value?(i(),u("p",At," Coba ubah kata kunci pencarian Anda ")):j("",!0)])):j("",!0),D.value.length>0?(i(),u("div",zt,[t("div",Et," Menampilkan "+o(se.value+1)+" - "+o(_e.value)+" dari "+o(d.value.total)+" mitra ",1),t("div",qt,[t("button",{onClick:e[11]||(e[11]=a=>{d.value.current_page=Math.max(1,d.value.current_page-1),T(d.value.current_page)}),disabled:d.value.current_page===1,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Sebelumnya ",8,Ot),t("div",Nt,[(i(!0),u(B,null,F(H.value,a=>(i(),u("button",{key:a,onClick:s=>{d.value.current_page=a,T(a)},class:P(["flex h-10 w-10 items-center justify-center rounded-lg border text-sm font-medium transition-colors",d.value.current_page===a?"border-brand-500 bg-brand-500 text-white":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},o(a),11,Xt))),128))]),t("button",{onClick:e[12]||(e[12]=a=>L.value=Math.min(H.value,L.value+1)),disabled:L.value===H.value,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Selanjutnya ",8,Yt)])])):j("",!0)])):j("",!0)])])]),_:1}))}}),sa=Ve(Ut,[["__scopeId","data-v-6dfd341b"]]);export{sa as default};
