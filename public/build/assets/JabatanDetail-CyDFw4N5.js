import{d as R,H as E,I as T,M as H,b as l,A as L,O as P,f as J,g as q,o as a,w as F,i as I,a as t,c as r,t as i,j as N,m as V,F as y,l as f,n as X}from"./admin-4mSvrbMd.js";import{_ as $}from"./AdminLayout.vue_vue_type_script_setup_true_lang-C0fSN0Ri.js";import{_ as S}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-Bfro-tjd.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},G={class:"mb-6 flex items-center justify-between"},K={class:"font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl"},O={class:"flex items-center gap-3"},U={key:0,class:"flex items-center justify-center py-20"},Q={key:1,class:"space-y-6"},Y={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},Z={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},tt={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},et={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},st={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},at={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},rt={class:"space-y-4"},ot={class:"bg-gray-100 dark:bg-gray-800/50 px-4 py-3 border-b border-gray-200 dark:border-gray-700"},it={class:"flex items-center justify-between"},nt={class:"font-semibold text-gray-800 dark:text-white/90"},dt={class:"px-4 py-3"},lt={class:"grid grid-cols-1 gap-2 sm:grid-cols-3"},ct={key:0,width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},gt={key:1,width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ut={class:"text-sm"},mt={key:2,class:"flex flex-col items-center justify-center py-20"},pt=R({__name:"JabatanDetail",setup(xt){const k=E(),g=T(),v=H(),{isAdmin:w,hasPermission:_}=P(),u=l("Detail Jabatan"),c=l(!0),o=l(null),m=l({}),j=L(()=>w()||_("update jabatan")),p=String(k.params.id||""),C=async()=>{c.value=!0;try{const[s,e]=await Promise.all([fetch(`/admin/api/jabatan/${p}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"}),fetch("/admin/api/jabatan-permissions",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"})]);if(!s.ok)throw new Error("Failed to fetch");if(!e.ok)throw new Error("Failed to fetch permissions");const d=await s.json(),n=await e.json();d.success&&(o.value=d.data),n.success&&(m.value=n.data)}catch(s){console.error("Error loading jabatan detail",s),v.error("Gagal memuat detail jabatan")}finally{c.value=!1}},D=()=>{g.push("/administrasi/jabatan")},M=()=>{g.push(`/administrasi/jabatan/${p}/edit`)},x=s=>o.value&&Array.isArray(o.value.permissions)&&o.value.permissions.includes(s),A=s=>s.charAt(0).toUpperCase()+s.slice(1),B=s=>s?new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-";return J(()=>{C()}),(s,e)=>(a(),q($,null,{default:F(()=>[I(S,{pageTitle:u.value},null,8,["pageTitle"]),t("div",W,[t("div",G,[t("h3",K,i(u.value),1),t("div",O,[t("button",{onClick:D,class:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"},[...e[0]||(e[0]=[t("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M8.33333 15L3.33333 10M3.33333 10L8.33333 5M3.33333 10H16.6667",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),V(" Kembali ",-1)])]),j.value?(a(),r("button",{key:0,onClick:M,class:"flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600"}," Edit ")):N("",!0)])]),c.value?(a(),r("div",U,[...e[1]||(e[1]=[t("div",{class:"flex flex-col items-center gap-4"},[t("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data jabatan...")],-1)])])):o.value?(a(),r("div",Q,[t("div",Y,[e[5]||(e[5]=t("h4",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"},"Informasi Jabatan",-1)),t("div",Z,[t("div",null,[e[2]||(e[2]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"Nama",-1)),t("p",tt,i(o.value.name),1)]),t("div",null,[e[3]||(e[3]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"Tanggal Dibuat",-1)),t("p",et,i(B(o.value.created_at)),1)]),t("div",null,[e[4]||(e[4]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"Total Permissions",-1)),t("p",st,i(o.value.permissions.length),1)])])]),t("div",at,[e[8]||(e[8]=t("h4",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"},"Hak Akses",-1)),t("div",rt,[(a(!0),r(y,null,f(m.value,(d,n)=>(a(),r("div",{key:n,class:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},[t("div",ot,[t("div",it,[t("h5",nt,i(n),1)])]),t("div",dt,[t("div",lt,[(a(!0),r(y,null,f(d,(h,b)=>(a(),r("div",{key:b,class:"flex items-center gap-3"},[t("span",{class:X([x(h)?"text-brand-600":"text-gray-400","inline-flex items-center gap-2"])},[x(h)?(a(),r("svg",ct,[...e[6]||(e[6]=[t("path",{d:"M7 11l3 3 7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(a(),r("svg",gt,[...e[7]||(e[7]=[t("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor","stroke-width":"1.2",opacity:"0.25"},null,-1)])])),t("span",ut,i(A(b)),1)],2)]))),128))])])]))),128))])])])):(a(),r("div",mt,[...e[9]||(e[9]=[t("svg",{class:"mb-4 h-16 w-16 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M12 20h.01"})],-1),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jabatan tidak ditemukan.",-1)])]))])]),_:1}))}}),kt=z(pt,[["__scopeId","data-v-d6bcc3e3"]]);export{kt as default};
