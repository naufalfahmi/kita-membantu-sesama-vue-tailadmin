import{d as ca,H as ba,I as ya,L as fa,A as _,b as x,e as G,B as W,f as z,g as xa,o as u,w as va,a as r,t as g,q as ha,c as m,i as D,j,m as S,k as $,v as M,u as J,F as ka,l as wa,n as _a,P as ja}from"./admin-tlO3s9ed.js";import{C as Q}from"./component-CGgNxTep.js";import{_ as Sa,g as Ia}from"./AdminLayout.vue_vue_type_script_setup_true_lang-bqsSe-JG.js";import{S as C}from"./SearchableSelect-CKa0t9mK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ta={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},Da={class:"mb-6 flex items-center justify-between"},Ca={class:"font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl"},Aa={class:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2"},Na={class:"lg:col-span-1"},Pa={class:"lg:col-span-1"},Va={class:"lg:col-span-1"},Ra={class:"lg:col-span-1"},Fa={class:"lg:col-span-1"},Ua={key:0,class:"h-11 flex items-center rounded-lg border border-gray-300 bg-transparent px-4 text-sm text-gray-700 dark:border-gray-700 dark:text-gray-400"},Ea={key:1,class:"space-y-2"},$a={class:"flex items-center gap-3"},Ma={key:2},La={class:"lg:col-span-1"},qa={class:"relative"},Oa={class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400 text-sm"},Ba={key:0,class:"mt-1 text-xs text-red-500"},Xa={key:1,class:"mt-1 text-xs text-red-500"},Ha={class:"lg:col-span-1"},Ka={class:"relative"},Ya={class:"lg:col-span-1"},Ga={class:"flex items-center gap-2"},Wa={key:0,class:"lg:col-span-2"},za={class:"mt-3 rounded-lg border border-gray-200 bg-gray-50 p-3 text-sm text-gray-700 dark:border-gray-700 dark:bg-gray-900/40"},Ja={class:"flex items-center justify-between"},Qa={class:"text-lg font-medium"},Za={class:"text-right text-xs text-gray-500"},ae={key:0},ee={class:"flex flex-wrap justify-end gap-2"},te={key:0},re={key:1},ne={key:1,class:"text-xs"},se={key:0,class:"mt-3 border-t pt-3"},oe={class:"flex items-center justify-between"},le={class:"text-xs text-gray-500"},ie={key:0},de={key:1},ue={class:"text-lg font-medium"},ge={class:"text-right text-xs text-gray-500"},me={class:"mt-3 flex items-center justify-between"},pe={class:"flex items-center gap-3"},ce={class:"mt-3 text-sm text-gray-700"},be={class:"font-medium"},ye={key:0,class:"mt-1 text-xs text-red-500"},fe={class:"lg:col-span-2"},xe={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},ve={class:"flex items-center gap-3 mt-6 lg:justify-end"},he=["disabled"],Te=ca({__name:"PengajuanDanaForm",setup(ke){const A=ba(),L=ya(),y=fa(),{fetchUser:Z}=ja(),k=_(()=>A.params.id!==void 0&&A.params.id!=="new"),aa=_(()=>k.value?"Edit Pengajuan Dana":"Tambah Pengajuan Dana"),ea={dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id",wrap:!0,clickOpens:!0,allowInput:!1,minDate:"today"},ta={dateFormat:"Y-m-d",mode:"range",altInput:!0,altFormat:"d F Y",locale:"id",wrap:!0,clickOpens:!0,allowInput:!1},I=x([]),ra=[{value:"program",label:"Program"},{value:"operasional",label:"Operasional"},{value:"gaji karyawan",label:"Gaji Karyawan"}],N=x([]),P=x([]),q=x(""),O=x(""),B=x(""),v=x([]),T=x(""),e=G({applicant:"",submissionType:"",status:"Draft",programId:"",amount:null,usedAt:"",purpose:"",branchId:""}),X=G({amount:""}),w=x(!1),V=_(()=>{if(!(e.submissionType==="program"||e.submissionType==="operasional")||!l||!l.value)return!1;const n=Number(l.value.remaining||0);return Number(e.amount||0)>n}),na=_(()=>!e.amount||e.amount<=0?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.amount)),l=x(null),f=x(null),F=x(!1);let U=null;const h=n=>!n||n<=0?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),sa=n=>{if(!n)return"";try{const a=String(n).split("-");if(a.length<2)return n;const s=Number(a[0]),t=Number(a[1])-1,d=new Date(Date.UTC(s,t,1));return new Intl.DateTimeFormat("id-ID",{month:"long",year:"numeric"}).format(d)}catch{return n}},H=n=>{if(!n)return"";try{const a=String(n).split("-");if(a.length<3)return n;const s=Number(a[0]),t=Number(a[1])-1,d=Number(a[2]),p=new Date(Date.UTC(s,t,d));return new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric"}).format(p)}catch{return n}},oa=()=>{v.value=[],E()},la=_(()=>{if(!f.value||!Array.isArray(f.value.shares))return[];const n=String(e.submissionType||"");let a="program";n==="operasional"?a="ops_2":n==="gaji karyawan"&&(a="ops_1");const s=f.value.shares.map(p=>{var o;return{...p,program_share_type_key:p.program_share_type_key??p.type_key??((o=p.type)==null?void 0:o.key)??null}}),t=s.filter(p=>String(p.program_share_type_key)===a);if(t.length>0)return t;const d=s.filter(p=>String(p.program_share_type_key)==="program");return d.length>0?d:s}),E=async()=>{if(!e.programId){l.value=null;return}F.value=!0;try{let n="program";String(e.submissionType)==="operasional"&&(n="ops_2"),String(e.submissionType)==="gaji karyawan"&&(n="ops_1");let a="",s=null,t=null;const d=i=>{if(!i)return[null,null];if(Array.isArray(i)&&i.length>=2){const c=b=>{if(!b)return null;if(typeof b=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(b))return b;const R=new Date(b);return isNaN(R.getTime())?null:R.toISOString().split("T")[0]};return[c(i[0]),c(i[1])]}if(typeof i=="string"){const c=Array.from(i.matchAll(/(\d{4}-\d{2}-\d{2})/g)).map(R=>R[1]);if(c.length>=2)return[c[0],c[1]];const b=i.split(/[^0-9-]+/).filter(Boolean);if(b.length>=2&&/^\d{4}-\d{2}-\d{2}$/.test(b[0])&&/^\d{4}-\d{2}-\d{2}$/.test(b[1]))return[b[0],b[1]]}try{const c=new Date(i);if(!isNaN(c.getTime())){const b=c.toISOString().split("T")[0];return[b,b]}}catch{}return[null,null]};if(v){const[i,c]=d(v.value);s=i,t=c}if(s&&t)a=`/admin/api/program/${e.programId}/balance?start_date=${encodeURIComponent(s)}&end_date=${encodeURIComponent(t)}&share_key=${encodeURIComponent(n)}`;else{const i=new Date(e.usedAt);if(isNaN(i.getTime())){l.value=null,F.value=!1;return}const c=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`;a=`/admin/api/program/${e.programId}/balance?month=${c}&share_key=${encodeURIComponent(n)}&lookback=1`}const o=await(await fetch(a,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!o.success)throw new Error(o.message||"Failed to load balance");s&&t&&(o.data||(o.data={}),o.data.start_date||(o.data.start_date=s),o.data.end_date||(o.data.end_date=t)),l.value=o.data}catch(n){console.error("Error loading program balance",n),y.error("Gagal memuat saldo program"),l.value=null}finally{F.value=!1}},K=async()=>{if(!e.programId){f.value=null;return}try{const a=await(await fetch(`/admin/api/program/${e.programId}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!a.success)throw new Error(a.message||"Failed to load program");f.value=a.data}catch(n){console.error("Error loading program detail",n),f.value=null}};W([()=>e.programId,()=>e.usedAt,()=>v.value],()=>{U&&window.clearTimeout(U),U=window.setTimeout(()=>{K(),E()},300)}),W(()=>e.submissionType,n=>{const a=String(n);a==="program"&&!k.value&&(e.amount=null),["program","operasional","gaji karyawan"].includes(a)&&e.programId?(K(),E()):(f.value=null,l.value=null)});const ia=n=>{const a=n.target,s=parseFloat(a.value);isNaN(s)||s<0?e.amount=null:e.amount=Math.floor(s)},da=async()=>{if(!k.value)return;const n=A.params.id;try{const s=await(await fetch(`/admin/api/pengajuan-dana/${n}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!s.success)throw new Error(s.message||"Failed to load");const t=s.data;if(e.applicant=t.fundraiser?String(t.fundraiser.id):"",e.status=t.status||"Draft",t.fundraiser&&!I.value.find(d=>d.value===String(t.fundraiser.id))&&I.value.unshift({value:String(t.fundraiser.id),label:t.fundraiser.name||t.fundraiser.nama||""}),e.submissionType=t.submission_type,e.amount=t.amount,e.usedAt=t.used_at,e.purpose=t.purpose||"",e.branchId=t.kantor_cabang?t.kantor_cabang.id:"",e.programId=t.program?String(t.program.id):"",t.kantor_cabang&&!N.value.find(d=>d.value===String(t.kantor_cabang.id))&&N.value.unshift({value:String(t.kantor_cabang.id),label:t.kantor_cabang.nama||""}),t.program&&!P.value.find(d=>d.value===String(t.program.id))){const d=t.program.nama_program||t.program.nama||"";P.value.unshift({value:String(t.program.id),label:d})}}catch(a){console.error("Error loading data:",a),y.error("Gagal memuat data pengajuan dana")}},ua=async()=>{try{const n=await Z();T.value=n!=null&&n.id?String(n.id):"";const s=await(await fetch("/admin/api/pengajuan-dana/options",{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!s.success)throw new Error(s.message||"Failed to load options");const t=s.data.users||[];I.value=t.map(o=>({value:String(o.id),label:o.name}));const d=s.data.kantor_cabangs||[];N.value=d.map(o=>({value:String(o.id),label:o.nama}));const p=s.data.programs||[];P.value=p.map(o=>({value:String(o.id),label:o.nama})),T.value&&I.value.find(i=>i.value===String(T.value))&&!e.applicant&&(e.applicant=String(T.value)),k.value&&s.data&&s.data.current&&s.data.current.program&&(e.programId=String(s.data.current.program.id))}catch(n){console.error("Error loading options",n),y.error("Gagal memuat opsi form")}},ga=[{value:"Draft",label:"Draft"},{value:"Pending",label:"Diajukan"}];_(()=>String(e.applicant)===String(T.value));const ma=_(()=>ga),Y=()=>L.push("/keuangan/pengajuan-dana"),pa=async()=>{var n;if(!e.applicant){y.error("Pengaju wajib diisi");return}if(!e.submissionType){y.error("Tipe Pengajuan wajib diisi");return}if(!e.amount||e.amount<=0){y.error("Nominal wajib diisi dan harus lebih dari 0");return}if(!e.usedAt){y.error("Tanggal Digunakan wajib diisi");return}if(!e.branchId){y.error("Kantor Cabang wajib diisi");return}if(!w.value){w.value=!0;try{if(V.value){const i=h(Number(((n=l.value)==null?void 0:n.remaining)||0));y.error(`nominal melebihi batas tidak dapat menyimpan — sisa alokasi: ${i}`),w.value=!1;return}const a={fundraiser_id:e.applicant,submission_type:e.submissionType,program_id:e.programId||null,status:e.status,amount:e.amount,used_at:e.usedAt,purpose:e.purpose,kantor_cabang_id:e.branchId},s=await Ia(),t=k.value?`/admin/api/pengajuan-dana/${A.params.id}`:"/admin/api/pengajuan-dana",d=k.value?"PUT":"POST",o=await(await fetch(t,{method:d,credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":s,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(a)})).json();if(!o.success){if(o.remaining!==void 0){y.error(`nominal melebihi batas tidak dapat menyimpan — sisa alokasi: ${h(Number(o.remaining))}`),w.value=!1;return}if(o.errors){const i=Object.values(o.errors)[0];y.error(i?String(i[0]):"Validation failed"),w.value=!1;return}throw new Error(o.message||"Failed to save")}y.success(k.value?"Pengajuan dana berhasil diupdate":"Pengajuan dana berhasil ditambahkan"),L.push("/keuangan/pengajuan-dana")}catch(a){console.error("Error saving:",a),y.error("Terjadi kesalahan saat menyimpan data")}finally{w.value=!1}}};return z(async()=>{await ua(),await da()}),z(()=>{const n=new Date().toISOString().split("T")[0];!k.value&&(!e.usedAt||String(e.usedAt).trim()==="")&&(e.usedAt=n)}),(n,a)=>(u(),xa(Sa,null,{default:va(()=>{var s;return[r("div",Ta,[r("div",Da,[r("h3",Ca,g(aa.value),1),r("button",{onClick:Y,class:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"},"Batal")]),r("form",{onSubmit:ha(pa,["prevent"]),class:"flex flex-col"},[r("div",Aa,[r("div",Na,[a[16]||(a[16]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[S("Pengaju "),r("span",{class:"text-red-500"},"*")],-1)),j(C,{modelValue:e.applicant,"onUpdate:modelValue":a[0]||(a[0]=t=>e.applicant=t),options:I.value,placeholder:"Pilih atau cari pengaju","search-input":q.value,"onUpdate:searchInput":a[1]||(a[1]=t=>q.value=t)},null,8,["modelValue","options","search-input"])]),r("div",Pa,[a[17]||(a[17]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[S("Tipe Pengajuan "),r("span",{class:"text-red-500"},"*")],-1)),j(C,{modelValue:e.submissionType,"onUpdate:modelValue":a[2]||(a[2]=t=>e.submissionType=t),options:ra,placeholder:"Pilih tipe pengajuan","search-input":O.value,"onUpdate:searchInput":a[3]||(a[3]=t=>O.value=t)},null,8,["modelValue","search-input"])]),r("div",Va,[a[18]||(a[18]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Program",-1)),j(C,{modelValue:e.programId,"onUpdate:modelValue":a[4]||(a[4]=t=>e.programId=t),options:P.value,placeholder:"Pilih program"},null,8,["modelValue","options"])]),r("div",Ra,[a[19]||(a[19]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[S("Kantor Cabang "),r("span",{class:"text-red-500"},"*")],-1)),j(C,{modelValue:e.branchId,"onUpdate:modelValue":a[5]||(a[5]=t=>e.branchId=t),options:N.value,placeholder:"Pilih atau cari kantor cabang","search-input":B.value,"onUpdate:searchInput":a[6]||(a[6]=t=>B.value=t)},null,8,["modelValue","options","search-input"])]),r("div",Fa,[a[22]||(a[22]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[S("Status "),r("span",{class:"text-red-500"},"*")],-1)),e.status==="Approved"?(u(),m("div",Ua,[a[20]||(a[20]=r("span",{class:"flex-1"},"Disetujui",-1)),$(r("input",{type:"hidden","onUpdate:modelValue":a[7]||(a[7]=t=>e.status=t)},null,512),[[M,e.status]])])):e.status==="Rejected"?(u(),m("div",Ea,[a[21]||(a[21]=r("div",{class:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700 dark:border-red-800 dark:bg-red-900/10 dark:text-red-300"},[r("div",{class:"font-medium"},"Pengajuan ditolak"),r("div",{class:"text-xs"},"Anda dapat mengajukan ulang jika diperlukan.")],-1)),r("div",$a,[r("button",{type:"button",onClick:a[8]||(a[8]=()=>{e.status="Pending"}),class:"rounded bg-brand-500 px-3 py-1 text-sm text-white"},"Ajukan lagi"),r("button",{type:"button",onClick:a[9]||(a[9]=()=>{e.status="Draft"}),class:"rounded bg-gray-100 px-3 py-1 text-sm"},"Simpan sebagai Draft")])])):(u(),m("div",Ma,[j(C,{modelValue:e.status,"onUpdate:modelValue":a[10]||(a[10]=t=>e.status=t),options:ma.value,placeholder:"Pilih status"},null,8,["modelValue","options"])]))]),r("div",La,[a[23]||(a[23]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[S("Nominal "),r("span",{class:"text-red-500"},"*")],-1)),r("div",qa,[$(r("input",{type:"number","onUpdate:modelValue":a[11]||(a[11]=t=>e.amount=t),placeholder:"Masukkan nominal",min:"1",step:"1",required:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-24 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",onInput:ia},null,544),[[M,e.amount,void 0,{number:!0}]]),r("span",Oa,g(na.value),1)]),a[24]||(a[24]=r("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Minimal nominal: Rp 1",-1)),V.value?(u(),m("p",Ba,"Nominal melebihi sisa alokasi: "+g(h(((s=l.value)==null?void 0:s.remaining)||0)),1)):X.amount?(u(),m("p",Xa,g(X.amount),1)):D("",!0)]),r("div",Ha,[a[25]||(a[25]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[S("Tanggal Digunakan "),r("span",{class:"text-red-500"},"*")],-1)),r("div",Ka,[j(J(Q),{modelValue:e.usedAt,"onUpdate:modelValue":a[12]||(a[12]=t=>e.usedAt=t),config:ea,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Pilih tanggal digunakan",required:""},null,8,["modelValue"])])]),r("div",Ya,[a[27]||(a[27]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Rentang Tanggal Transaksi (opsional)",-1)),r("div",Ga,[j(J(Q),{modelValue:v.value,"onUpdate:modelValue":a[13]||(a[13]=t=>v.value=t),config:ta,class:"dark:bg-dark-900 h-10 flex-1 appearance-none rounded-lg border border-gray-300 bg-transparent px-3 py-2 text-sm text-gray-800 placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90",placeholder:"Pilih rentang tanggal"},null,8,["modelValue"]),Array.isArray(v.value)&&v.value.length>0||v.value&&String(v.value).length>0?(u(),m("button",{key:0,type:"button",title:"Hapus Leader",onClick:oa,class:"h-10 w-10 flex items-center justify-center rounded-lg border border-gray-300 bg-white text-sm text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},[...a[26]||(a[26]=[r("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M18 6L6 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])):D("",!0)])]),f.value?(u(),m("div",Wa,[r("div",za,[r("div",Ja,[r("div",null,[a[28]||(a[28]=r("div",{class:"text-xs text-gray-500"},"Program",-1)),r("div",Qa,g(f.value.nama_program||f.value.nama||""),1)]),r("div",Za,[f.value&&Array.isArray(f.value.shares)?(u(),m("div",ae,[r("div",ee,[(u(!0),m(ka,null,wa(la.value,t=>(u(),m("span",{key:t.id||t.share_id||t.program_share_id,class:"inline-flex items-center rounded px-2 py-0.5 bg-gray-100 text-xs text-gray-700 dark:bg-gray-800/40 dark:text-gray-300"},[t.type==="percentage"||t.type_key&&String(t.type_key).toLowerCase().includes("percent")?(u(),m("span",te,g(Number(t.value||0))+"% ",1)):(u(),m("span",re,g(h(Number(t.value||0))),1))]))),128))])])):(u(),m("div",ne," "))])]),l.value?(u(),m("div",se,[r("div",oe,[r("div",null,[r("div",le,[l.value.start_date&&l.value.end_date?(u(),m("span",ie,"Sisa alokasi "+g(H(l.value.start_date))+" - "+g(H(l.value.end_date)),1)):(u(),m("span",de,"Sisa alokasi bulan "+g(sa(l.value.month)),1))]),r("div",ue,g(h(l.value.remaining)),1)]),r("div",ge,[r("div",null,"Inflow: "+g(h(l.value.inflow)),1),r("div",null,"Dialokasikan: "+g(h(l.value.allocated)),1),r("div",null,"Terpakai: "+g(h(l.value.outflow)),1)])]),r("div",me,[a[29]||(a[29]=r("div",{class:"text-sm text-gray-600"},"Opsi:",-1)),r("div",pe,[r("button",{type:"button",onClick:a[14]||(a[14]=()=>{e.amount=l.value.remaining}),class:"rounded bg-gray-100 px-3 py-1 text-sm"},"Gunakan Seluruh Alokasi")])]),r("div",ce,[r("div",null,[a[30]||(a[30]=S("Estimasi sisa setelah pengajuan: ",-1)),r("span",be,g(h((l.value.remaining||0)-(e.amount||0))),1)]),(e.amount||0)>(l.value.remaining||0)?(u(),m("div",ye,"Kekurangan: "+g(h((e.amount||0)-(l.value.remaining||0))),1)):D("",!0)])])):D("",!0)])])):D("",!0),r("div",fe,[a[31]||(a[31]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Tujuan Pengajuan",-1)),$(r("textarea",{"onUpdate:modelValue":a[15]||(a[15]=t=>e.purpose=t),placeholder:"Masukkan tujuan atau alasan pengajuan dana",maxlength:"1000",rows:"4",class:"dark:bg-dark-900 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[M,e.purpose]]),r("p",xe,g(e.purpose.length)+"/1000 karakter",1)])]),r("div",ve,[r("button",{onClick:Y,type:"button",class:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto"},"Batal"),r("button",{disabled:w.value||V.value,type:"submit",class:_a(["flex w-full justify-center rounded-lg px-4 py-2.5 text-sm font-medium sm:w-auto",w.value||V.value?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-brand-500 text-white hover:bg-brand-600"])},g(k.value?"Simpan Perubahan":"Simpan"),11,he)])],32)])]}),_:1}))}});export{Te as default};
