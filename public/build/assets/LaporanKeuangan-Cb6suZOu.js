import{d as Ee,H as Oe,I as qe,A as g,b as i,B,f as we,g as ae,o,w as Xe,a as e,c as l,F as w,l as C,n as _,G as We,t as s,i as c,j as R,u as q,m as X,D as te,k as Ue,v as Ne}from"./admin-CT5My_mW.js";import{C as Ye}from"./component-BH1YZyCW.js";import{u as F,w as _e}from"./xlsx-3SA47z_C.js";import{_ as Je}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CDNBll6s.js";import{S as je}from"./SearchableSelect-q_h7RwSr.js";import{_ as Ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ge={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},Qe={role:"tablist",class:"mb-8 flex flex-wrap items-center justify-center gap-4 border-b border-gray-200 dark:border-gray-700"},ea=["aria-selected","aria-controls","id","onClick"],aa={class:"space-y-6"},ta={key:0,role:"tabpanel",id:"tabpanel-balance","aria-labelledby":"tab-balance"},ra={class:"mb-6"},na={class:"grid grid-cols-1 gap-3 md:grid-cols-12"},sa={class:"md:col-span-4"},oa={class:"md:col-span-3"},la={class:"md:col-span-3"},da={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2"},ia={class:"rounded-lg border border-gray-200 bg-gradient-to-br from-green-500 to-green-600 p-6 shadow-lg dark:border-gray-700 dark:from-green-600 dark:to-green-700"},ua={class:"flex items-center justify-between"},ga={class:"text-3xl font-bold text-white"},ca={class:"rounded-lg border border-gray-200 bg-gradient-to-br from-red-500 to-red-600 p-6 shadow-lg dark:border-gray-700 dark:from-red-600 dark:to-red-700"},pa={class:"flex items-center justify-between"},ba={class:"text-3xl font-bold text-white"},ma={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2"},ka={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},xa={class:"flex items-center justify-between"},va={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},ya={class:"mt-1 text-xs text-gray-500 dark:text-gray-500"},ha={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},fa={class:"flex items-center justify-between"},wa={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},_a={class:"mt-1 text-xs text-gray-500 dark:text-gray-500"},ja={class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Ma={class:"mb-4 flex items-center justify-between"},Pa={class:"text-sm text-gray-600 dark:text-gray-400"},Ca={class:"font-bold text-purple-600 dark:text-purple-400"},Sa={key:0,class:"mb-6 grid grid-cols-1 gap-3 sm:grid-cols-3"},Ba={class:"flex items-center justify-between"},Ta={class:"flex-1"},Da={class:"mb-1 flex items-center gap-2"},La={class:"text-sm font-medium text-gray-800 dark:text-white/90"},Fa={class:"text-xs text-gray-600 dark:text-gray-400"},za={class:"relative"},Ha={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},Va={key:2,class:"py-12 text-center"},Ra={class:"mb-6 grid grid-cols-1 gap-4 lg:grid-cols-2"},Ia={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},$a={class:"flex items-center justify-center"},Aa={class:"rounded-lg border border-gray-200 bg-gradient-to-br from-brand-500 to-brand-600 p-6 shadow-lg dark:border-gray-700 dark:from-brand-600 dark:to-brand-700"},Ka={class:"space-y-4"},Ea={class:"text-3xl font-bold text-white"},Oa={class:"flex items-center justify-between border-t border-white/20 pt-4"},qa={class:"text-lg font-semibold text-white"},Xa={class:"text-right"},Wa={class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Ua={class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Na={class:"mb-4 flex items-center justify-between"},Ya=["disabled"],Ja={class:"relative overflow-x-auto"},Za={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},Ga={class:"w-full table-auto"},Qa={class:"px-4 py-3 text-sm font-medium text-gray-800 dark:text-white/90"},et={class:"flex items-center gap-2"},at={key:1,class:"inline-flex items-center gap-2"},tt={key:2},rt={class:"px-4 py-3 text-right text-sm font-semibold text-green-600 dark:text-green-400"},nt={class:"px-4 py-3 text-right text-sm text-orange-600 dark:text-orange-400"},st={class:"px-4 py-3 text-right text-sm text-purple-600 dark:text-purple-400"},ot={class:"px-4 py-3 text-right text-sm font-semibold text-red-600 dark:text-red-400"},lt={key:0,class:"border-b border-gray-100 bg-blue-50/30 dark:border-gray-800 dark:bg-blue-900/5"},dt={colspan:"6",class:"px-4 py-4"},it={class:"ml-8 space-y-4"},ut={key:0},gt={class:"space-y-1"},ct={class:"text-gray-700 dark:text-gray-300"},pt={class:"font-semibold text-green-600 dark:text-green-400"},bt={key:1},mt={class:"space-y-1"},kt={class:"text-gray-700 dark:text-gray-300"},xt={class:"font-semibold text-orange-600 dark:text-orange-400"},vt={key:2},yt={class:"space-y-1"},ht={class:"text-gray-700 dark:text-gray-300"},ft={class:"font-semibold text-purple-600 dark:text-purple-400"},wt={key:3,class:"text-sm text-gray-500 dark:text-gray-500"},_t={key:0},jt={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Mt={class:"mb-4 flex gap-2 border-b border-gray-200 dark:border-gray-700"},Pt=["onClick"],Ct={class:"relative overflow-x-auto"},St={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},Bt={class:"w-full table-auto"},Tt={class:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300"},Dt={class:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300"},Lt={class:"px-4 py-3"},Ft={class:"px-4 py-3 text-right text-sm font-semibold text-green-600 dark:text-green-400"},zt={class:"px-4 py-3 text-right text-sm font-semibold text-red-600 dark:text-red-400"},Ht={class:"px-4 py-3 text-right text-sm font-medium text-gray-800 dark:text-white/90"},Vt={key:0},Rt={key:0,class:"mt-4 flex items-center justify-between"},It={class:"text-sm text-gray-600 dark:text-gray-400"},$t={class:"flex gap-2"},At=["disabled"],Kt=["disabled"],Et={key:1,role:"tabpanel",id:"tabpanel-mitra","aria-labelledby":"tab-mitra"},Ot={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},qt={class:"flex gap-4"},Xt={class:"flex-1"},Wt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Ut={class:"mb-4 flex items-center justify-between"},Nt=["onClick"],Yt={class:"mb-2 text-lg font-semibold text-gray-800 dark:text-white/90"},Jt={class:"mb-3 text-sm text-gray-600 dark:text-gray-400"},Zt={class:"flex items-center justify-between"},Gt={class:"text-base font-semibold text-gray-800 dark:text-white/90"},Qt={class:"text-base font-semibold text-gray-800 dark:text-white/90"},er={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},ar={class:"text-lg font-medium text-gray-600 dark:text-gray-400"},tr={key:0,class:"mt-2 text-sm text-gray-500 dark:text-gray-500"},rr={key:1,class:"mt-6 flex items-center justify-between"},nr={class:"text-sm text-gray-600 dark:text-gray-400"},sr={class:"flex gap-2"},or=["disabled"],lr={class:"flex gap-1"},dr=["onClick"],ir=["disabled"],ur=Ee({__name:"LaporanKeuangan",setup(gr){const W=Oe(),Me=qe();g(()=>W.meta.title||"Laporan Keuangan");const Pe=[{id:"balance",label:"Balance",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5z" />
    </svg>
  `}},{id:"mitra",label:"Mitra",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
    </svg>
  `}}],re=["balance","mitra"],ne=W.query.tab,j=i(re.includes(ne)?ne:"balance");B(()=>W.query.tab,r=>{r&&re.includes(r)&&(j.value=r)}),i("");const se=i(""),oe=i(""),le=i(""),de=i(""),S=i(""),U=i(1),m=i(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),k=i(new Date().toISOString().split("T")[0]);i(!1);const h=i({saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0}),M=i([]),p=i({current_page:1,last_page:1,per_page:20,total:0}),Ce={mode:"range",dateFormat:"Y-m-d",altInput:!0,altFormat:"d/m/Y",wrap:!1},T=i([m.value,k.value]);let N=null;const ie=(r=400)=>{N&&clearTimeout(N),N=setTimeout(()=>{p.value.current_page=1,L(1),Z(),G(),ke()},r)};B(T,r=>{if(Array.isArray(r))m.value=r[0]||m.value,k.value=r[1]||k.value;else if(typeof r=="string"){const a=r.split(" to ");m.value=a[0]||m.value,k.value=a[1]||k.value}ie()});const ue=i([]),ge=i([]),x=i(""),v=i(""),ce=i(""),pe=i(""),Se=g(()=>{const r=ue.value.map(a=>({value:String(a.id),label:a.nama_program||a.name||a.nama}));return[{value:"",label:"Semua Program"},...r]}),Be=g(()=>{const r=ge.value.map(a=>({value:String(a.id),label:a.nama||a.name}));return[{value:"",label:"Semua Kantor Cabang"},...r]});B([x,v],()=>{ie()});const f=i({pengajuan_dana:0,pengajuan_dana_percentage:0,penyaluran:0,penyaluran_percentage:0}),D=i([]),Y=i([]),I=i(!1),$=i(!1),be=i(!1),z=i(null),y=i({total:0,breakdown:[]}),A=i(!1),me=[{value:"all",label:"Semua"},{value:"masuk",label:"Pemasukan"},{value:"pengajuan_dana",label:"Pengajuan Dana"},{value:"penyaluran",label:"Penyaluran"}],H=i("all");B(H,()=>{I.value=!0,p.value.current_page=1,setTimeout(()=>{I.value=!1},300)});const K=g(()=>{if(!M.value)return[];switch(H.value){case"masuk":return M.value.filter(r=>r.masuk>0);case"pengajuan_dana":return M.value.filter(r=>r.keluar>0&&r.keterangan.toLowerCase().includes("pengajuan"));case"penyaluran":return M.value.filter(r=>r.keluar>0&&r.keterangan.toLowerCase().includes("penyalur"));default:return M.value}}),Te=g(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"donut"},colors:["#f97316","#a855f7"],labels:["Pengajuan Dana","Penyaluran"],legend:{position:"bottom",labels:{colors:"#6B7280"}},dataLabels:{enabled:!0,formatter:function(r){return r.toFixed(1)+"%"}},plotOptions:{pie:{donut:{size:"70%",labels:{show:!0,name:{show:!0,fontSize:"14px",fontWeight:600,color:"#374151"},value:{show:!0,fontSize:"24px",fontWeight:700,color:"#1F2937",formatter:function(r){return d(parseFloat(r))}},total:{show:!0,label:"Total",fontSize:"14px",fontWeight:600,color:"#6B7280",formatter:function(r){const a=r.globals.seriesTotals.reduce((t,n)=>t+n,0);return d(a)}}}}}}})),De=g(()=>[f.value.pengajuan_dana||0,f.value.penyaluran||0]),Le=g(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"area",toolbar:{show:!1}},colors:["#10b981","#ef4444"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.1}},xaxis:{type:"datetime",labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"},formatter:function(r){return d(r)}}},tooltip:{x:{format:"dd MMM yyyy"},y:{formatter:function(r){return d(r)}}},legend:{position:"top",horizontalAlign:"right",labels:{colors:"#6B7280"}}})),Fe=g(()=>[{name:"Pemasukan",data:Y.value.map(r=>[new Date(r.tanggal).getTime(),r.pemasukan||0])},{name:"Pengeluaran",data:Y.value.map(r=>[new Date(r.tanggal).getTime(),r.pengeluaran||0])}]),ze=g(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"bar",toolbar:{show:!1}},colors:["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#6366f1","#14b8a6","#f97316"],plotOptions:{bar:{horizontal:!0,barHeight:"70%",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(r){return d(r)},offsetX:10,style:{fontSize:"12px",colors:["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#6366f1","#14b8a6","#f97316"]}},xaxis:{categories:y.value.breakdown.map(r=>r.alias),labels:{style:{colors:"#6B7280"},formatter:function(r){return d(r)}}},yaxis:{labels:{style:{colors:"#6B7280"}}},tooltip:{y:{formatter:function(r,a){const t=y.value.breakdown[a.dataPointIndex];return`${d(r)} (${t.percentage}% • ${t.count} transaksi)`}}},grid:{borderColor:"#e5e7eb"}})),He=g(()=>[{name:"Jumlah Penyaluran",data:y.value.breakdown.map(r=>r.amount)}]);i(!1);const E=i("all");g(()=>E.value==="masuk"?"Pemasukan":E.value==="keluar"?"Pengeluaran":"Semua"),g(()=>M.value?E.value==="masuk"?M.value.filter(r=>r.masuk>0):E.value==="keluar"?M.value.filter(r=>r.keluar>0):M.value:[]),i(null),g(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"radialBar"},colors:["#10b981","#ef4444"],plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"70%"},track:{background:"#E4E7EC",strokeWidth:"100%",margin:5},dataLabels:{name:{show:!1},value:{fontSize:"24px",fontWeight:"600",offsetY:0,color:"#1D2939",formatter:function(r){return r.toFixed(1)+"%"}}}}},fill:{type:"solid"},stroke:{lineCap:"round"},labels:["Pemasukan"]}));const J=g(()=>{const r=h.value.totalMasuk||0,a=h.value.totalKeluar||0,t=r+a;return t===0?0:r/t*100});g(()=>J.value.toFixed(2)),g(()=>(100-J.value).toFixed(2)),g(()=>[J.value]);const L=async(r=1)=>{try{console.log("fetchBalanceData start",{start:m.value,end:k.value,program:x.value,kantor:v.value,page:r}),p.value.current_page=r;const a=new URLSearchParams;a.append("start",m.value),a.append("end",k.value),a.append("page",String(r)),a.append("per_page",String(p.value.per_page||20)),x.value&&a.append("program_id",x.value),v.value&&a.append("kantor_cabang_id",v.value);const t=await fetch(`/admin/api/laporan/keuangan?${a.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok){console.error("Error fetching laporan keuangan",t.status);return}const n=await t.json();if(console.log("fetchBalanceData json",n),!n.success){console.error("API returned error",n.message);return}const u=n.data;h.value=u.totals||{saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0},M.value=u.transactions||[],p.value={...u.pagination||{},per_page:u.pagination&&u.pagination.per_page||20},u.breakdown&&(f.value={pengajuan_dana:u.breakdown.pengajuan_dana||0,pengajuan_dana_percentage:u.breakdown.pengajuan_percentage||0,penyaluran:u.breakdown.penyaluran||0,penyaluran_percentage:u.breakdown.penyaluran_percentage||0},console.log("Balance breakdown loaded:",{pengajuan_dana:f.value.pengajuan_dana,pengajuan_percentage:f.value.pengajuan_dana_percentage,penyaluran:f.value.penyaluran,penyaluran_percentage:f.value.penyaluran_percentage})),await Promise.all([Z(),G()])}catch(a){console.error("Exception fetching laporan keuangan",a)}},Z=async()=>{try{$.value=!0;const r=new URLSearchParams;r.append("start",m.value),r.append("end",k.value),x.value&&r.append("program_id",x.value),v.value&&r.append("kantor_cabang_id",v.value);const a=await fetch(`/admin/api/laporan/keuangan/program-breakdown?${r.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok){console.error("Program breakdown fetch failed:",a.status,a.statusText);return}const t=await a.json();console.log("Program breakdown response:",t),t.success&&(D.value=t.data||[],console.log("Program breakdown data loaded:",D.value.length,"items"))}catch(r){console.error("Error fetching program breakdown",r)}finally{$.value=!1}},G=async()=>{try{be.value=!0;const r=new URLSearchParams;r.append("start",m.value),r.append("end",k.value),x.value&&r.append("program_id",x.value),v.value&&r.append("kantor_cabang_id",v.value);const a=await fetch(`/admin/api/laporan/keuangan/timeline?${r.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)return;const t=await a.json();t.success&&(Y.value=t.data||[])}catch(r){console.error("Error fetching timeline data",r)}finally{be.value=!1}},ke=async()=>{try{A.value=!0;const r=new URLSearchParams;r.append("start",m.value),r.append("end",k.value),x.value&&r.append("program_id",x.value),v.value&&r.append("kantor_cabang_id",v.value);const a=await fetch(`/admin/api/laporan/keuangan/penyaluran-by-alias?${r.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)return;const t=await a.json();t.success&&(y.value=t.data||{total:0,breakdown:[]})}catch(r){console.error("Error fetching penyaluran by alias",r)}finally{A.value=!1}},Ve=()=>{const r=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],a=new Date().toISOString().split("T")[0];m.value=r,k.value=a,T.value=[r,a],x.value="",v.value="",p.value.current_page=1,L(1)},xe=async()=>{var r,a;try{const t=await fetch("/admin/api/program?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const n=await t.json();n.success&&(ue.value=n.data||((r=n.data)==null?void 0:r.data)||((a=n.data)==null?void 0:a.items)||[])}catch(t){console.error("Error fetching programs",t)}},ve=async()=>{var r,a;try{const t=await fetch("/admin/api/kantor-cabang?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const n=await t.json();n.success&&(ge.value=n.data||((r=n.data)==null?void 0:r.data)||((a=n.data)==null?void 0:a.items)||[])}catch(t){console.error("Error fetching kantor cabang",t)}};B(j,r=>{r==="balance"&&(T.value=[m.value,k.value],L(1),xe(),ve())}),we(()=>{j.value==="balance"&&(T.value=[m.value,k.value],Promise.all([L(1),xe(),ve(),Z(),G(),ke()]))});const Re=()=>{const r=D.value.map(u=>({Program:u.program_nama,Pemasukan:d(u.pemasukan||0),"Pengajuan Dana":d(u.pengajuan_dana||0),Penyaluran:d(u.penyaluran||0),"Total Pengeluaran":d((u.pengajuan_dana||0)+(u.penyaluran||0)),Saldo:d(u.saldo||0)})),a=F.json_to_sheet(r),t=F.book_new();F.book_append_sheet(t,a,"Breakdown Program");const n=`Breakdown_Program_${m.value}_${k.value}.xlsx`;_e(t,n)},Ie=()=>{var fe;const r=K.value.map(P=>({Tanggal:P.tanggal,Keterangan:P.keterangan,Tipe:P.masuk>0?"Pemasukan":"Pengeluaran",Masuk:P.masuk>0?d(P.masuk):"-",Keluar:P.keluar>0?d(P.keluar):"-",Saldo:d(P.saldo)})),a=F.json_to_sheet(r),t=F.book_new();F.book_append_sheet(t,a,"Detail Transaksi");const u=`Transaksi_${((fe=me.find(P=>P.value===H.value))==null?void 0:fe.label)||"Semua"}_${m.value}_${k.value}.xlsx`;_e(t,u)},d=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r);g(()=>{let r=[...$e];if(se.value&&(r=r.filter(a=>{const t=new Date(a.tanggal),n=new Date(se.value);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()})),oe.value){const a=oe.value.toLowerCase();r=r.filter(t=>t.keterangan.toLowerCase().includes(a))}if(le.value){const a=parseFloat(le.value);isNaN(a)||(r=r.filter(t=>t.masuk>=a))}if(de.value){const a=parseFloat(de.value);isNaN(a)||(r=r.filter(t=>t.keluar>=a))}return r});const $e=[{id:"1",tanggal:"2024-01-15",keterangan:"Donasi dari PT ABC",masuk:5e7,keluar:0,saldo:5e7},{id:"2",tanggal:"2024-01-16",keterangan:"Pembayaran gaji karyawan",masuk:0,keluar:25e6,saldo:25e6},{id:"3",tanggal:"2024-01-17",keterangan:"Donasi online",masuk:1e7,keluar:0,saldo:35e6},{id:"4",tanggal:"2024-01-18",keterangan:"Biaya operasional",masuk:0,keluar:5e6,saldo:3e7},{id:"5",tanggal:"2024-01-19",keterangan:"Zakat dari donatur",masuk:75e6,keluar:0,saldo:105e6},{id:"6",tanggal:"2024-01-20",keterangan:"Penyaluran ke program pendidikan",masuk:0,keluar:3e7,saldo:75e6},{id:"7",tanggal:"2024-01-21",keterangan:"Donasi dari Yayasan XYZ",masuk:1e8,keluar:0,saldo:175e6},{id:"8",tanggal:"2024-01-22",keterangan:"Biaya administrasi",masuk:0,keluar:2e6,saldo:173e6}],O=i([]),b=i({current_page:1,last_page:1,per_page:12,total:0}),ye=i(!1),V=async(r=1)=>{try{ye.value=!0;const a=new URLSearchParams;a.append("page",String(r)),a.append("per_page",String(b.value.per_page||12)),S.value&&a.append("search",S.value);const t=await fetch(`/admin/api/laporan/mitra?${a.toString()}`,{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const n=await t.json();if(!n.success)return;O.value=n.data||[],b.value={...n.pagination||{},per_page:b.value.per_page}}catch(a){console.error("Error fetching mitra list",a)}finally{ye.value=!1}};let Q=null;B(S,()=>{Q&&clearTimeout(Q),Q=setTimeout(()=>V(1),400)});const ee=g(()=>Math.ceil(b.value.total/b.value.per_page)),he=g(()=>(b.value.current_page-1)*b.value.per_page),Ae=g(()=>Math.min(he.value+b.value.per_page,b.value.total));B(j,r=>{r==="mitra"&&V(1)}),we(()=>{j.value==="mitra"&&V(1)});const Ke=r=>{Me.push(`/laporan/detail-mitra/${r}`)};return(r,a)=>(o(),ae(Je,null,{default:Xe(()=>[e("div",Ge,[a[54]||(a[54]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"mb-2 text-3xl font-bold text-gray-800 dark:text-white/90 sm:text-4xl"}," Laporan Keuangan "),e("p",{class:"text-lg text-gray-600 dark:text-gray-400"}," Ringkasan dan detail keuangan organisasi ")],-1)),e("div",Qe,[(o(),l(w,null,C(Pe,t=>e("button",{key:t.id,role:"tab","aria-selected":j.value===t.id,"aria-controls":`tabpanel-${t.id}`,id:`tab-${t.id}`,onClick:n=>j.value=t.id,class:_(["flex items-center gap-2 rounded-t-lg px-6 py-3 text-sm font-medium transition-all duration-200",j.value===t.id?"border-b-2 border-brand-500 bg-brand-50 text-brand-600 dark:bg-brand-500/10 dark:text-brand-400":"text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},[(o(),ae(We(t.icon),{class:"h-5 w-5"})),e("span",null,s(t.label),1)],10,ea)),64))]),e("div",aa,[j.value==="balance"?(o(),l("div",ta,[e("div",ra,[e("div",na,[e("div",sa,[a[11]||(a[11]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Rentang Tanggal",-1)),R(q(Ye),{modelValue:T.value,"onUpdate:modelValue":a[0]||(a[0]=t=>T.value=t),config:Ce,class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:border-brand-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90",placeholder:"Pilih rentang tanggal"},null,8,["modelValue"])]),e("div",oa,[a[12]||(a[12]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Program",-1)),R(je,{modelValue:x.value,"onUpdate:modelValue":a[1]||(a[1]=t=>x.value=t),options:Se.value,placeholder:"Semua Program","search-input":ce.value,"onUpdate:searchInput":a[2]||(a[2]=t=>ce.value=t)},null,8,["modelValue","options","search-input"])]),e("div",la,[a[13]||(a[13]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Kantor Cabang",-1)),R(je,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=t=>v.value=t),options:Be.value,placeholder:"Semua Kantor Cabang","search-input":pe.value,"onUpdate:searchInput":a[4]||(a[4]=t=>pe.value=t)},null,8,["modelValue","options","search-input"])]),e("div",{class:"md:col-span-2 flex items-end justify-end"},[e("button",{onClick:Ve,class:"h-11 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-white/[0.03]"}," Reset ")])])]),e("div",da,[e("div",ia,[e("div",ua,[e("div",null,[a[14]||(a[14]=e("p",{class:"mb-1 text-sm font-medium text-white/80"},"Total Pemasukan",-1)),e("h3",ga,s(d(h.value.totalMasuk||0)),1)]),a[15]||(a[15]=e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-white/20"},[e("svg",{class:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1))])]),e("div",ca,[e("div",pa,[e("div",null,[a[16]||(a[16]=e("p",{class:"mb-1 text-sm font-medium text-white/80"},"Total Pengeluaran",-1)),e("h3",ba,s(d(h.value.totalKeluar||0)),1)]),a[17]||(a[17]=e("div",{class:"flex h-14 w-14 items-center justify-center rounded-lg bg-white/20"},[e("svg",{class:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})])],-1))])])]),e("div",ma,[e("div",ka,[e("div",xa,[e("div",null,[a[18]||(a[18]=e("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"},"Pengajuan Dana",-1)),e("p",va,s(d(f.value.pengajuan_dana||0)),1),e("p",ya,s(f.value.pengajuan_dana_percentage||0)+"% dari total pengeluaran ",1)]),a[19]||(a[19]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-100 dark:bg-orange-500/10"},[e("svg",{class:"h-6 w-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),e("div",ha,[e("div",fa,[e("div",null,[a[20]||(a[20]=e("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"},"Penyaluran",-1)),e("p",wa,s(d(f.value.penyaluran||0)),1),e("p",_a,s(f.value.penyaluran_percentage||0)+"% dari total pengeluaran ",1)]),a[21]||(a[21]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100 dark:bg-purple-500/10"},[e("svg",{class:"h-6 w-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])])]),e("div",ja,[e("div",Ma,[a[23]||(a[23]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Penyaluran per Kategori",-1)),e("div",Pa,[a[22]||(a[22]=X(" Total: ",-1)),e("span",Ca,s(d(y.value.total||0)),1)])]),y.value.breakdown&&y.value.breakdown.length>0?(o(),l("div",Sa,[(o(!0),l(w,null,C(y.value.breakdown.slice(0,3),(t,n)=>(o(),l("div",{key:n,class:_(["rounded-lg border p-4",{"border-purple-200 bg-purple-50 dark:border-purple-500/20 dark:bg-purple-500/10":n===0,"border-blue-200 bg-blue-50 dark:border-blue-500/20 dark:bg-blue-500/10":n===1,"border-green-200 bg-green-50 dark:border-green-500/20 dark:bg-green-500/10":n===2}])},[e("div",Ba,[e("div",Ta,[e("div",Da,[e("span",{class:_(["flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold",{"bg-purple-200 text-purple-700 dark:bg-purple-500/20 dark:text-purple-400":n===0,"bg-blue-200 text-blue-700 dark:bg-blue-500/20 dark:text-blue-400":n===1,"bg-green-200 text-green-700 dark:bg-green-500/20 dark:text-green-400":n===2}])},s(n+1),3),e("p",La,s(t.alias),1)]),e("p",{class:_(["text-lg font-bold",{"text-purple-700 dark:text-purple-400":n===0,"text-blue-700 dark:text-blue-400":n===1,"text-green-700 dark:text-green-400":n===2}])},s(d(t.amount)),3),e("p",Fa,s(t.percentage)+"% • "+s(t.count)+" transaksi ",1)])])],2))),128))])):c("",!0),e("div",za,[A.value?(o(),l("div",Ha,[...a[24]||(a[24]=[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data kategori...")],-1)])])):c("",!0),y.value.breakdown&&y.value.breakdown.length>0?(o(),ae(q(te),{key:1,type:"bar",height:"300",options:ze.value,series:He.value},null,8,["options","series"])):c("",!0),!y.value.breakdown||y.value.breakdown.length===0&&!A.value?(o(),l("div",Va,[...a[25]||(a[25]=[e("div",{class:"flex flex-col items-center justify-center gap-3"},[e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Tidak ada data penyaluran"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Belum ada penyaluran untuk periode ini")],-1)])])):c("",!0)])]),e("div",Ra,[e("div",Ia,[a[26]||(a[26]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"},"Breakdown Pengeluaran",-1)),e("div",$a,[R(q(te),{type:"donut",height:"280",options:Te.value,series:De.value},null,8,["options","series"])])]),e("div",Aa,[a[30]||(a[30]=e("h3",{class:"mb-4 text-lg font-semibold text-white/90"},"Saldo",-1)),e("div",Ka,[e("div",null,[a[27]||(a[27]=e("p",{class:"text-sm text-white/80"},"Saldo Akhir",-1)),e("p",Ea,s(d(h.value.saldo_akhir||0)),1)]),e("div",Oa,[e("div",null,[a[28]||(a[28]=e("p",{class:"text-xs text-white/70"},"Saldo Awal",-1)),e("p",qa,s(d(h.value.saldo_awal||0)),1)]),e("div",Xa,[a[29]||(a[29]=e("p",{class:"text-xs text-white/70"},"Selisih",-1)),e("p",{class:_(["text-lg font-semibold",h.value.saldo_akhir-h.value.saldo_awal>=0?"text-green-200":"text-red-200"])},s(d(Math.abs(h.value.saldo_akhir-h.value.saldo_awal))),3)])])])])]),e("div",Wa,[a[31]||(a[31]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"},"Tren Harian",-1)),R(q(te),{type:"area",height:"320",options:Le.value,series:Fe.value},null,8,["options","series"])]),e("div",Ua,[e("div",Na,[a[33]||(a[33]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Breakdown per Program",-1)),e("button",{onClick:Re,disabled:D.value.length===0,class:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed"},[...a[32]||(a[32]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),X(" Export Excel ",-1)])],8,Ya)]),e("div",Ja,[$.value?(o(),l("div",Za,[...a[34]||(a[34]=[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data program...")],-1)])])):c("",!0),e("table",Ga,[a[42]||(a[42]=e("thead",null,[e("tr",{class:"border-b border-gray-200 text-left text-sm font-semibold text-gray-600 dark:border-gray-700 dark:text-gray-400"},[e("th",{class:"px-4 py-3"},"Program"),e("th",{class:"px-4 py-3 text-right"},"Pemasukan"),e("th",{class:"px-4 py-3 text-right"},"Pengajuan Dana"),e("th",{class:"px-4 py-3 text-right"},"Penyaluran"),e("th",{class:"px-4 py-3 text-right"},"Total Pengeluaran"),e("th",{class:"px-4 py-3 text-right"},"Saldo")])],-1)),e("tbody",null,[(o(!0),l(w,null,C(D.value,t=>(o(),l(w,{key:t.id||"null-program"},[e("tr",{class:_(["border-b border-gray-100 hover:bg-gray-50 dark:border-gray-800 dark:hover:bg-white/[0.02]",{"bg-blue-50/50 dark:bg-blue-900/10":z.value===(t.id||"null")}])},[e("td",Qa,[e("div",et,[t.id===null&&t.breakdown?(o(),l("button",{key:0,onClick:a[5]||(a[5]=n=>z.value=z.value==="null"?null:"null"),class:"flex h-6 w-6 items-center justify-center rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[(o(),l("svg",{class:_(["h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform",{"rotate-90":z.value==="null"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...a[35]||(a[35]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))])):c("",!0),t.id===null?(o(),l("span",at,[a[36]||(a[36]=e("svg",{class:"h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),X(" "+s(t.nama),1)])):(o(),l("span",tt,s(t.nama),1))])]),e("td",rt,s(d(t.pemasukan||0)),1),e("td",nt,s(d(t.pengajuan_dana||0)),1),e("td",st,s(d(t.penyaluran||0)),1),e("td",ot,s(d(t.total_pengeluaran||0)),1),e("td",{class:_(["px-4 py-3 text-right text-sm font-bold",(t.saldo||0)>=0?"text-brand-600 dark:text-brand-400":"text-red-600 dark:text-red-400"])},s(d(t.saldo||0)),3)],2),t.id===null&&t.breakdown&&z.value==="null"?(o(),l("tr",lt,[e("td",dt,[e("div",it,[a[40]||(a[40]=e("div",{class:"text-xs font-semibold uppercase text-gray-600 dark:text-gray-400"},"Detail Breakdown (FIFO)",-1)),t.breakdown.pemasukan&&t.breakdown.pemasukan.length>0?(o(),l("div",ut,[a[37]||(a[37]=e("div",{class:"mb-2 text-sm font-medium text-green-700 dark:text-green-400"},"Pemasukan dari Program:",-1)),e("div",gt,[(o(!0),l(w,null,C(t.breakdown.pemasukan,(n,u)=>(o(),l("div",{key:"pemasukan-"+u,class:"flex items-center justify-between rounded bg-white px-3 py-2 text-sm dark:bg-gray-800/50"},[e("span",ct,s(n.program_nama),1),e("span",pt,s(d(n.amount)),1)]))),128))])])):c("",!0),t.breakdown.pengajuan_dana&&t.breakdown.pengajuan_dana.length>0?(o(),l("div",bt,[a[38]||(a[38]=e("div",{class:"mb-2 text-sm font-medium text-orange-700 dark:text-orange-400"},"Pengajuan Dana dari Program:",-1)),e("div",mt,[(o(!0),l(w,null,C(t.breakdown.pengajuan_dana,(n,u)=>(o(),l("div",{key:"pengajuan-"+u,class:"flex items-center justify-between rounded bg-white px-3 py-2 text-sm dark:bg-gray-800/50"},[e("span",kt,s(n.program_nama),1),e("span",xt,s(d(n.amount)),1)]))),128))])])):c("",!0),t.breakdown.penyaluran&&t.breakdown.penyaluran.length>0?(o(),l("div",vt,[a[39]||(a[39]=e("div",{class:"mb-2 text-sm font-medium text-purple-700 dark:text-purple-400"},"Penyaluran dari Program:",-1)),e("div",yt,[(o(!0),l(w,null,C(t.breakdown.penyaluran,(n,u)=>(o(),l("div",{key:"penyaluran-"+u,class:"flex items-center justify-between rounded bg-white px-3 py-2 text-sm dark:bg-gray-800/50"},[e("span",ht,s(n.program_nama),1),e("span",ft,s(d(n.amount)),1)]))),128))])])):c("",!0),(!t.breakdown.pemasukan||t.breakdown.pemasukan.length===0)&&(!t.breakdown.pengajuan_dana||t.breakdown.pengajuan_dana.length===0)&&(!t.breakdown.penyaluran||t.breakdown.penyaluran.length===0)?(o(),l("div",wt," Tidak ada detail breakdown untuk periode ini ")):c("",!0)])])])):c("",!0)],64))),128)),D.value.length===0&&!$.value?(o(),l("tr",_t,[...a[41]||(a[41]=[e("td",{colspan:"6",class:"px-4 py-12 text-center"},[e("div",{class:"flex flex-col items-center justify-center gap-3"},[e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Tidak ada data program"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Belum ada aktivitas keuangan untuk periode ini")])],-1)])])):c("",!0)])])])]),e("div",jt,[e("div",{class:"mb-4 flex items-center justify-between"},[a[44]||(a[44]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Detail Transaksi",-1)),e("button",{onClick:Ie,class:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600"},[...a[43]||(a[43]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),X(" Export Excel ",-1)])])]),e("div",Mt,[(o(),l(w,null,C(me,t=>e("button",{key:t.value,onClick:n=>H.value=t.value,class:_(["px-4 py-2 text-sm font-medium transition-colors",H.value===t.value?"border-b-2 border-brand-500 text-brand-600 dark:text-brand-400":"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300"])},s(t.label),11,Pt)),64))]),e("div",Ct,[I.value?(o(),l("div",St,[...a[45]||(a[45]=[e("div",{class:"flex flex-col items-center gap-3"},[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data...")],-1)])])):c("",!0),e("table",Bt,[a[47]||(a[47]=e("thead",null,[e("tr",{class:"border-b border-gray-200 text-left text-sm font-semibold text-gray-600 dark:border-gray-700 dark:text-gray-400"},[e("th",{class:"px-4 py-3"},"Tanggal"),e("th",{class:"px-4 py-3"},"Keterangan"),e("th",{class:"px-4 py-3"},"Tipe"),e("th",{class:"px-4 py-3 text-right"},"Masuk"),e("th",{class:"px-4 py-3 text-right"},"Keluar"),e("th",{class:"px-4 py-3 text-right"},"Saldo")])],-1)),e("tbody",null,[(o(!0),l(w,null,C(K.value,t=>(o(),l("tr",{key:t.id,class:"border-b border-gray-100 hover:bg-gray-50 dark:border-gray-800 dark:hover:bg-white/[0.02]"},[e("td",Tt,s(t.tanggal),1),e("td",Dt,s(t.keterangan),1),e("td",Lt,[e("span",{class:_(["inline-flex rounded-full px-2 py-1 text-xs font-medium",{"bg-green-100 text-green-700 dark:bg-green-500/10 dark:text-green-400":t.masuk>0,"bg-red-100 text-red-700 dark:bg-red-500/10 dark:text-red-400":t.keluar>0}])},s(t.masuk>0?"Pemasukan":"Pengeluaran"),3)]),e("td",Ft,s(t.masuk>0?d(t.masuk):"-"),1),e("td",zt,s(t.keluar>0?d(t.keluar):"-"),1),e("td",Ht,s(d(t.saldo)),1)]))),128)),K.value.length===0&&!I.value?(o(),l("tr",Vt,[...a[46]||(a[46]=[e("td",{colspan:"6",class:"px-4 py-12 text-center"},[e("div",{class:"flex flex-col items-center justify-center gap-3"},[e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Tidak ada transaksi"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Belum ada data transaksi untuk filter ini")])],-1)])])):c("",!0)])])]),K.value.length>0?(o(),l("div",Rt,[e("div",It," Menampilkan halaman "+s(p.value.current_page)+" dari "+s(p.value.last_page)+" — total "+s(p.value.total)+" transaksi ",1),e("div",$t,[e("button",{disabled:p.value.current_page<=1,onClick:a[6]||(a[6]=()=>{p.value.current_page=Math.max(1,p.value.current_page-1),L(p.value.current_page)}),class:"h-10 rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-white/[0.03]"}," Sebelumnya ",8,At),e("button",{disabled:p.value.current_page>=p.value.last_page,onClick:a[7]||(a[7]=()=>{p.value.current_page=Math.min(p.value.last_page,p.value.current_page+1),L(p.value.current_page)}),class:"h-10 rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-white/[0.03]"}," Selanjutnya ",8,Kt)])])):c("",!0)])])):c("",!0),j.value==="mitra"?(o(),l("div",Et,[e("div",Ot,[e("div",qt,[e("div",Xt,[a[48]||(a[48]=e("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Cari Mitra ",-1)),Ue(e("input",{type:"text","onUpdate:modelValue":a[8]||(a[8]=t=>S.value=t),placeholder:"Cari nama mitra atau program...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[Ne,S.value]])])])]),e("div",Wt,[(o(!0),l(w,null,C(O.value,t=>(o(),l("div",{key:t.id,class:"group cursor-pointer rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-brand-300 hover:shadow-lg dark:border-gray-700 dark:bg-white/[0.03] dark:hover:border-brand-500"},[e("div",Ut,[a[50]||(a[50]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-brand-500 text-white transition-all duration-300 group-hover:scale-110 group-hover:bg-brand-500 group-hover:text-white dark:bg-brand-500/10 dark:text-white/90"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("button",{onClick:n=>Ke(t.id),class:"flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-100 hover:text-brand-500 dark:hover:bg-white/[0.03] dark:hover:text-brand-400"},[...a[49]||(a[49]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Nt)]),e("h3",Yt,s(t.nama),1),e("p",Jt,s(t.transaksi_count||0)+" transaksi • "+s(d(t.transaksi_total||0)),1),e("div",Zt,[e("div",null,[a[51]||(a[51]=e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Jumlah Transaksi",-1)),e("p",Gt,s(t.transaksi_count||0),1)]),e("div",null,[a[52]||(a[52]=e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Total Nilai",-1)),e("p",Qt,s(d(t.transaksi_total||0)),1)])])]))),128))]),O.value.length===0?(o(),l("div",er,[a[53]||(a[53]=e("svg",{class:"mb-4 h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e("p",ar,s(S.value?"Tidak ada data mitra ditemukan":"Tidak ada data mitra"),1),S.value?(o(),l("p",tr," Coba ubah kata kunci pencarian Anda ")):c("",!0)])):c("",!0),O.value.length>0?(o(),l("div",rr,[e("div",nr," Menampilkan "+s(he.value+1)+" - "+s(Ae.value)+" dari "+s(b.value.total)+" mitra ",1),e("div",sr,[e("button",{onClick:a[9]||(a[9]=t=>{b.value.current_page=Math.max(1,b.value.current_page-1),V(b.value.current_page)}),disabled:b.value.current_page===1,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Sebelumnya ",8,or),e("div",lr,[(o(!0),l(w,null,C(ee.value,t=>(o(),l("button",{key:t,onClick:n=>{b.value.current_page=t,V(t)},class:_(["flex h-10 w-10 items-center justify-center rounded-lg border text-sm font-medium transition-colors",b.value.current_page===t?"border-brand-500 bg-brand-500 text-white":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},s(t),11,dr))),128))]),e("button",{onClick:a[10]||(a[10]=t=>U.value=Math.min(ee.value,U.value+1)),disabled:U.value===ee.value,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Selanjutnya ",8,ir)])])):c("",!0)])):c("",!0)])])]),_:1}))}}),hr=Ze(ur,[["__scopeId","data-v-10d84b42"]]);export{hr as default};
