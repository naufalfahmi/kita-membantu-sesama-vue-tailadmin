import{d as Y,H as Z,I as ee,A as T,b as c,e as ae,M as re,f as te,B as se,g as R,o as g,w as ne,a as r,t as x,q as oe,m as y,k as i,v as u,j as de,u as m,c as h,F as M,i as V,l as q}from"./admin-BoR1tkBw.js";import{_ as le}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BGrMAuzP.js";import{S as K}from"./SearchableSelect-Cb1Ouodk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ie={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},ue={class:"mb-6 flex items-center justify-between"},pe={class:"font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl"},ce={class:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2"},ge={class:"lg:col-span-1"},me={class:"relative"},be={class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400 text-sm"},ye={class:"lg:col-span-1"},he={class:"lg:col-span-1"},ke={class:"mt-2 text-sm text-gray-600"},fe={class:"font-medium"},xe={class:"font-medium"},ve={class:"lg:col-span-1"},we={class:"lg:col-span-1"},je={class:"lg:col-span-1"},_e={class:"lg:col-span-1"},Te={class:"lg:col-span-1"},Ce={class:"lg:col-span-1"},Ie={class:"lg:col-span-2"},Me={class:"lg:col-span-2"},Pe={class:"lg:col-span-1"},Se=["value"],Fe={class:"lg:col-span-2"},Ue={class:"space-y-4"},Ee={class:"relative"},Re={key:0,class:"mb-6"},Ve={class:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4"},qe={class:"aspect-square overflow-hidden rounded-lg border-2 border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900/50"},Ke=["src","alt"],Ae=["onClick"],Be={key:1},De={class:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4"},Ne={class:"aspect-square overflow-hidden rounded-lg border-2 border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900/50"},Le=["src","alt"],Ge={class:"mt-2"},Xe={class:"truncate text-xs font-medium text-gray-700 dark:text-gray-300"},$e={class:"text-xs text-gray-500 dark:text-gray-400"},He=["onClick"],Ye=Y({__name:"PenyaluranForm",setup(Oe){const k=Z(),C=ee(),v=T(()=>k.params.id!==void 0&&k.params.id!=="new"),A=T(()=>v.value?"Edit Penyaluran":"Buat Penyaluran"),P=c([]),B=async()=>{try{const s=await fetch("/admin/api/kantor-cabang?per_page=1000",{credentials:"same-origin"});if(!s.ok)return;const e=await s.json(),o=e.success&&e.data?Array.isArray(e.data)?e.data:e.data.data||[]:[];P.value=o.map(n=>({value:n.id,label:n.nama}))}catch(s){console.error("Failed to fetch kantor cabang options",s)}},D=async()=>{try{const e=await(await fetch("/admin/api/program-share-types/submission-types",{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();e.success&&Array.isArray(e.data)?(b.value=e.data.map(o=>({value:o.value,label:o.value})),!a.submissionType&&b.value.length>0&&(a.submissionType=b.value[0].value)):(b.value=[{value:"Program",label:"Program"},{value:"Operasional",label:"Operasional"},{value:"Gaji Karyawan",label:"Gaji Karyawan"}],a.submissionType||(a.submissionType="Program"))}catch(s){console.error("Error fetching submission types",s),b.value=[{value:"Program",label:"Program"},{value:"Operasional",label:"Operasional"},{value:"Gaji Karyawan",label:"Gaji Karyawan"}],a.submissionType||(a.submissionType="Program")}};c("");const S=c(""),F=c(""),b=c([]),f=c(null),N=async()=>{var s,e,o;try{const n=await fetch("/admin/api/user",{credentials:"same-origin"});if(n.ok){const d=await n.json();d.success&&d.user&&(f.value=d.user,(e=(s=f.value)==null?void 0:s.kantor_cabang)!=null&&e.id&&(a.branchId=String(f.value.kantor_cabang.id)),(o=f.value)!=null&&o.is_admin&&await B())}}catch(n){console.error("Failed to fetch current user",n)}},I=c(null),w=c([]),j=c([]),a=ae({amount:null,program:"",submissionType:"",pic:"",village:"",district:"",city:"",province:"",postalCode:"",address:"",report:"",branchId:"",pengajuanId:""}),_=c(0),L=T(()=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(_.value||0)),G=T(()=>{const s=Number(a.amount||0);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s)}),U=async s=>{try{if(!s){_.value=0;return}const o=await(await fetch(`/admin/api/penyaluran/my-credit?type=${encodeURIComponent(s)}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();o&&o.success&&o.data&&typeof o.data.remaining<"u"?_.value=Number(o.data.remaining)||0:_.value=0}catch(e){console.error("Failed to load credit total for type",s,e),_.value=0}},X=s=>{const e=s.target;if(e.files){const o=Array.from(e.files),n=20*1024*1024,d=[],t=[];o.forEach(l=>{l.size>n?t.push(l.name):d.push(l)}),t.length>0&&alert(`File berikut melebihi 20MB: ${t.join(", ")}`),w.value.push(...d),I.value&&(I.value.value="")}},$=s=>{w.value.splice(s,1)},H=async s=>{var e;if(confirm("Hapus gambar ini?"))try{const o=((e=document.querySelector('meta[name="csrf-token"]'))==null?void 0:e.getAttribute("content"))||"",n=await fetch(`/admin/api/penyaluran/images/${s}`,{method:"DELETE",credentials:"same-origin",headers:{"X-CSRF-TOKEN":o,"X-Requested-With":"XMLHttpRequest"}});if(!n.ok)throw new Error("Failed to delete image");const d=await n.json();d.success?(j.value=j.value.filter(t=>t.id!==s),p.success("Gambar berhasil dihapus")):p.error(d.message||"Gagal menghapus gambar")}catch(o){console.error("Error deleting image",o),p.error("Terjadi kesalahan saat menghapus gambar")}},O=s=>URL.createObjectURL(s),z=s=>{if(s===0)return"0 Bytes";const e=1024,o=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(s)/Math.log(e));return Math.round(s/Math.pow(e,n)*100)/100+" "+o[n]},W=async()=>{var s,e;if(v.value&&k.params.id){const o=k.params.id;try{const n=await fetch(`/admin/api/penyaluran/${o}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}});if(!n.ok)throw new Error("Failed to fetch penyaluran");const d=await n.json();if(!d.success||!d.data){console.error("Penyaluran tidak ditemukan");return}const t=d.data;a.amount=t.amount!=null?Number(t.amount):a.amount,a.program=t.program_name||t.pengajuan&&(((s=t.pengajuan.program)==null?void 0:s.nama_program)||((e=t.pengajuan.program)==null?void 0:e.nama))||a.program,a.pic=t.pic||(t.pengajuan&&t.pengajuan.fundraiser?t.pengajuan.fundraiser.name:a.pic),a.village=t.village||t.kelurahan||a.village,a.district=t.district||t.kecamatan||a.district,a.city=t.city||t.kota||a.city,a.province=t.province||a.province,a.postalCode=t.postal_code||a.postalCode,a.address=t.address||a.address,a.report=t.report||a.report,a.branchId=t.kantor_cabang_id||t.kantor_cabang&&t.kantor_cabang.id||a.branchId,a.pengajuanId=t.pengajuan_dana_id||a.pengajuanId,t.images&&Array.isArray(t.images)&&(j.value=t.images.map(l=>({id:l.id,path:l.path,caption:l.caption||""})))}catch(n){console.error("Error loading penyaluran",n)}}},E=()=>{C.push("/keuangan/penyaluran")},p=re(),J=async()=>{var s;if(!a.amount){p.error("Nominal wajib diisi");return}if(!a.program){p.error("Program wajib diisi");return}if(!a.pic){p.error("PIC wajib diisi");return}if(!a.branchId){p.error("Kantor Cabang wajib diisi");return}try{const e=new FormData;e.append("amount",String(a.amount||"0")),a.pengajuanId&&e.append("pengajuan_dana_id",String(a.pengajuanId)),a.submissionType&&e.append("submission_type",String(a.submissionType)),e.append("program_name",a.program||""),e.append("pic",a.pic||""),e.append("village",a.village||""),e.append("district",a.district||""),e.append("city",a.city||""),e.append("province",a.province||""),e.append("postal_code",a.postalCode||""),e.append("address",a.address||""),e.append("report",a.report||""),e.append("kantor_cabang_id",a.branchId||""),w.value.forEach(l=>{e.append("images[]",l)});const o=((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",n=v.value?`/admin/api/penyaluran/${k.params.id}`:"/admin/api/penyaluran";v.value&&e.append("_method","PUT");const t=await(await fetch(n,{method:"POST",body:e,credentials:"same-origin",headers:{"X-CSRF-TOKEN":o}})).json();if(!t.success)p.error(t.message||"Gagal menyimpan penyaluran");else{p.success(v.value?"Penyaluran berhasil diupdate":"Penyaluran berhasil dibuat");try{await C.push("/keuangan/penyaluran"),window.dispatchEvent(new CustomEvent("penyaluran:changed"));return}catch{C.push("/keuangan/penyaluran");try{window.dispatchEvent(new CustomEvent("penyaluran:changed"))}catch{}}}}catch(e){console.error("Error saving:",e),p.error("Terjadi kesalahan saat menyimpan data")}};return te(async()=>{await D(),await N();const s=k.query.pengajuan_id;if(s)try{const o=await(await fetch(`/admin/api/pengajuan-dana/${s}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(o.success&&o.data){const n=o.data;a.pengajuanId=String(s),a.submissionType=n.submission_type||a.submissionType,n.submission_type&&!b.value.find(d=>d.value===n.submission_type)&&b.value.unshift({value:n.submission_type,label:n.submission_type}),a.program=n.program&&(n.program.nama||n.program.nama_program)||a.program,a.pic=n.fundraiser?n.fundraiser.name:a.pic,a.amount=typeof n.amount<"u"&&n.amount!==null?Number(n.amount):a.amount,a.report=n.purpose||a.report}}catch(e){console.error("Failed to load pengajuan",e)}W(),U(a.submissionType)}),se(()=>a.submissionType,s=>{U(String(s||""))}),(s,e)=>(g(),R(le,null,{default:ne(()=>{var o,n,d;return[r("div",ie,[r("div",ue,[r("h3",pe,x(A.value),1),r("button",{onClick:E,class:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Kembali ")]),r("form",{onSubmit:oe(J,["prevent"]),class:"flex flex-col"},[r("div",ce,[r("div",ge,[e[15]||(e[15]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[y(" Nominal "),r("span",{class:"text-red-500"},"*")],-1)),r("div",me,[i(r("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>a.amount=t),placeholder:"Masukkan nominal",min:"1",step:"1",required:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-24 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.amount,void 0,{number:!0}]]),r("span",be,x(G.value),1)])]),r("div",ye,[e[16]||(e[16]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[y(" Nama Penyaluran "),r("span",{class:"text-red-500"},"*")],-1)),i(r("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>a.program=t),placeholder:"Masukkan nama program atau tahapannya",required:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.program]])]),r("div",he,[e[19]||(e[19]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[y("Tipe Penyaluran "),r("span",{class:"text-red-500"},"*")],-1)),de(K,{modelValue:a.submissionType,"onUpdate:modelValue":e[2]||(e[2]=t=>a.submissionType=t),options:m(b),placeholder:"Pilih tipe penyaluran","search-input":m(F),"onUpdate:searchInput":e[3]||(e[3]=t=>F.value=t)},null,8,["modelValue","options","search-input"]),r("p",ke,[e[17]||(e[17]=y("Sisa kredit untuk ",-1)),r("span",fe,x(a.submissionType),1),e[18]||(e[18]=y(": ",-1)),r("span",xe,x(L.value),1)])]),r("div",ve,[e[20]||(e[20]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[y(" PIC "),r("span",{class:"text-red-500"},"*")],-1)),i(r("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>a.pic=t),placeholder:"Masukkan penanggung jawab penyaluran",required:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.pic]])]),r("div",we,[e[21]||(e[21]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Kelurahan ",-1)),i(r("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>a.village=t),placeholder:"Masukkan kelurahan",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.village]])]),r("div",je,[e[22]||(e[22]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Kecamatan ",-1)),i(r("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>a.district=t),placeholder:"Masukkan kecamatan",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.district]])]),r("div",_e,[e[23]||(e[23]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Kota ",-1)),i(r("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>a.city=t),placeholder:"Masukkan kota",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.city]])]),r("div",Te,[e[24]||(e[24]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Provinsi ",-1)),i(r("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>a.province=t),placeholder:"Masukkan provinsi",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.province]])]),r("div",Ce,[e[25]||(e[25]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Kode Pos ",-1)),i(r("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>a.postalCode=t),placeholder:"Masukkan kode pos",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.postalCode]])]),r("div",Ie,[e[26]||(e[26]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Alamat ",-1)),i(r("textarea",{"onUpdate:modelValue":e[10]||(e[10]=t=>a.address=t),placeholder:"Masukkan detail alamat lengkap",rows:"3",class:"dark:bg-dark-900 h-auto w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.address]])]),r("div",Me,[e[27]||(e[27]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Laporan ",-1)),i(r("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>a.report=t),placeholder:"Masukkan catatan laporan hasil penyaluran",rows:"4",class:"dark:bg-dark-900 h-auto w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[u,a.report]])]),r("div",Pe,[e[28]||(e[28]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[y(" Kantor Cabang "),r("span",{class:"text-red-500"},"*")],-1)),(o=m(f))!=null&&o.is_admin?(g(),R(K,{key:0,modelValue:a.branchId,"onUpdate:modelValue":e[12]||(e[12]=t=>a.branchId=t),options:P.value,placeholder:"Pilih atau cari kantor cabang","search-input":m(S),"onUpdate:searchInput":e[13]||(e[13]=t=>S.value=t)},null,8,["modelValue","options","search-input"])):(g(),h(M,{key:1},[r("input",{type:"text",value:((d=(n=m(f))==null?void 0:n.kantor_cabang)==null?void 0:d.nama)||"",placeholder:"Kantor cabang Anda",readonly:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:outline-none dark:border-gray-700 dark:bg-gray-900/50 dark:text-white/90"},null,8,Se),i(r("input",{type:"hidden","onUpdate:modelValue":e[14]||(e[14]=t=>a.branchId=t)},null,512),[[u,a.branchId]])],64))]),r("div",Fe,[e[34]||(e[34]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Gambar Dokumentasi ",-1)),r("div",Ue,[r("div",Ee,[r("input",{type:"file",ref_key:"fileInputRef",ref:I,onChange:X,multiple:"",accept:"image/*",class:"hidden",id:"image-upload"},null,544),e[29]||(e[29]=r("label",{for:"image-upload",class:"flex cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 px-6 py-8 text-center transition-colors hover:border-brand-300 hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-900/50 dark:hover:border-brand-500"},[r("div",{class:"text-center"},[r("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),r("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},[r("span",{class:"font-medium text-brand-500"},"Klik untuk upload"),y(" atau drag and drop ")]),r("p",{class:"text-xs text-gray-500 dark:text-gray-500"}," PNG, JPG, GIF hingga 20MB (Multiple files) ")])],-1))]),m(j).length>0?(g(),h("div",Re,[e[31]||(e[31]=r("h4",{class:"mb-3 text-sm font-medium text-gray-700 dark:text-gray-300"},"Gambar yang Sudah Ada",-1)),r("div",Ve,[(g(!0),h(M,null,q(m(j),t=>(g(),h("div",{key:t.id,class:"relative group"},[r("div",qe,[r("img",{src:`/storage/${t.path}`,alt:t.caption||"Dokumentasi",class:"h-full w-full object-cover"},null,8,Ke)]),r("button",{type:"button",onClick:l=>H(t.id),class:"absolute -right-2 -top-2 flex h-7 w-7 items-center justify-center rounded-full bg-red-500 text-white shadow-lg transition-transform hover:scale-110 hover:bg-red-600",title:"Hapus gambar"},[...e[30]||(e[30]=[r("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ae)]))),128))])])):V("",!0),m(w).length>0?(g(),h("div",Be,[e[33]||(e[33]=r("h4",{class:"mb-3 text-sm font-medium text-gray-700 dark:text-gray-300"},"Gambar Baru yang Akan Diupload",-1)),r("div",De,[(g(!0),h(M,null,q(m(w),(t,l)=>(g(),h("div",{key:l,class:"relative group"},[r("div",Ne,[r("img",{src:O(t),alt:t.name,class:"h-full w-full object-cover"},null,8,Le)]),r("div",Ge,[r("p",Xe,x(t.name),1),r("p",$e,x(z(t.size)),1)]),r("button",{type:"button",onClick:Q=>$(l),class:"absolute -right-2 -top-2 flex h-7 w-7 items-center justify-center rounded-full bg-red-500 text-white shadow-lg transition-transform hover:scale-110 hover:bg-red-600",title:"Hapus gambar"},[...e[32]||(e[32]=[r("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,He)]))),128))])])):V("",!0)])])]),r("div",{class:"flex items-center gap-3 mt-6 lg:justify-end"},[r("button",{onClick:E,type:"button",class:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto"}," Kembali "),e[35]||(e[35]=r("button",{type:"submit",class:"flex w-full justify-center rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600 sm:w-auto"}," Simpan ",-1))])],32)])]}),_:1}))}});export{Ye as default};
