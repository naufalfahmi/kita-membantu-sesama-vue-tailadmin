import{d as ne,b as u,B as se,c as q,i as X,o as E,a as r,t as H,k as z,v as G,n as De,q as Te,H as Se,I as Me,M as Re,A as k,Q as _e,f as Ne,X as Pe,g as Ve,w as Ie,j as D,m as ee,u as ae,S as Le,V as Ae}from"./admin-cZNFf6E-.js";import{C as Be}from"./component-B4efBjtZ.js";import{u as U,w as $e}from"./xlsx-3SA47z_C.js";import{_ as Ee,g as te}from"./AdminLayout.vue_vue_type_script_setup_true_lang-dJLdlCO2.js";import{_ as He}from"./ConfirmModal.vue_vue_type_script_setup_true_lang-CPqWUV3u.js";import{S as re}from"./SearchableSelect-Cl5iq7gl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Fe={key:0,class:"fixed inset-0 flex items-center justify-center overflow-y-auto z-99999"},Oe={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800"},Ue={class:"text-xl font-semibold text-gray-800 dark:text-white/90"},qe={class:"p-6"},Xe={class:"text-gray-700 dark:text-gray-300 mb-3"},ze={class:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-800"},Ge=ne({__name:"ApprovalModal",props:{isOpen:{type:Boolean},title:{},message:{},confirmText:{},confirmButtonClass:{}},emits:["confirm","cancel"],setup(b,{emit:F}){const V=b,I=F,h=u("");se(()=>V.isOpen,y=>{y||(h.value="")});const L=()=>{!h.value||String(h.value).trim().length===0||I("confirm",h.value)};return(y,d)=>b.isOpen?(E(),q("div",Fe,[r("div",{class:"fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[32px]","aria-hidden":"true",onClick:d[0]||(d[0]=w=>y.$emit("cancel"))}),r("div",{class:"relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-theme-lg dark:bg-gray-900 z-50",onClick:d[4]||(d[4]=Te(()=>{},["stop"]))},[r("div",Oe,[r("h3",Ue,H(b.title),1),r("button",{onClick:d[1]||(d[1]=w=>y.$emit("cancel")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors"}," âœ• ")]),r("div",qe,[r("p",Xe,H(b.message),1),d[5]||(d[5]=r("label",{class:"text-sm text-gray-600 dark:text-gray-400"},"Justifikasi / catatan (wajib):",-1)),z(r("textarea",{"onUpdate:modelValue":d[2]||(d[2]=w=>h.value=w),rows:"5",class:"mt-2 w-full rounded-lg border border-gray-300 p-3 text-sm dark:bg-gray-900 dark:border-gray-700"},null,512),[[G,h.value]])]),r("div",ze,[r("button",{onClick:d[3]||(d[3]=w=>y.$emit("cancel")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700 transition-colors"},"Batal"),r("button",{onClick:L,class:De(["px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors",b.confirmButtonClass||"bg-brand-500 hover:bg-brand-600"])},H(b.confirmText),3)])])])):X("",!0)}}),Je={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},We={class:"mb-6 flex items-center justify-between"},Ye={class:"font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl"},Ze={class:"flex items-center gap-3"},Ke={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},Qe={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},ea={class:"flex-1"},aa={class:"flex-1"},ta={class:"flex-1"},ra={class:"relative"},na={class:"flex-1"},sa={class:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},oa={class:"flex-1"},la={class:"relative",style:{width:"100%",height:"450px"}},ia={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/80 dark:bg-gray-900/80"},ua={class:"ag-theme-alpine dark:ag-theme-alpine-dark",style:{width:"100%",height:"100%"}},da=`
  <div class="p-6 text-center text-gray-600 dark:text-gray-400">
    <svg class="mx-auto mb-3 w-16 h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
    </svg>
    <div class="text-lg font-medium">Tidak ada data</div>
    <div class="text-sm mt-1">Belum ada data yang tersedia</div>
  </div>
`,ba=ne({__name:"PengajuanDana",setup(b){const F=[{value:"",label:"Semua"},{value:"Approved",label:"Disetujui"},{value:"Rejected",label:"Ditolak"},{value:"Pending",label:"Diajukan"},{value:"Draft",label:"Draft"}],V=u(""),I=u([{value:"",label:"Semua"}]),h=u(""),L=a=>{var i,o;if(!a)return"-";const e=a.latest_approval??a.latestApproval??null,t=a.status??(e==null?void 0:e.decision)??"",s=typeof t=="string"?t.toLowerCase():"",l=s==="disetujui"?"approved":s==="ditolak"?"rejected":s,n=a.approved_by_name??a.approvedByName??(l==="approved"?(i=e==null?void 0:e.approver)==null?void 0:i.name:null),x=a.rejected_by_name??a.rejectedByName??(l==="rejected"?(o=e==null?void 0:e.approver)==null?void 0:o.name:null);if(l==="approved"&&n)return`Disetujui oleh ${n}`;if(l==="rejected"&&x)return`Ditolak oleh ${x}`;if(e&&e.approver&&e.approver.name){const P=e.decision||t||"";return P?`${P} oleh ${e.approver.name}`:e.approver.name}return"-"},y=Se(),d=Me(),w=u(String(y.meta.title||"Pengajuan Dana")),A=u(null),J=u(!0),j=Re(),{fetchUser:oe,hasPermission:C,isAdmin:T}=_e(),le=k(()=>T()||C("create pengajuan dana")),ie=k(()=>T()||C("update pengajuan dana")),ue=k(()=>T()||C("delete pengajuan dana"));k(()=>T()||C("view pengajuan dana"));const de=k(()=>T()||C("approve pengajuan dana")||C("approval pengajuan dana")),B=u(!1),S=u(null),ce={dateFormat:"Y-m-d",altInput:!0,altFormat:"d/m/Y",wrap:!1},ge=[{headerName:"Nama Pengaju",field:"namaPengaju",sortable:!0,filter:!1},{headerName:"Jumlah Dana",field:"jumlahDana",sortable:!0,filter:!1,valueFormatter:a=>a.value?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a.value):""},{headerName:"Tipe Pengajuan",field:"submissionType",sortable:!0,filter:!1,valueFormatter:a=>a.value?String(a.value).charAt(0).toUpperCase()+String(a.value).slice(1):""},{headerName:"Tujuan Pengajuan",field:"purpose",sortable:!0,filter:!1,cellRenderer:a=>{if(!a.value)return"";const e=String(a.value),t=document.createElement("div");return t.textContent=e.length>100?e.substring(0,100)+"...":e,t.title=e,t}},{headerName:"Tanggal Pemakaian",field:"tanggalPemakaian",sortable:!0,filter:!1,valueFormatter:a=>a.value?new Date(a.value).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):""},{headerName:"Status",field:"status",sortable:!0,filter:!1,width:140,cellRenderer:a=>{const e=a.value||"",t=String(e).toLowerCase(),l={approved:{label:"Disetujui",classes:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},rejected:{label:"Ditolak",classes:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},pending:{label:"Diajukan",classes:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"},draft:{label:"Draft",classes:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}}[t]||(e?{label:String(e),classes:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}:{label:"",classes:""}),n=document.createElement("span");return n.className=`px-2 py-1 rounded-full text-xs font-medium ${l.classes}`,n.textContent=l.label,n}},{headerName:"Tanggal",field:"tanggal",sortable:!0,filter:!1,valueFormatter:a=>a.value?new Date(a.value).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):""},{headerName:"Persetujuan",field:"persetujuan",sortable:!0,filter:!1},{headerName:"Actions",field:"actions",sortable:!1,filter:!1,width:160,pinned:"right",cellRenderer:a=>{const e=document.createElement("div");e.className="flex items-center gap-3";const t=document.createElement("button");t.className="flex items-center justify-center w-8 h-8 rounded-lg text-brand-500 hover:bg-brand-50 dark:hover:bg-brand-500/10 transition-colors",t.innerHTML=`
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
        </svg>
      `,t.onclick=()=>ve(a.data.id);const s=document.createElement("button");if(s.className="flex items-center justify-center w-8 h-8 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors",s.innerHTML=`
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 6h18"></path>
          <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
          <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
          <line x1="10" y1="11" x2="10" y2="17"></line>
          <line x1="14" y1="11" x2="14" y2="17"></line>
        </svg>
      `,s.onclick=()=>he(a.data.id),ie.value&&e.appendChild(t),ue.value&&e.appendChild(s),de.value){const l=document.createElement("button");l.className="flex items-center justify-center w-8 h-8 rounded-lg text-green-600 hover:bg-green-50 dark:hover:bg-green-600/10 transition-colors",l.innerHTML=`
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 6L9 17l-5-5"></path>
          </svg>
        `,l.title="Approve",l.onclick=()=>Z(a.data.id,"Approved");const n=document.createElement("button");n.className="flex items-center justify-center w-8 h-8 rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-600/10 transition-colors",n.innerHTML=`
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6L6 18M6 6l12 12"></path>
          </svg>
        `,n.title="Reject",n.onclick=()=>Z(a.data.id,"Rejected");const x=a.data&&a.data.status?String(a.data.status).toLowerCase():"";["approved","rejected"].includes(x)||(e.appendChild(l),e.appendChild(n))}return e}}],pe={resizable:!0,sortable:!0,filter:!1},me=u([]),g=u(""),p=u(""),m=u(""),f=u(""),v=u("");k(()=>{let a=[...me.value];if(g.value){const e=g.value.toLowerCase();a=a.filter(t=>t.namaPengaju.toLowerCase().includes(e))}if(p.value&&(a=a.filter(e=>e.status===p.value)),m.value&&(a=a.filter(e=>{const t=new Date(e.tanggal),s=new Date(m.value);return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()})),f.value&&(a=a.filter(e=>e.submissionType===f.value)),v.value){const e=parseFloat(v.value);isNaN(e)||(a=a.filter(t=>t.jumlahDana<=e))}return a}),k(()=>!1);const fe=()=>{d.push("/keuangan/pengajuan-dana/new")},ve=a=>{d.push(`/keuangan/pengajuan-dana/${a}/edit`)},he=a=>{S.value=a,B.value=!0},be=()=>{S.value&&(async()=>{try{const a=await te(),t=await(await fetch(`/admin/api/pengajuan-dana/${S.value}`,{method:"DELETE",credentials:"same-origin",headers:{"X-CSRF-TOKEN":a,"X-Requested-With":"XMLHttpRequest"}})).json();if(!t.success)throw new Error(t.message||"Delete failed");j.success("Pengajuan dana berhasil dihapus"),B.value=!1,S.value=null,M()}catch(a){console.error("Delete error",a),j.error("Gagal menghapus pengajuan dana")}})()},ye=()=>{B.value=!1,S.value=null},xe=()=>{const a={per_page:1e4,page:1};g.value&&(a.search=g.value),p.value&&(a.status=p.value),m.value&&(a.tanggal=m.value),f.value&&(a.submission_type=f.value),v.value&&(a.amount_max=v.value);const e=Object.keys(a).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(a[t])).join("&");fetch(`/admin/api/pengajuan-dana?${e}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>t.json()).then(t=>{if(!t.success){j.error("Gagal mengambil data untuk export");return}const s=(t.data||[]).map(o=>({"Nama Pengaju":o.fundraiser?o.fundraiser.name:"-","Tanggal Pemakaian":o.used_at?new Date(o.used_at).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"","Tipe Pengajuan":o.submission_type?String(o.submission_type).charAt(0).toUpperCase()+String(o.submission_type).slice(1):"","Tujuan Pengajuan":o.purpose||"","Jumlah Dana":o.amount?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o.amount):"",Status:o.status||"",Tanggal:o.created_at?new Date(o.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"",Persetujuan:L(o)})),l=U.json_to_sheet(s),n=U.book_new();U.book_append_sheet(n,l,"Pengajuan Dana");const i=`Pengajuan_Dana_${new Date().toISOString().split("T")[0]}.xlsx`;$e(n,i)}).catch(t=>{console.error("Export error",t),j.error("Gagal mengekspor data")})},W=()=>({getRows:a=>{const e=a.startRow||0,t=a.endRow||0,s=Math.max(10,t-e),l=Math.floor(e/s)+1,n={per_page:s,page:l};if(g.value&&(n.search=g.value),p.value&&(n.status=p.value),m.value&&(n.tanggal=m.value),f.value&&(n.submission_type=f.value),v.value&&(n.amount_max=v.value),a.sortModel&&a.sortModel.length>0){const i=a.sortModel[0],o={namaPengaju:"fundraiser",tanggalPemakaian:"used_at",jumlahDana:"amount",tanggal:"created_at"};o[i.colId]&&(n.sort_by=o[i.colId],n.sort_dir=i.sort==="asc"?"asc":"desc")}const x=Object.keys(n).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(n[i])).join("&");fetch(`/admin/api/pengajuan-dana?${x}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(i=>i.json()).then(i=>{var K,Q;if(!i.success){a.failCallback();return}const o=(i.data||[]).map(c=>({id:c.id,namaPengaju:c.fundraiser?c.fundraiser.name:"-",tanggalPemakaian:c.used_at||"",submissionType:c.submission_type||"",purpose:c.purpose||"",jumlahDana:c.amount||0,status:c.status||"Draft",tanggal:c.created_at?c.created_at.split(" ")[0]:"",persetujuan:L(c),latestApproval:c.latest_approval||null}));let P;typeof((K=i.pagination)==null?void 0:K.total)=="number"&&(P=i.pagination.total),a.successCallback(o,P),J.value=!1;const O=(Q=A.value)==null?void 0:Q.api;try{O&&(!o||o.length===0?O.showNoRowsOverlay():O.hideOverlay())}catch{}}).catch(i=>{console.error("Error fetching pengajuan-dana:",i),a.failCallback()})}}),Y=u(W()),M=(a=!1)=>{const e=W();Y.value.getRows=e.getRows,Ae(()=>{var s;const t=(s=A.value)==null?void 0:s.api;if(t)try{t.purgeInfiniteCache(),t.refreshInfiniteCache(),a&&window.setTimeout(()=>{var n;const l=(n=A.value)==null?void 0:n.api;l&&l.ensureIndexVisible(0,"top")},100)}catch(l){console.error("Error refreshing cache:",l)}})},ke=async()=>{try{const e=await(await fetch("/admin/api/program-share-types/submission-types",{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(e.success&&Array.isArray(e.data)){const t=e.data.map(s=>({value:s.value,label:s.value}));I.value=[{value:"",label:"Semua"},...t]}}catch(a){console.error("Error fetching submission types",a)}};Ne(()=>{oe(),ke(),M()});const $=u(!1),R=u(null),_=u(null),Z=(a,e)=>{R.value=a,_.value=e,$.value=!0},we=async a=>{if(!(!R.value||!_.value))try{const e=await te(),s=await(await fetch(`/admin/api/pengajuan-dana/${R.value}/approve`,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({decision:_.value,comment:a})})).json();if(!s.success)throw new Error(s.message||"Approval failed");j.success("Tindakan persetujuan berhasil"),$.value=!1,R.value=null,_.value=null,M(!0)}catch(e){console.error("Approval error",e),j.error("Gagal melakukan persetujuan")}};Pe(()=>{N&&clearTimeout(N)});const je=()=>{M()};let N=null;se([g,p,m,f,v],()=>{N&&clearTimeout(N),N=setTimeout(()=>{M(!0)},300)});const Ce=()=>{g.value="",p.value="",m.value="",f.value="",v.value=""};return(a,e)=>(E(),Ve(Ee,null,{default:Ie(()=>[r("div",Je,[r("div",We,[r("h3",Ye,H(w.value),1),r("div",Ze,[r("button",{onClick:xe,class:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-green-600"},[...e[8]||(e[8]=[r("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M10.8333 3.33333V9.16667H16.6667L10.8333 3.33333ZM4.16667 2.5H11.6667L17.5 8.33333V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5Z",fill:"currentColor"})],-1),ee(" Export Excel ",-1)])]),le.value?(E(),q("button",{key:0,onClick:fe,class:"flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600"},[...e[9]||(e[9]=[r("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 3.33333C10.4602 3.33333 10.8333 3.70643 10.8333 4.16667V9.16667H15.8333C16.2936 9.16667 16.6667 9.53976 16.6667 10C16.6667 10.4602 16.2936 10.8333 15.8333 10.8333H10.8333V15.8333C10.8333 16.2936 10.4602 16.6667 10 16.6667C9.53976 16.6667 9.16667 16.2936 9.16667 15.8333V10.8333H4.16667C3.70643 10.8333 3.33333 10.4602 3.33333 10C3.33333 9.53976 3.70643 9.16667 4.16667 9.16667H9.16667V4.16667C9.16667 3.70643 9.53976 3.33333 10 3.33333Z",fill:"currentColor"})],-1),ee(" Tambah Pengajuan Dana ",-1)])])):X("",!0)])]),r("div",Ke,[r("div",Qe,[r("div",ea,[e[10]||(e[10]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Nama Pengaju ",-1)),z(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t),placeholder:"Cari nama pengaju...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[G,g.value]])]),r("div",aa,[e[11]||(e[11]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Status ",-1)),D(re,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),options:F,placeholder:"Semua Status","search-input":V.value,"onUpdate:searchInput":e[2]||(e[2]=t=>V.value=t)},null,8,["modelValue","search-input"])]),r("div",ta,[e[13]||(e[13]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Tanggal ",-1)),r("div",ra,[D(ae(Be),{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t),config:ce,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Pilih tanggal"},null,8,["modelValue"]),e[12]||(e[12]=r("span",{class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400"},[r("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M10 18.3333C14.6024 18.3333 18.3333 14.6024 18.3333 9.99999C18.3333 5.39762 14.6024 1.66666 10 1.66666C5.39763 1.66666 1.66667 5.39762 1.66667 9.99999C1.66667 14.6024 5.39763 18.3333 10 18.3333Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M10 5V10L13.3333 11.6667",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])]),r("div",na,[e[14]||(e[14]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Tipe Penyaluran ",-1)),D(re,{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=t=>f.value=t),options:I.value,placeholder:"Semua Tipe","search-input":h.value,"onUpdate:searchInput":e[5]||(e[5]=t=>h.value=t)},null,8,["modelValue","options","search-input"])])]),r("div",sa,[r("div",oa,[e[15]||(e[15]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Jumlah Dana Max ",-1)),z(r("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=t=>v.value=t),placeholder:"Jumlah maksimum...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[G,v.value]])]),r("div",{class:"flex items-end"},[r("button",{onClick:Ce,class:"h-11 w-full rounded-lg border border-gray-300 bg-white px-6 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Reset Filter ")])])]),r("div",la,[J.value?(E(),q("div",ia,[...e[16]||(e[16]=[r("div",{class:"flex flex-col items-center gap-3"},[r("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-brand-500"}),r("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data...")],-1)])])):X("",!0),r("div",ua,[D(ae(Le),{ref_key:"agGridRef",ref:A,class:"ag-theme-alpine",style:{width:"100%",height:"100%"},columnDefs:ge,defaultColDef:pe,overlayNoRowsTemplate:da,rowModelType:"infinite",datasource:Y.value,rowBuffer:10,cacheBlockSize:10,maxBlocksInCache:5,maxConcurrentDatasourceRequests:2,infiniteInitialRowCount:10,suppressSorting:!1,theme:"legacy",animateRows:!0,suppressHorizontalScroll:!0,onSortChanged:je},null,8,["datasource"])])])]),D(He,{isOpen:B.value,title:"Hapus Pengajuan Dana",message:"Apakah Anda yakin ingin menghapus pengajuan dana ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",confirmButtonClass:"bg-red-500 hover:bg-red-600",onConfirm:be,onCancel:ye},null,8,["isOpen"]),D(Ge,{isOpen:$.value,title:"Justifikasi Persetujuan",message:"Masukkan alasan atau catatan sebelum menyetujui/menolak pengajuan ini.",confirmText:"Kirim",confirmButtonClass:"bg-brand-500 hover:bg-brand-600",onConfirm:we,onCancel:e[7]||(e[7]=()=>{$.value=!1,R.value=null,_.value=null})},null,8,["isOpen"])]),_:1}))}});export{ba as default};
