import{d as R,H as E,I as H,M as L,b as l,A as P,O as J,f as T,g as q,o as a,w as F,a as t,c as r,t as i,i as I,m as X,F as b,l as y,n as N}from"./admin-BXgqhMOc.js";import{_ as S}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Bc44eTII.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},z={class:"mb-6 flex items-center justify-between"},W={class:"font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl"},G={class:"flex items-center gap-3"},K={key:0,class:"flex items-center justify-center py-20"},O={key:1,class:"space-y-6"},U={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},Q={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},Y={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},Z={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},tt={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},et={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},st={class:"space-y-4"},at={class:"bg-gray-100 dark:bg-gray-800/50 px-4 py-3 border-b border-gray-200 dark:border-gray-700"},rt={class:"flex items-center justify-between"},ot={class:"font-semibold text-gray-800 dark:text-white/90"},it={class:"px-4 py-3"},nt={class:"grid grid-cols-1 gap-2 sm:grid-cols-3"},dt={key:0,width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},lt={key:1,width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ct={class:"text-sm"},gt={key:2,class:"flex flex-col items-center justify-center py-20"},ut=R({__name:"JabatanDetail",setup(mt){const f=E(),g=H(),k=L(),{isAdmin:w,hasPermission:v}=J(),_=l("Detail Jabatan"),c=l(!0),o=l(null),u=l({}),j=P(()=>w()||v("update jabatan")),m=String(f.params.id||""),C=async()=>{c.value=!0;try{const[s,e]=await Promise.all([fetch(`/admin/api/jabatan/${m}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"}),fetch("/admin/api/jabatan-permissions",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"})]);if(!s.ok)throw new Error("Failed to fetch");if(!e.ok)throw new Error("Failed to fetch permissions");const d=await s.json(),n=await e.json();d.success&&(o.value=d.data),n.success&&(u.value=n.data)}catch(s){console.error("Error loading jabatan detail",s),k.error("Gagal memuat detail jabatan")}finally{c.value=!1}},D=()=>{g.push("/administrasi/jabatan")},M=()=>{g.push(`/administrasi/jabatan/${m}/edit`)},x=s=>o.value&&Array.isArray(o.value.permissions)&&o.value.permissions.includes(s),A=s=>s.charAt(0).toUpperCase()+s.slice(1),B=s=>s?new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-";return T(()=>{C()}),(s,e)=>(a(),q(S,null,{default:F(()=>[t("div",$,[t("div",z,[t("h3",W,i(_.value),1),t("div",G,[t("button",{onClick:D,class:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"},[...e[0]||(e[0]=[t("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M8.33333 15L3.33333 10M3.33333 10L8.33333 5M3.33333 10H16.6667",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),X(" Kembali ",-1)])]),j.value?(a(),r("button",{key:0,onClick:M,class:"flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600"}," Edit ")):I("",!0)])]),c.value?(a(),r("div",K,[...e[1]||(e[1]=[t("div",{class:"flex flex-col items-center gap-4"},[t("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data jabatan...")],-1)])])):o.value?(a(),r("div",O,[t("div",U,[e[5]||(e[5]=t("h4",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"},"Informasi Jabatan",-1)),t("div",Q,[t("div",null,[e[2]||(e[2]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"Nama",-1)),t("p",Y,i(o.value.name),1)]),t("div",null,[e[3]||(e[3]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"Tanggal Dibuat",-1)),t("p",Z,i(B(o.value.created_at)),1)]),t("div",null,[e[4]||(e[4]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"Total Permissions",-1)),t("p",tt,i(o.value.permissions.length),1)])])]),t("div",et,[e[8]||(e[8]=t("h4",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"},"Hak Akses",-1)),t("div",st,[(a(!0),r(b,null,y(u.value,(d,n)=>(a(),r("div",{key:n,class:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},[t("div",at,[t("div",rt,[t("h5",ot,i(n),1)])]),t("div",it,[t("div",nt,[(a(!0),r(b,null,y(d,(p,h)=>(a(),r("div",{key:h,class:"flex items-center gap-3"},[t("span",{class:N([x(p)?"text-brand-600":"text-gray-400","inline-flex items-center gap-2"])},[x(p)?(a(),r("svg",dt,[...e[6]||(e[6]=[t("path",{d:"M7 11l3 3 7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(a(),r("svg",lt,[...e[7]||(e[7]=[t("circle",{cx:"10",cy:"10",r:"8",stroke:"currentColor","stroke-width":"1.2",opacity:"0.25"},null,-1)])])),t("span",ct,i(A(h)),1)],2)]))),128))])])]))),128))])])])):(a(),r("div",gt,[...e[9]||(e[9]=[t("svg",{class:"mb-4 h-16 w-16 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M12 20h.01"})],-1),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jabatan tidak ditemukan.",-1)])]))])]),_:1}))}}),bt=V(ut,[["__scopeId","data-v-87d46100"]]);export{bt as default};
