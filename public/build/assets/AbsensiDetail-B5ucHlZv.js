import{d as T,H as A,I as B,A as D,r as c,o as K,c as M,b as o,w as z,e as H,f as t,j as l,t as r,l as y,g as d,n as p}from"./admin-BLQt5dm6.js";import{_ as S}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DVoyHdtI.js";import{_ as V}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-DjRlBqWI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},L={class:"mb-6 flex items-center justify-between"},R={class:"font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl"},I={key:0,class:"flex items-center justify-center py-20"},E={key:1,class:"space-y-6"},$={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},q={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},J={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},W={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},X={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},F={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},P={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},G={class:"space-y-4"},O={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},Q={key:0},U={class:"text-sm text-gray-800 dark:text-white/90"},Y={key:1},Z={class:"text-sm text-gray-800 dark:text-white/90"},tt={class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},et={key:0,class:"space-y-4"},at={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},st={key:0},rt={class:"text-sm text-gray-800 dark:text-white/90"},ot={key:1},lt={class:"text-sm text-gray-800 dark:text-white/90"},dt={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},nt={class:"rounded-2xl border border-gray-200 bg-gradient-to-br from-brand-50 to-brand-100 p-6 dark:border-gray-800 dark:from-brand-900/20 dark:to-brand-900/10"},it={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},gt={class:"text-2xl font-bold text-brand-600 dark:text-brand-400"},ut={class:"text-sm font-semibold text-gray-800 dark:text-white/90"},xt={key:0,class:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]"},mt={class:"space-y-4"},kt={key:0},bt={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line"},ct={key:1},yt={class:"text-sm text-gray-700 dark:text-gray-300"},pt={key:2,class:"flex flex-col items-center justify-center py-20"},jt=T({__name:"AbsensiDetail",setup(vt){const v=A(),f=B(),g=D(()=>"Detail Absensi"),i=c(!0),a=c(null),h=()=>{var s;return((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""},w=async()=>{i.value=!0;try{const s=v.params.id,n=await(await fetch(`/admin/api/absensi/${s}`,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":h()},credentials:"same-origin"})).json();n.success?a.value=n.data:(console.error("Failed to load data:",n.message),a.value=null)}catch(s){console.error("Error loading absensi data:",s),a.value=null}finally{i.value=!1}},u=s=>s?new Date(s).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-",_=s=>({hadir:"Hadir",terlambat:"Terlambat",pulang_awal:"Pulang Awal",tidak_hadir:"Tidak Hadir",izin:"Izin",sakit:"Sakit",cuti:"Cuti"})[s]||s,j=s=>({hadir:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",terlambat:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",pulang_awal:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",tidak_hadir:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",izin:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",sakit:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",cuti:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"})[s]||"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400",C=s=>({hadir:"bg-green-500",terlambat:"bg-orange-500",pulang_awal:"bg-yellow-500",tidak_hadir:"bg-red-500",izin:"bg-blue-500",sakit:"bg-purple-500",cuti:"bg-indigo-500"})[s]||"bg-gray-500",x=()=>{f.push("/operasional/absensi")};return K(()=>{w()}),(s,e)=>(o(),M(S,null,{default:z(()=>{var n,m,k,b;return[H(V,{pageTitle:g.value},null,8,["pageTitle"]),t("div",N,[t("div",L,[t("h3",R,r(g.value),1),t("button",{onClick:x,class:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"},[...e[0]||(e[0]=[t("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M8.33333 15L3.33333 10M3.33333 10L8.33333 5M3.33333 10H16.6667",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),y(" Kembali ",-1)])])]),i.value?(o(),l("div",I,[...e[1]||(e[1]=[t("div",{class:"flex flex-col items-center gap-4"},[t("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Memuat data absensi...")],-1)])])):a.value?(o(),l("div",E,[t("div",$,[e[5]||(e[5]=t("h4",{class:"mb-6 text-lg font-semibold text-gray-800 dark:text-white/90"}," Informasi Karyawan ",-1)),t("div",q,[t("div",null,[e[2]||(e[2]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"Nama",-1)),t("p",J,r(((n=a.value.user)==null?void 0:n.name)||"-"),1)]),t("div",null,[e[3]||(e[3]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"No Induk",-1)),t("p",W,r(((m=a.value.user)==null?void 0:m.no_induk)||"-"),1)]),t("div",null,[e[4]||(e[4]=t("p",{class:"mb-2 text-xs font-medium text-gray-500 dark:text-gray-400"},"Kantor Cabang",-1)),t("p",X,r(((k=a.value.kantor_cabang)==null?void 0:k.nama)||"-"),1)])])]),t("div",F,[t("div",P,[e[9]||(e[9]=t("div",{class:"mb-6 flex items-center gap-3"},[t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900/30"},[t("svg",{class:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),t("h4",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Absensi Masuk ")],-1)),t("div",G,[t("div",null,[e[6]||(e[6]=t("p",{class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"Waktu",-1)),t("p",O,r(u(a.value.jam_masuk)),1)]),a.value.latitude_masuk&&a.value.longitude_masuk?(o(),l("div",Q,[e[7]||(e[7]=t("p",{class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"Koordinat",-1)),t("p",U,r(a.value.latitude_masuk)+", "+r(a.value.longitude_masuk),1)])):d("",!0),a.value.jarak_masuk!==null?(o(),l("div",Y,[e[8]||(e[8]=t("p",{class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"Jarak dari Kantor",-1)),t("p",Z,r(a.value.jarak_masuk)+" meter ",1)])):d("",!0)])]),t("div",tt,[e[14]||(e[14]=t("div",{class:"mb-6 flex items-center gap-3"},[t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-orange-100 dark:bg-orange-900/30"},[t("svg",{class:"h-5 w-5 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])]),t("h4",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Absensi Keluar ")],-1)),a.value.jam_keluar?(o(),l("div",et,[t("div",null,[e[10]||(e[10]=t("p",{class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"Waktu",-1)),t("p",at,r(u(a.value.jam_keluar)),1)]),a.value.latitude_keluar&&a.value.longitude_keluar?(o(),l("div",st,[e[11]||(e[11]=t("p",{class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"Koordinat",-1)),t("p",rt,r(a.value.latitude_keluar)+", "+r(a.value.longitude_keluar),1)])):d("",!0),a.value.jarak_keluar!==null?(o(),l("div",ot,[e[12]||(e[12]=t("p",{class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"Jarak dari Kantor",-1)),t("p",lt,r(a.value.jarak_keluar)+" meter ",1)])):d("",!0)])):(o(),l("div",dt,[...e[13]||(e[13]=[t("p",null,"Belum absen keluar",-1)])]))])]),t("div",nt,[e[18]||(e[18]=t("div",{class:"mb-6 flex items-center gap-3"},[t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-brand-500"},[t("svg",{class:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),t("h4",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Ringkasan ")],-1)),t("div",it,[t("div",null,[e[15]||(e[15]=t("p",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"},"Total Jam Kerja",-1)),t("p",gt,r(a.value.total_jam_kerja!==null?`${a.value.total_jam_kerja} jam`:"-"),1)]),t("div",null,[e[16]||(e[16]=t("p",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"},"Status",-1)),t("span",{class:p([j(a.value.status),"inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium"])},[t("span",{class:p([C(a.value.status),"h-2 w-2 rounded-full"])},null,2),y(" "+r(_(a.value.status)),1)],2)]),t("div",null,[e[17]||(e[17]=t("p",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"},"Tipe Absensi",-1)),t("p",ut,r(((b=a.value.tipe_absensi)==null?void 0:b.nama)||"-"),1)])])]),a.value.catatan||a.value.alasan?(o(),l("div",xt,[e[21]||(e[21]=t("h4",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"}," Catatan & Alasan ",-1)),t("div",mt,[a.value.catatan?(o(),l("div",kt,[e[19]||(e[19]=t("p",{class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"Catatan",-1)),t("p",bt,r(a.value.catatan),1)])):d("",!0),a.value.alasan?(o(),l("div",ct,[e[20]||(e[20]=t("p",{class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400"},"Alasan",-1)),t("p",yt,r(a.value.alasan),1)])):d("",!0)])])):d("",!0)])):(o(),l("div",pt,[e[22]||(e[22]=t("svg",{class:"mb-4 h-16 w-16 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[23]||(e[23]=t("p",{class:"text-lg font-medium text-gray-600 dark:text-gray-400"}," Data absensi tidak ditemukan ",-1)),t("button",{onClick:x,class:"mt-4 rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"}," Kembali ke Daftar Absensi ")]))])]}),_:1}))}});export{jt as default};
