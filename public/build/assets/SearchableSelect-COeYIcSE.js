import{d as V,b as c,A as y,f as L,y as S,c as i,o as u,a as s,j as z,n as p,t as m,w as B,i as k,k as _,v as T,q as M,F as O,l as R,z as D,U as E}from"./admin-CjdqDql3.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={key:0,class:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 dark:bg-gray-900 dark:border-gray-700 max-h-60 overflow-hidden"},j={class:"p-2 border-b border-gray-200 dark:border-gray-700"},F={class:"overflow-y-auto max-h-48 custom-scrollbar"},$=["onClick"],q={key:0,class:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400"},A=V({__name:"SearchableSelect",props:{modelValue:{},options:{},placeholder:{default:"Pilih..."},searchInput:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","update:search-input"],setup(n,{emit:x}){const o=n,d=x,a=c(!1),b=c(null),g=c(null),r=c(o.searchInput||""),v=y(()=>{const e=o.options.find(t=>t.value===o.modelValue);return e?e.label:""}),f=y(()=>{const e=r.value.toLowerCase();return e?o.options.filter(t=>t.label.toLowerCase().includes(e)):o.options}),w=()=>{a.value=!a.value,a.value?E(()=>{var e;(e=b.value)==null||e.focus()}):(r.value="",d("update:search-input",""))},C=e=>{const t=e.target;r.value=t.value,d("update:search-input",t.value)},I=e=>{d("update:modelValue",e.value),r.value="",d("update:search-input",""),a.value=!1},h=e=>{g.value&&!g.value.contains(e.target)&&(a.value=!1,r.value="",d("update:search-input",""))};return L(()=>{document.addEventListener("click",h),o.searchInput&&(r.value=o.searchInput)}),S(()=>{document.removeEventListener("click",h)}),(e,t)=>(u(),i("div",{ref_key:"selectRef",ref:g,class:p(["relative bg-transparent",a.value?"z-50":"z-10"])},[s("div",{onClick:t[0]||(t[0]=l=>!n.disabled&&w()),class:p(["dark:bg-dark-900 h-11 w-full flex items-center rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs focus-within:border-brand-300 focus-within:outline-hidden focus-within:ring-3 focus-within:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus-within:border-brand-800",{"border-brand-300":a.value,"cursor-pointer hover:border-brand-300":!n.disabled,"cursor-not-allowed bg-gray-100 dark:bg-gray-800 opacity-75":n.disabled}])},[s("span",{class:p({"text-gray-800 dark:text-white/90":v.value,"text-gray-400":!v.value})},m(v.value||n.placeholder),3)],2),t[3]||(t[3]=s("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[s("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),z(D,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:B(()=>[a.value?(u(),i("div",U,[s("div",j,[_(s("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>r.value=l),onInput:C,placeholder:"Cari...",class:"w-full h-9 rounded-lg border border-gray-300 bg-transparent px-3 py-1.5 text-sm text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90",onClick:t[2]||(t[2]=M(()=>{},["stop"])),ref_key:"searchInputRef",ref:b},null,544),[[T,r.value]])]),s("div",F,[(u(!0),i(O,null,R(f.value,l=>(u(),i("button",{key:l.value,type:"button",onClick:P=>I(l),class:p(["w-full px-4 py-2 text-left text-sm text-gray-800 hover:bg-gray-100 dark:text-white/90 dark:hover:bg-gray-800 transition-colors",{"bg-gray-100 dark:bg-gray-800":n.modelValue===l.value}])},m(l.label),11,$))),128)),f.value.length===0?(u(),i("div",q," Tidak ada data ditemukan ")):k("",!0)])])):k("",!0)]),_:1})],2))}}),J=N(A,[["__scopeId","data-v-84ae59ee"]]);export{J as S};
