import{d as V,r as c,A as y,o as L,y as S,j as i,b as u,f as s,e as _,n as p,t as m,w as z,g as k,p as B,F as N,k as O,z as R,N as T}from"./admin-DSOyg7vT.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={key:0,class:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 dark:bg-gray-900 dark:border-gray-700 max-h-60 overflow-hidden"},j={class:"p-2 border-b border-gray-200 dark:border-gray-700"},D=["value"],F={class:"overflow-y-auto max-h-48 custom-scrollbar"},$=["onClick"],A={key:0,class:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400"},P=V({__name:"SearchableSelect",props:{modelValue:{},options:{},placeholder:{default:"Pilih..."},searchInput:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","update:search-input"],setup(o,{emit:x}){const a=o,n=x,r=c(!1),h=c(null),g=c(null),l=c(a.searchInput||""),v=y(()=>{if(!a.modelValue)return"";const e=a.options.find(t=>t.value===a.modelValue);return e?e.label:""}),f=y(()=>{const e=l.value.toLowerCase();return e?a.options.filter(t=>t.label.toLowerCase().includes(e)):a.options}),w=()=>{r.value=!r.value,r.value?T(()=>{var e;(e=h.value)==null||e.focus()}):(l.value="",n("update:search-input",""))},C=e=>{const t=e.target;l.value=t.value,n("update:search-input",t.value)},I=e=>{n("update:modelValue",e.value),l.value="",n("update:search-input",""),r.value=!1},b=e=>{g.value&&!g.value.contains(e.target)&&(r.value=!1,l.value="",n("update:search-input",""))};return L(()=>{document.addEventListener("click",b),a.searchInput&&(l.value=a.searchInput)}),S(()=>{document.removeEventListener("click",b)}),(e,t)=>(u(),i("div",{ref_key:"selectRef",ref:g,class:p(["relative bg-transparent",r.value?"z-50":"z-10"])},[s("div",{onClick:t[0]||(t[0]=d=>!o.disabled&&w()),class:p(["dark:bg-dark-900 h-11 w-full flex items-center rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs focus-within:border-brand-300 focus-within:outline-hidden focus-within:ring-3 focus-within:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus-within:border-brand-800",{"border-brand-300":r.value,"cursor-pointer hover:border-brand-300":!o.disabled,"cursor-not-allowed bg-gray-100 dark:bg-gray-800 opacity-75":o.disabled}])},[s("span",{class:p({"text-gray-800 dark:text-white/90":v.value,"text-gray-400":!v.value})},m(v.value||o.placeholder),3)],2),t[2]||(t[2]=s("span",{class:"absolute z-30 text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400"},[s("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),_(R,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:z(()=>[r.value?(u(),i("div",M,[s("div",j,[s("input",{type:"text",value:o.searchInput,onInput:C,placeholder:"Cari...",class:"w-full h-9 rounded-lg border border-gray-300 bg-transparent px-3 py-1.5 text-sm text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90",onClick:t[1]||(t[1]=B(()=>{},["stop"])),ref_key:"searchInputRef",ref:h},null,40,D)]),s("div",F,[(u(!0),i(N,null,O(f.value,d=>(u(),i("button",{key:d.value,type:"button",onClick:U=>I(d),class:p(["w-full px-4 py-2 text-left text-sm text-gray-800 hover:bg-gray-100 dark:text-white/90 dark:hover:bg-gray-800 transition-colors",{"bg-gray-100 dark:bg-gray-800":o.modelValue===d.value}])},m(d.label),11,$))),128)),f.value.length===0?(u(),i("div",A," Tidak ada data ditemukan ")):k("",!0)])])):k("",!0)]),_:1})],2))}}),H=E(P,[["__scopeId","data-v-a5ce037c"]]);export{H as S};
