import{d as Pe,H as Re,I as Ae,b as g,M as Ie,A as T,Q as $e,f as Ke,X as Me,B as Be,g as Ve,o as h,w as je,a as r,j as G,c as x,i as j,t as y,m as ae,u as ze,F as te,l as re,V as ge}from"./admin-vgMIEOZL.js";import{C as Ee}from"./component-C6JhriVf.js";import{u as se,w as Oe}from"./xlsx-3SA47z_C.js";import{_ as He}from"./AdminLayout.vue_vue_type_script_setup_true_lang-D8z2X4zx.js";import{_ as Le}from"./ConfirmModal.vue_vue_type_script_setup_true_lang-BTYZYlNH.js";import{A as be}from"./AsyncSearchableSelect-DgQjBkIl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ue={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},Ge={class:"mb-6 flex items-center justify-between"},We={class:"font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl"},qe={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},Xe={class:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-3"},Ye={class:"relative"},Je={key:0,class:"mb-6 flex items-center justify-center gap-3 rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.02]"},Qe={key:1,class:"mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Ze={class:"mb-2 text-sm font-semibold text-gray-800 dark:text-gray-200 border-b border-gray-100 dark:border-gray-700 pb-2"},ea={class:"space-y-2"},aa={class:"text-base font-semibold text-gray-800 dark:text-white"},ta={class:"flex justify-between items-end border-t border-gray-50 dark:border-gray-800/50 pt-1 mt-1"},ra={class:"text-sm font-medium text-blue-600 dark:text-blue-400"},sa={class:"flex justify-between items-end border-t border-gray-50 dark:border-gray-800/50 pt-1 mt-1"},la={class:"text-sm font-medium text-green-600 dark:text-green-400"},oa={class:"rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},na={class:"grid gap-4 grid-cols-1 md:grid-cols-2"},ia={class:"bg-gray-100 dark:bg-gray-800/50 px-4 py-3 border-b border-gray-200 dark:border-gray-700"},da={class:"flex items-center justify-between"},ua=["title"],ca={key:0,class:"text-sm font-normal text-gray-600 dark:text-gray-400"},ma={class:"overflow-x-auto"},ga={class:"w-full"},ba={class:"divide-y divide-gray-200 dark:divide-gray-700"},ha={class:"hover:bg-gray-50 dark:hover:bg-gray-800/20"},ya={class:"border-r border-gray-200 px-4 py-3 text-center dark:border-gray-700"},fa={class:"sticky left-0 z-10 border-r border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-800 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90"},va={key:0,class:"text-xs text-gray-500 ml-2"},xa={key:1,class:"text-xs text-gray-500 ml-2"},pa={class:"border-r border-gray-200 px-4 py-3 text-center dark:border-gray-700"},_a={key:0,class:"hover:bg-gray-50 dark:hover:bg-gray-800/20"},ka={class:"border-r border-gray-200 px-4 py-3 text-center dark:border-gray-700"},Ia=Pe({__name:"Keuangan",setup(wa){const he=Re();Ae();const ye=g(String(he.meta.title||"Keuangan")),W=g(null),z=g(null),fe=g(null),K=Ie(),{fetchUser:ve,hasPermission:q,isAdmin:E,user:F}=$e();T(()=>E()||q("create keuangan")),T(()=>E()||q("update keuangan")),T(()=>E()||q("delete keuangan"));const X=g(!1),O=g(null),H=g(!1),le=T(()=>{var i,b,d;const t=Array.isArray((i=F.value)==null?void 0:i.visible_transaksi_ids)?F.value.visible_transaksi_ids:[],a=Array.isArray((b=F.value)==null?void 0:b.visible_donatur_ids)?F.value.visible_donatur_ids:[],e=(d=F.value)!=null&&d.id?[F.value.id]:[],n=[...t.length?t:a,...e];return Array.from(new Set(n.map(l=>String(l))))}),xe=T(()=>{if(E())return"/admin/api/karyawan?per_page=1000";const t="/admin/api/karyawan?per_page=1000&only_assigned=1",a=le.value.length?`&include_ids[]=${le.value.join("&include_ids[]=")}`:"";return`${t}${a}`}),pe={dateFormat:"Y-m-d",altInput:!0,altFormat:"d/m/Y",wrap:!1,mode:"range"},Y=[{headerName:"Total Transaksi",field:"total_transaksi",flex:1,valueFormatter:f},{headerName:"Nama Program",children:[{headerName:"DP",field:"dp",valueFormatter:f},{headerName:"Operasional (OPS 1)",field:"ops_1",valueFormatter:f},{headerName:"Gaji Karyawan (OPS 2)",field:"ops_2",valueFormatter:f},{headerName:"Program",field:"program",valueFormatter:f},{headerName:"Fee Mitra",field:"fee_mitra",valueFormatter:f},{headerName:"Bonus",field:"bonus",valueFormatter:f},{headerName:"Championship",field:"championship",valueFormatter:f}]}];function f(t){return t&&t.value!==void 0&&t.value!==null?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.value):""}const S=t=>f({value:t}),oe=t=>{if(t==null)return"";const a=Number(t);return Number.isFinite(a)?Number.isInteger(a)?`${a}%`:`${parseFloat(a.toFixed(2))}%`:`${String(t)}%`};function ne(t){switch((t||"").toString()){case"dp":return"DP";case"ops_1":return"OPS 1";case"ops_2":return"OPS 2";case"program":return"Program";case"fee_mitra":return"Fee Mitra";case"bonus":return"Bonus";case"championship":return"Championship";default:return String(t)}}function _e(t){return String(t||"").replace(/^custom_/,"")}function J(t,a){var i,b;const e=_e(t);try{if(_.value&&(_.value[t]||_.value[e]))return _.value[t]||_.value[e]}catch{}const o=ne(e);if(o&&o!==String(e))return o;try{for(const d of a||[]){if(!d)continue;const l=((i=d==null?void 0:d.shares_meta)==null?void 0:i[t])||((b=d==null?void 0:d.shares_meta)==null?void 0:b[e]);if(l){if(typeof l=="string")return l;if(l.label||l.name||l.title)return l.label||l.name||l.title}if(d&&d.share_labels&&(d.share_labels[t]||d.share_labels[e]))return d.share_labels[t]||d.share_labels[e]}}catch{}let n=String(e).replace(/_/g," ");return n=n.replace(/\b\w/g,d=>d.toUpperCase()),n}const Q=g([]),P=g([]),R=g([]),_=g({}),ie=g([]),ke=g({}),N=g((()=>{const t=["Ahmad Hidayat","Siti Nurhaliza","Budi Santoso","Dewi Lestari","Eko Prasetyo","Fitri Handayani","Guntur Wibowo","Hesti Rahayu","Indra Wijaya","Joko Susilo","Kartika Putri","Lukman Hakim","Maya Sari","Nanda Pratama","Olivia Wijaya"],a=["Kantor Pusat Jakarta","Kantor Cabang Bandung","Kantor Cabang Surabaya","Kantor Cabang Yogyakarta","Kantor Cabang Medan","Kantor Cabang Makassar","Kantor Cabang Semarang","Kantor Cabang Palembang","Kantor Cabang Denpasar","Kantor Cabang Banjarmasin"],e=[],o=new Date("2024-01-01");for(let n=1;n<=200;n++){const i=(n-1)%t.length,b=(n-1)%a.length,d=new Date(o);d.setDate(d.getDate()+(n-1)*2);const l=Math.floor(Math.random()*75e6)+25e6;e.push({id:n.toString(),pic:t[i],jumlah:l,kantorCabang:a[b],tanggalKeuangan:d.toISOString().split("T")[0]})}return e})()),M=g(""),A=g(""),I=g(""),de=T(()=>N.value);T(()=>de.value.length===0);const we=()=>{O.value&&(N.value=N.value.filter(t=>t.id!==O.value),K.success("Data keuangan berhasil dihapus"),X.value=!1,O.value=null,B())},De=()=>{X.value=!1,O.value=null},ue=t=>{if(!t)return 0;const a=Number(t.total_transaksi||0),e=(R.value||[]).reduce((o,n)=>{const i=Number((t==null?void 0:t[n])||0);return o+(Number.isFinite(i)?i:0)},0);return Math.max(0,a-e)},Se=async()=>{try{await Z(),B(!0),K.success("Data berhasil diperbarui")}catch{K.error("Gagal memperbarui data")}},ce=()=>{const t=["Program","Nominal Transaksi",...R.value.map(l=>_.value[l]||ne(l))],a=[];a.push(t),P.value.forEach(l=>{const u=[];u.push((l==null?void 0:l.program_name)||""),u.push(Number((l==null?void 0:l.total_transaksi)||0)),R.value.forEach(D=>{u.push(Number((l==null?void 0:l[D])||0))}),a.push(u)});const e=[];e.push("TOTAL");const o=P.value.reduce((l,u)=>l+Number((u==null?void 0:u.total_transaksi)||0),0);e.push(o),R.value.forEach(l=>{const u=P.value.reduce((D,$)=>D+Number(($==null?void 0:$[l])||0),0);e.push(u)}),a.push(e);const n=se.aoa_to_sheet(a),i=se.book_new();se.book_append_sheet(i,n,"Keuangan");const d=`Keuangan_${new Date().toISOString().split("T")[0]}.xlsx`;Oe(i,d)},Ne=(t,a)=>{if(!a||a.length===0)return t;const e=[...t];return a.forEach(o=>{const{colId:n,sort:i}=o;e.sort((b,d)=>{let l=b[n],u=d[n];return n==="tanggalKeuangan"?(l=new Date(l).getTime(),u=new Date(u).getTime()):n==="jumlah"?(l=l||0,u=u||0):typeof l=="string"&&(l=l.toLowerCase(),u=u.toLowerCase()),l<u?i==="asc"?-1:1:l>u?i==="asc"?1:-1:0})}),e},L=g({getRows:t=>{setTimeout(()=>{const a=t.startRow||0,e=t.endRow||0;let o=de.value;t.sortModel&&t.sortModel.length>0&&(o=Ne(o,t.sortModel));const n=o.slice(a,e);let i;o.length===0?i=0:o.length<=e?i=o.length:i=void 0,t.successCallback(n,i)},50)}}),Z=async()=>{var t,a;H.value=!0;try{let e="/admin/api/keuangan/program-shares-summary";try{const s=M.value;let c=null,m=null;if(s){if(Array.isArray(s))c=s[0]?s[0]instanceof Date?s[0].toISOString().split("T")[0]:String(s[0]):null,m=s[1]?s[1]instanceof Date?s[1].toISOString().split("T")[0]:String(s[1]):null;else if(typeof s=="string"){const k=s.includes(" to ")?" to ":s.includes(" - ")?" - ":"";if(k){const C=s.split(k);c=((t=C[0])==null?void 0:t.trim())||null,m=((a=C[1])==null?void 0:a.trim())||null}else c=s||null,m=s||null}}const v={};c&&(v.start_date=c),m&&(v.end_date=m),A.value&&(v.fundraiser_id=A.value),I.value&&(v.mitra_id=I.value);const p=new URLSearchParams(v).toString();p&&(e+=`?${p}`)}catch{}const n=await(await fetch(e,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!n.success){K.error("Gagal memuat ringkasan program");return}const i=n.data.rows||[],b=n.data.columns&&n.data.columns.length?n.data.columns:["dp","ops_1","ops_2","program","fee_mitra","bonus","championship"];ke.value=n.data.disbursed_totals_by_program||{},P.value=(i||[]).filter(Boolean),R.value=b;const d=[];d.push({headerName:"Ringkasan",field:"summary_label",pinned:"left",width:250}),d.push({headerName:"Nominal Transaksi Keseluruhan",field:"nominal",pinned:"left",width:160,valueFormatter:f,resizable:!0}),_.value=n.data&&n.data.share_type_labels?n.data.share_type_labels:{},i.forEach(s=>{if(!s)return;const c=[];c.push({headerName:"Nominal Transaksi",field:`p_${s.program_id||s.id}_nominal`,valueFormatter:f,resizable:!0,width:160});const m=b.map(p=>{let k="";try{const ee=s.shares_meta||{},w=ee[p]||ee[p.toString()]||null;w&&(w.type==="percentage"&&w.value!==null&&w.value!==void 0?k=` (${oe(w.value)})`:w.type==="nominal"&&w.value!==null&&w.value!==void 0&&(k=` (${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(w.value)})`))}catch{}return{headerName:`${_.value[p]||J(p,i)}${k}`,field:`p_${s.program_id||s.id}_${p}`,valueFormatter:f,resizable:!0,minWidth:120}});c.push(...m);const v=`${s.program_name||s.nama_program||s.nama||"Program"}`;d.push({headerName:v,children:c})}),Y.splice(0,Y.length,...d),ge(()=>{var c;const s=z.value||((c=W.value)==null?void 0:c.api);if(s)try{s.setColumnDefs(Y);try{s.setDatasource&&L.value?s.setDatasource(L.value):s.setRowData(N.value)}catch{try{s.setRowData(N.value)}catch{}}s.setPinnedBottomRowData(Q.value);try{s.sizeColumnsToFit()}catch{}setTimeout(()=>{try{Ce()}catch{}},80)}catch(m){console.error("Failed to apply dynamic columns to grid",m)}});const l={summary_label:"TOTAL"},u=i.filter(s=>s.id!=="global").reduce((s,c)=>s+Number((c==null?void 0:c.total_transaksi)||0),0);i.forEach(s=>{if(!s)return;const c=`p_${s.program_id||s.id}_nominal`;l[c]=Number(s.total_transaksi||0),b.forEach(m=>{const v=`p_${s.program_id||s.id}_${m}`;l[v]=Number((s==null?void 0:s[m])||0)})}),l.nominal=u;const D=[],$=Object.values(n.data.disbursed_totals||{}).reduce((s,c)=>s+(Number(c)||0),0);D.push({label:"Nominal Keseluruhan Transaksi",value:u,isTotal:!0,allocated:u,used:$,remaining:Math.max(0,u-$)});let me=0,Fe=0;b.forEach(s=>{var p;const c=i.filter(k=>k.id!=="global").reduce((k,C)=>k+Number((C==null?void 0:C[s])||0),0),m=Number(((p=n.data.disbursed_totals)==null?void 0:p[s])||0),v=_.value[s]||J(s,i);D.push({label:`Nominal All ${v}`,value:c,allocated:c,used:m,remaining:Math.max(0,c-m)}),me+=c,Fe+=m});const U=u-me;U>0&&D.push({label:"Sisa Belum Teralokasi",value:U,allocated:U,used:0,remaining:U}),ie.value=D,N.value=[l],Q.value=[],B(!0)}catch(e){console.error(e),K.error("Terjadi kesalahan saat memuat ringkasan program")}finally{H.value=!1}},B=(t=!1)=>{ge(()=>{var e;const a=z.value||((e=W.value)==null?void 0:e.api);if(a)try{try{a.purgeInfiniteCache?a.purgeInfiniteCache():a.setDatasource&&L.value?a.setDatasource(L.value):a.setRowData(N.value)}catch{}a.setPinnedBottomRowData(Q.value),t&&window.setTimeout(()=>{var n;const o=z.value||((n=W.value)==null?void 0:n.api);if(o)try{o.ensureIndexVisible(0,"top")}catch{}},100)}catch(o){console.error("Error refreshing grid:",o)}})};Ke(async()=>{await ve(),await Z(),B()});function Ce(){var o;const t=fe.value;if(!t)return;const a=t.getAllColumns();if(!a||!a.length)return;const e=a.map(n=>n.getColId());try{t.autoSizeColumns(e,!1)}catch{try{(o=z.value)==null||o.sizeColumnsToFit()}catch{}}}Me(()=>{V&&clearTimeout(V)});let V=null;Be([M,A,I],()=>{V&&clearTimeout(V),V=setTimeout(async()=>{try{await Z()}catch{}B(!0)},300)});const Te=()=>{M.value="",A.value="",I.value=""};return(t,a)=>(h(),Ve(He,null,{default:je(()=>[r("div",Ue,[r("div",Ge,[r("h3",We,y(ye.value),1),r("div",{class:"flex items-center gap-3"},[r("button",{onClick:ce,class:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-green-600"},[...a[3]||(a[3]=[r("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M5 3h10v2H5V3zm0 12h10v2H5v-2zM3 7h14v6H3V7z",fill:"currentColor"})],-1),ae(" Export Excel ",-1)])])])]),r("div",qe,[r("div",Xe,[r("div",null,[a[4]||(a[4]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Rentang Tanggal Transaksi",-1)),r("div",Ye,[G(ze(Ee),{modelValue:M.value,"onUpdate:modelValue":a[0]||(a[0]=e=>M.value=e),config:pe,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Pilih rentang tanggal transaksi"},null,8,["modelValue"])])]),r("div",null,[a[5]||(a[5]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Fundraiser",-1)),G(be,{modelValue:A.value,"onUpdate:modelValue":a[1]||(a[1]=e=>A.value=e),"fetch-url":xe.value,"label-key":"name","value-key":"id",placeholder:"Pilih Fundraiser","allow-clear":!0,"include-all":!0,"all-label":"Semua Fundraiser"},null,8,["modelValue","fetch-url"])]),r("div",null,[a[6]||(a[6]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Mitra",-1)),G(be,{modelValue:I.value,"onUpdate:modelValue":a[2]||(a[2]=e=>I.value=e),"fetch-url":"/admin/api/mitra","label-key":"nama","value-key":"id",placeholder:"Pilih Mitra","allow-clear":!0,"include-all":!0,"all-label":"Semua Mitra"},null,8,["modelValue"])])]),r("div",{class:"mt-4"},[r("button",{onClick:Te,class:"h-11 rounded-lg border border-gray-300 bg-white px-6 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400"},"Reset Filter")])]),H.value?(h(),x("div",Je,[...a[7]||(a[7]=[r("svg",{class:"animate-spin h-5 w-5 text-brand-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),r("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-400"},"Memuat data...",-1)])])):j("",!0),H.value?j("",!0):(h(),x("div",Qe,[(h(!0),x(te,null,re(ie.value,(e,o)=>(h(),x("div",{key:`summary-${o}`,class:"rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.02]"},[r("p",Ze,y(e.label),1),r("div",ea,[r("div",null,[a[8]||(a[8]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Total Alokasi",-1)),r("p",aa,y(S(e.allocated)),1)]),r("div",ta,[r("div",null,[a[9]||(a[9]=r("p",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Teralokasi di Penyaluran",-1)),r("p",ra,y(S(e.used)),1)])]),r("div",sa,[r("div",null,[a[10]||(a[10]=r("p",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Sisa Saldo",-1)),r("p",la,y(S(e.remaining)),1)])])])]))),128))])),r("div",oa,[r("div",{class:"mb-4 flex items-center justify-between"},[a[11]||(a[11]=r("h4",{class:"font-semibold text-gray-800 dark:text-white/90"},"Per-Program Breakdown",-1)),r("div",{class:"flex items-center gap-3"},[r("button",{onClick:Se,class:"h-9 rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400"},"Refresh"),r("button",{onClick:ce,class:"h-9 rounded-lg bg-green-500 px-3 py-1.5 text-sm text-white hover:bg-green-600"},"Export Excel")])]),r("div",na,[(h(!0),x(te,null,re(P.value,e=>(h(),x("div",{key:e.program_id,class:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},[r("div",ia,[r("div",da,[r("h4",{class:"font-semibold text-gray-800 dark:text-white/90 whitespace-nowrap truncate max-w-[300px]",title:e.program_name+(e.tipe_name?" ("+e.tipe_name+")":"")},[ae(y(e.program_name||"Program")+" ",1),e.tipe_name?(h(),x("span",ca,"("+y(e.tipe_name)+")",1)):j("",!0)],8,ua)])]),r("div",ma,[r("table",ga,[a[14]||(a[14]=r("thead",{class:"bg-gray-50 dark:bg-gray-800/30"},[r("tr",null,[r("th",{class:"sticky left-0 z-10 min-w-[200px] border-r border-gray-200 bg-gray-50 px-4 py-3 text-left text-sm font-semibold text-gray-700 dark:border-gray-700 dark:bg-gray-800/30 dark:text-gray-300"},"Pembagian"),r("th",{class:"border-r border-gray-200 px-4 py-3 text-center text-xs font-semibold text-gray-700 dark:border-gray-700 dark:text-gray-300"},"Total")])],-1)),r("tbody",ba,[r("tr",ha,[a[12]||(a[12]=r("td",{class:"sticky left-0 z-10 border-r border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-800 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90"},"Nominal Transaksi",-1)),r("td",ya,y(S((e==null?void 0:e.total_transaksi)||0)),1)]),(h(!0),x(te,null,re(R.value,(o,n)=>{var i;return h(),x("tr",{key:`share-row-${e.program_id}-${o}-${n}`,class:"hover:bg-gray-50 dark:hover:bg-gray-800/20"},[r("td",fa,[ae(y(((i=_.value.value)==null?void 0:i[o])||J(o,P.value.value))+" ",1),e!=null&&e.shares_meta&&e.shares_meta[o]&&e.shares_meta[o].type==="percentage"&&e.shares_meta[o].value!==null?(h(),x("span",va,"("+y(oe(e.shares_meta[o].value))+")",1)):e!=null&&e.shares_meta&&e.shares_meta[o]&&e.shares_meta[o].type==="nominal"&&e.shares_meta[o].value!==null?(h(),x("span",xa,"("+y(S(e.shares_meta[o].value))+")",1)):j("",!0)]),r("td",pa,y(S((e==null?void 0:e[o])||0)),1)])}),128)),ue(e)>0?(h(),x("tr",_a,[a[13]||(a[13]=r("td",{class:"sticky left-0 z-10 border-r border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-800 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90"},"Sisa Belum Teralokasi",-1)),r("td",ka,y(S(ue(e))),1)])):j("",!0)])])])]))),128))])])]),G(Le,{isOpen:X.value,title:"Hapus Keuangan",message:"Apakah Anda yakin ingin menghapus data keuangan ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",confirmButtonClass:"bg-red-500 hover:bg-red-600",onConfirm:we,onCancel:De},null,8,["isOpen"])]),_:1}))}});export{Ia as default};
