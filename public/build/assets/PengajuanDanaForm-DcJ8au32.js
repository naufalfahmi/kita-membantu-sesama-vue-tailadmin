import{d as fa,H as xa,I as va,M as ha,A as j,b as v,e as J,B as Q,f as Z,g as ka,o as u,w as wa,a as r,t as g,q as _a,c as m,i as N,j as S,m as I,k as M,v as L,u as aa,F as ja,l as Sa,n as Ia,Q as Ta}from"./admin-CP3xNH-B.js";import{C as ea}from"./component-BygBhH5i.js";import{_ as Da,g as Aa}from"./AdminLayout.vue_vue_type_script_setup_true_lang-A0mRaxhO.js";import{S as C}from"./SearchableSelect-Ctwxwven.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Na={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},Ca={class:"mb-6 flex items-center justify-between"},Pa={class:"font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl"},Va={class:"grid grid-cols-1 gap-x-6 gap-y-5 lg:grid-cols-2"},Ra={class:"lg:col-span-1"},Fa={class:"lg:col-span-1"},Ua={class:"lg:col-span-1"},$a={class:"lg:col-span-1"},Ea={class:"lg:col-span-1"},Ma={key:0,class:"h-11 flex items-center rounded-lg border border-gray-300 bg-transparent px-4 text-sm text-gray-700 dark:border-gray-700 dark:text-gray-400"},La={key:1,class:"space-y-2"},Oa={class:"flex items-center gap-3"},qa={key:2},Ba={class:"lg:col-span-1"},Xa={class:"relative"},Ha={class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-4 top-1/2 dark:text-gray-400 text-sm"},Ka={key:0,class:"mt-1 text-xs text-red-500"},Ya={key:1,class:"mt-1 text-xs text-red-500"},Ga={class:"lg:col-span-1"},Wa={class:"relative"},za={class:"lg:col-span-1"},Ja={class:"flex items-center gap-2"},Qa={key:0,class:"lg:col-span-2"},Za={class:"mt-3 rounded-lg border border-gray-200 bg-gray-50 p-3 text-sm text-gray-700 dark:border-gray-700 dark:bg-gray-900/40"},ae={class:"flex items-center justify-between"},ee={class:"text-lg font-medium"},te={class:"text-right text-xs text-gray-500"},re={key:0},ne={class:"flex flex-wrap justify-end gap-2"},se={key:0},oe={key:1},le={key:1,class:"text-xs"},ie={key:0,class:"mt-3 border-t pt-3"},de={class:"flex items-center justify-between"},ue={class:"text-xs text-gray-500"},ge={key:0},me={key:1},pe={class:"text-lg font-medium"},ce={class:"text-right text-xs text-gray-500"},be={class:"mt-3 flex items-center justify-between"},ye={class:"flex items-center gap-3"},fe={class:"mt-3 text-sm text-gray-700"},xe={class:"font-medium"},ve={key:0,class:"mt-1 text-xs text-red-500"},he={class:"lg:col-span-2"},ke={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},we={class:"flex items-center gap-3 mt-6 lg:justify-end"},_e=["disabled"],Ne=fa({__name:"PengajuanDanaForm",setup(je){const P=xa(),O=va(),f=ha(),{fetchUser:ta}=Ta(),k=j(()=>P.params.id!==void 0&&P.params.id!=="new"),ra=j(()=>k.value?"Edit Pengajuan Dana":"Tambah Pengajuan Dana"),na={dateFormat:"Y-m-d",altInput:!0,altFormat:"d F Y",locale:"id",wrap:!0,clickOpens:!0,allowInput:!1,minDate:"today"},sa={dateFormat:"Y-m-d",mode:"range",altInput:!0,altFormat:"d F Y",locale:"id",wrap:!0,clickOpens:!0,allowInput:!1},T=v([]),oa=[{value:"program",label:"Program"},{value:"operasional",label:"Operasional"},{value:"gaji karyawan",label:"Gaji Karyawan"}],V=v([]),R=v([]),q=v(""),B=v(""),X=v(""),b=v([]),D=v(""),e=J({applicant:"",submissionType:"",status:"Draft",programId:"",amount:null,usedAt:"",purpose:"",branchId:""}),H=J({amount:""}),w=v(!1),F=j(()=>{if(!(e.submissionType==="program"||e.submissionType==="operasional")||!l||!l.value)return!1;const n=Number(l.value.remaining||0);return Number(e.amount||0)>n}),la=j(()=>!e.amount||e.amount<=0?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.amount)),l=v(null),x=v(null),U=v(!1);let $=null;const h=n=>!n||n<=0?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),ia=n=>{if(!n)return"";try{const a=String(n).split("-");if(a.length<2)return n;const s=Number(a[0]),t=Number(a[1])-1,d=new Date(Date.UTC(s,t,1));return new Intl.DateTimeFormat("id-ID",{month:"long",year:"numeric"}).format(d)}catch{return n}},K=n=>{if(!n)return"";try{const a=String(n).split("-");if(a.length<3)return n;const s=Number(a[0]),t=Number(a[1])-1,d=Number(a[2]),y=new Date(Date.UTC(s,t,d));return new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric"}).format(y)}catch{return n}},da=()=>{b.value=[],E()},ua=j(()=>{if(!x.value||!Array.isArray(x.value.shares))return[];const n=String(e.submissionType||"");let a="program";n==="operasional"?a="ops_2":n==="gaji karyawan"&&(a="ops_1");const s=x.value.shares.map(y=>{var o;return{...y,program_share_type_key:y.program_share_type_key??y.type_key??((o=y.type)==null?void 0:o.key)??null}}),t=s.filter(y=>String(y.program_share_type_key)===a);if(t.length>0)return t;const d=s.filter(y=>String(y.program_share_type_key)==="program");return d.length>0?d:s}),E=async()=>{if(!e.programId){l.value=null;return}U.value=!0;try{let n="program";String(e.submissionType)==="operasional"&&(n="ops_2"),String(e.submissionType)==="gaji karyawan"&&(n="ops_1");let a="",s=null,t=null;const d=i=>{if(!i)return[null,null];if(Array.isArray(i)&&i.length>=2){const p=c=>{if(!c)return null;if(typeof c=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(c))return c;const _=new Date(c);return isNaN(_.getTime())?null:_.toISOString().split("T")[0]};return[p(i[0]),p(i[1])]}if(typeof i=="string"){const p=Array.from(i.matchAll(/(\d{4}-\d{2}-\d{2})/g)).map(_=>_[1]);if(p.length>=2)return[p[0],p[1]];const c=i.split(/[^0-9-]+/).filter(Boolean);if(c.length>=2&&/^\d{4}-\d{2}-\d{2}$/.test(c[0])&&/^\d{4}-\d{2}-\d{2}$/.test(c[1]))return[c[0],c[1]]}try{const p=new Date(i);if(!isNaN(p.getTime())){const c=p.toISOString().split("T")[0];return[c,c]}}catch{}return[null,null]};if(b){const[i,p]=d(b.value);s=i,t=p}if(s&&t)a=`/admin/api/program/${e.programId}/balance?start_date=${encodeURIComponent(s)}&end_date=${encodeURIComponent(t)}&share_key=${encodeURIComponent(n)}`;else{const i=new Date(e.usedAt);if(isNaN(i.getTime())){l.value=null,U.value=!1;return}const p=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`;a=`/admin/api/program/${e.programId}/balance?month=${p}&share_key=${encodeURIComponent(n)}&lookback=1`}const o=await(await fetch(a,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!o.success)throw new Error(o.message||"Failed to load balance");s&&t&&(o.data||(o.data={}),o.data.start_date||(o.data.start_date=s),o.data.end_date||(o.data.end_date=t)),l.value=o.data}catch(n){console.error("Error loading program balance",n),f.error("Gagal memuat saldo program"),l.value=null}finally{U.value=!1}},Y=async()=>{if(!e.programId){x.value=null;return}try{const a=await(await fetch(`/admin/api/program/${e.programId}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!a.success)throw new Error(a.message||"Failed to load program");x.value=a.data}catch(n){console.error("Error loading program detail",n),x.value=null}};Q([()=>e.programId,()=>e.usedAt,()=>b.value],()=>{$&&window.clearTimeout($),$=window.setTimeout(()=>{Y(),E()},300)}),Q(()=>e.submissionType,n=>{const a=String(n);a==="program"&&!k.value&&(e.amount=null),["program","operasional","gaji karyawan"].includes(a)&&e.programId?(Y(),E()):(x.value=null,l.value=null)});const ga=n=>{const a=n.target,s=parseFloat(a.value);isNaN(s)||s<0?e.amount=null:e.amount=Math.floor(s)},ma=async()=>{if(!k.value)return;const n=P.params.id;try{const s=await(await fetch(`/admin/api/pengajuan-dana/${n}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!s.success)throw new Error(s.message||"Failed to load");const t=s.data;if(e.applicant=t.fundraiser?String(t.fundraiser.id):"",e.status=t.status||"Draft",t.fundraiser&&!T.value.find(d=>d.value===String(t.fundraiser.id))&&T.value.unshift({value:String(t.fundraiser.id),label:t.fundraiser.name||t.fundraiser.nama||""}),e.submissionType=t.submission_type,e.amount=t.amount,e.usedAt=t.used_at,e.purpose=t.purpose||"",e.branchId=t.kantor_cabang?t.kantor_cabang.id:"",e.programId=t.program?String(t.program.id):"",t.kantor_cabang&&!V.value.find(d=>d.value===String(t.kantor_cabang.id))&&V.value.unshift({value:String(t.kantor_cabang.id),label:t.kantor_cabang.nama||""}),t.program&&!R.value.find(d=>d.value===String(t.program.id))){const d=t.program.nama_program||t.program.nama||"";R.value.unshift({value:String(t.program.id),label:d})}}catch(a){console.error("Error loading data:",a),f.error("Gagal memuat data pengajuan dana")}},pa=async()=>{try{const n=await ta();D.value=n!=null&&n.id?String(n.id):"";const s=await(await fetch("/admin/api/pengajuan-dana/options",{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}})).json();if(!s.success)throw new Error(s.message||"Failed to load options");const t=s.data.users||[];T.value=t.map(o=>({value:String(o.id),label:o.name}));const d=s.data.kantor_cabangs||[];V.value=d.map(o=>({value:String(o.id),label:o.nama}));const y=s.data.programs||[];R.value=y.map(o=>({value:String(o.id),label:o.nama})),D.value&&T.value.find(i=>i.value===String(D.value))&&!e.applicant&&(e.applicant=String(D.value)),k.value&&s.data&&s.data.current&&s.data.current.program&&(e.programId=String(s.data.current.program.id))}catch(n){console.error("Error loading options",n),f.error("Gagal memuat opsi form")}},ca=[{value:"Draft",label:"Draft"},{value:"Pending",label:"Diajukan"}];j(()=>String(e.applicant)===String(D.value));const ba=j(()=>ca),G=()=>O.push("/keuangan/pengajuan-dana"),ya=async()=>{var n;if(!e.applicant){f.error("Pengaju wajib diisi");return}if(!e.submissionType){f.error("Tipe Pengajuan wajib diisi");return}if(!e.amount||e.amount<=0){f.error("Nominal wajib diisi dan harus lebih dari 0");return}if(!e.usedAt){f.error("Tanggal Digunakan wajib diisi");return}if(!e.branchId){f.error("Kantor Cabang wajib diisi");return}if(!w.value){w.value=!0;try{if(F.value){const i=h(Number(((n=l.value)==null?void 0:n.remaining)||0));f.error(`nominal melebihi batas tidak dapat menyimpan — sisa alokasi: ${i}`),w.value=!1;return}const a={fundraiser_id:e.applicant,submission_type:e.submissionType,program_id:e.programId||null,status:e.status,amount:e.amount,used_at:e.usedAt,purpose:e.purpose,kantor_cabang_id:e.branchId};if(b&&Array.isArray(b.value)&&b.value.length>=2){const i=A=>{if(!A)return null;if(typeof A=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(A))return A;const z=new Date(A);return isNaN(z.getTime())?null:z.toISOString().split("T")[0]},[p,c]=b.value,_=i(p),W=i(c);_&&W&&(a.start_date=_,a.end_date=W)}const s=await Aa(),t=k.value?`/admin/api/pengajuan-dana/${P.params.id}`:"/admin/api/pengajuan-dana",d=k.value?"PUT":"POST",o=await(await fetch(t,{method:d,credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":s,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(a)})).json();if(!o.success){if(o.remaining!==void 0){f.error(`nominal melebihi batas tidak dapat menyimpan — sisa alokasi: ${h(Number(o.remaining))}`),w.value=!1;return}if(o.errors){const i=Object.values(o.errors)[0];f.error(i?String(i[0]):"Validation failed"),w.value=!1;return}throw new Error(o.message||"Failed to save")}f.success(k.value?"Pengajuan dana berhasil diupdate":"Pengajuan dana berhasil ditambahkan"),O.push("/keuangan/pengajuan-dana")}catch(a){console.error("Error saving:",a),f.error("Terjadi kesalahan saat menyimpan data")}finally{w.value=!1}}};return Z(async()=>{await pa(),await ma()}),Z(()=>{const n=new Date().toISOString().split("T")[0];!k.value&&(!e.usedAt||String(e.usedAt).trim()==="")&&(e.usedAt=n)}),(n,a)=>(u(),ka(Da,null,{default:wa(()=>{var s;return[r("div",Na,[r("div",Ca,[r("h3",Pa,g(ra.value),1),r("button",{onClick:G,class:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"},"Batal")]),r("form",{onSubmit:_a(ya,["prevent"]),class:"flex flex-col"},[r("div",Va,[r("div",Ra,[a[16]||(a[16]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[I("Pengaju "),r("span",{class:"text-red-500"},"*")],-1)),S(C,{modelValue:e.applicant,"onUpdate:modelValue":a[0]||(a[0]=t=>e.applicant=t),options:T.value,placeholder:"Pilih atau cari pengaju","search-input":q.value,"onUpdate:searchInput":a[1]||(a[1]=t=>q.value=t)},null,8,["modelValue","options","search-input"])]),r("div",Fa,[a[17]||(a[17]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[I("Tipe Pengajuan "),r("span",{class:"text-red-500"},"*")],-1)),S(C,{modelValue:e.submissionType,"onUpdate:modelValue":a[2]||(a[2]=t=>e.submissionType=t),options:oa,placeholder:"Pilih tipe pengajuan","search-input":B.value,"onUpdate:searchInput":a[3]||(a[3]=t=>B.value=t)},null,8,["modelValue","search-input"])]),r("div",Ua,[a[18]||(a[18]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Program",-1)),S(C,{modelValue:e.programId,"onUpdate:modelValue":a[4]||(a[4]=t=>e.programId=t),options:R.value,placeholder:"Pilih program"},null,8,["modelValue","options"])]),r("div",$a,[a[19]||(a[19]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[I("Kantor "),r("span",{class:"text-red-500"},"*")],-1)),S(C,{modelValue:e.branchId,"onUpdate:modelValue":a[5]||(a[5]=t=>e.branchId=t),options:V.value,placeholder:"Pilih atau cari kantor cabang","search-input":X.value,"onUpdate:searchInput":a[6]||(a[6]=t=>X.value=t)},null,8,["modelValue","options","search-input"])]),r("div",Ea,[a[22]||(a[22]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[I("Status "),r("span",{class:"text-red-500"},"*")],-1)),e.status==="Approved"?(u(),m("div",Ma,[a[20]||(a[20]=r("span",{class:"flex-1"},"Disetujui",-1)),M(r("input",{type:"hidden","onUpdate:modelValue":a[7]||(a[7]=t=>e.status=t)},null,512),[[L,e.status]])])):e.status==="Rejected"?(u(),m("div",La,[a[21]||(a[21]=r("div",{class:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700 dark:border-red-800 dark:bg-red-900/10 dark:text-red-300"},[r("div",{class:"font-medium"},"Pengajuan ditolak"),r("div",{class:"text-xs"},"Anda dapat mengajukan ulang jika diperlukan.")],-1)),r("div",Oa,[r("button",{type:"button",onClick:a[8]||(a[8]=()=>{e.status="Pending"}),class:"rounded bg-brand-500 px-3 py-1 text-sm text-white"},"Ajukan lagi"),r("button",{type:"button",onClick:a[9]||(a[9]=()=>{e.status="Draft"}),class:"rounded bg-gray-100 px-3 py-1 text-sm"},"Simpan sebagai Draft")])])):(u(),m("div",qa,[S(C,{modelValue:e.status,"onUpdate:modelValue":a[10]||(a[10]=t=>e.status=t),options:ba.value,placeholder:"Pilih status"},null,8,["modelValue","options"])]))]),r("div",Ba,[a[23]||(a[23]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[I("Nominal "),r("span",{class:"text-red-500"},"*")],-1)),r("div",Xa,[M(r("input",{type:"number","onUpdate:modelValue":a[11]||(a[11]=t=>e.amount=t),placeholder:"Masukkan nominal",min:"1",step:"1",required:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-24 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",onInput:ga},null,544),[[L,e.amount,void 0,{number:!0}]]),r("span",Ha,g(la.value),1)]),a[24]||(a[24]=r("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Minimal nominal: Rp 1",-1)),F.value?(u(),m("p",Ka,"Nominal melebihi sisa alokasi: "+g(h(((s=l.value)==null?void 0:s.remaining)||0)),1)):H.amount?(u(),m("p",Ya,g(H.amount),1)):N("",!0)]),r("div",Ga,[a[25]||(a[25]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[I("Tanggal Digunakan "),r("span",{class:"text-red-500"},"*")],-1)),r("div",Wa,[S(aa(ea),{modelValue:e.usedAt,"onUpdate:modelValue":a[12]||(a[12]=t=>e.usedAt=t),config:na,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Pilih tanggal digunakan",required:""},null,8,["modelValue"])])]),r("div",za,[a[27]||(a[27]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Rentang Tanggal Transaksi (opsional)",-1)),r("div",Ja,[S(aa(ea),{modelValue:b.value,"onUpdate:modelValue":a[13]||(a[13]=t=>b.value=t),config:sa,class:"dark:bg-dark-900 h-10 flex-1 appearance-none rounded-lg border border-gray-300 bg-transparent px-3 py-2 text-sm text-gray-800 placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90",placeholder:"Pilih rentang tanggal"},null,8,["modelValue"]),Array.isArray(b.value)&&b.value.length>0||b.value&&String(b.value).length>0?(u(),m("button",{key:0,type:"button",title:"Hapus Leader",onClick:da,class:"h-10 w-10 flex items-center justify-center rounded-lg border border-gray-300 bg-white text-sm text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},[...a[26]||(a[26]=[r("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M18 6L6 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])):N("",!0)])]),x.value?(u(),m("div",Qa,[r("div",Za,[r("div",ae,[r("div",null,[a[28]||(a[28]=r("div",{class:"text-xs text-gray-500"},"Program",-1)),r("div",ee,g(x.value.nama_program||x.value.nama||""),1)]),r("div",te,[x.value&&Array.isArray(x.value.shares)?(u(),m("div",re,[r("div",ne,[(u(!0),m(ja,null,Sa(ua.value,t=>(u(),m("span",{key:t.id||t.share_id||t.program_share_id,class:"inline-flex items-center rounded px-2 py-0.5 bg-gray-100 text-xs text-gray-700 dark:bg-gray-800/40 dark:text-gray-300"},[t.type==="percentage"||t.type_key&&String(t.type_key).toLowerCase().includes("percent")?(u(),m("span",se,g(Number(t.value||0))+"% ",1)):(u(),m("span",oe,g(h(Number(t.value||0))),1))]))),128))])])):(u(),m("div",le," "))])]),l.value?(u(),m("div",ie,[r("div",de,[r("div",null,[r("div",ue,[l.value.start_date&&l.value.end_date?(u(),m("span",ge,"Sisa alokasi "+g(K(l.value.start_date))+" - "+g(K(l.value.end_date)),1)):(u(),m("span",me,"Sisa alokasi bulan "+g(ia(l.value.month)),1))]),r("div",pe,g(h(l.value.remaining)),1)]),r("div",ce,[r("div",null,"Inflow: "+g(h(l.value.inflow)),1),r("div",null,"Dialokasikan: "+g(h(l.value.allocated)),1),r("div",null,"Terpakai: "+g(h(l.value.outflow)),1)])]),r("div",be,[a[29]||(a[29]=r("div",{class:"text-sm text-gray-600"},"Opsi:",-1)),r("div",ye,[r("button",{type:"button",onClick:a[14]||(a[14]=()=>{e.amount=l.value.remaining}),class:"rounded bg-gray-100 px-3 py-1 text-sm"},"Gunakan Seluruh Alokasi")])]),r("div",fe,[r("div",null,[a[30]||(a[30]=I("Estimasi sisa setelah pengajuan: ",-1)),r("span",xe,g(h((l.value.remaining||0)-(e.amount||0))),1)]),(e.amount||0)>(l.value.remaining||0)?(u(),m("div",ve,"Kekurangan: "+g(h((e.amount||0)-(l.value.remaining||0))),1)):N("",!0)])])):N("",!0)])])):N("",!0),r("div",he,[a[31]||(a[31]=r("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Tujuan Pengajuan",-1)),M(r("textarea",{"onUpdate:modelValue":a[15]||(a[15]=t=>e.purpose=t),placeholder:"Masukkan tujuan atau alasan pengajuan dana",maxlength:"1000",rows:"4",class:"dark:bg-dark-900 w-full rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[L,e.purpose]]),r("p",ke,g(e.purpose.length)+"/1000 karakter",1)])]),r("div",we,[r("button",{onClick:G,type:"button",class:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto"},"Batal"),r("button",{disabled:w.value||F.value,type:"submit",class:Ia(["flex w-full justify-center rounded-lg px-4 py-2.5 text-sm font-medium sm:w-auto",w.value||F.value?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-brand-500 text-white hover:bg-brand-600"])},g(k.value?"Simpan Perubahan":"Simpan"),11,_e)])],32)])]}),_:1}))}});export{Ne as default};
