import{d as Le,H as He,I as Ee,A as u,b as o,B as j,f as ie,g as ue,o as d,w as Re,a,c as g,F as L,l as H,n as V,G as $e,t as l,i as C,j as B,u as E,q as ge,D as ze,m as Ne,k as R,v as $,Q as Ye,U as Oe}from"./admin-tO_AEK6H.js";import{C as ce}from"./component-86GLdd_C.js";import{u as T,w as me}from"./xlsx-3SA47z_C.js";import{_ as Ue}from"./AdminLayout.vue_vue_type_script_setup_true_lang-ZtObBfGk.js";import{S as pe}from"./SearchableSelect-BM4gX0_D.js";import{_ as qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Xe={class:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12"},We={role:"tablist",class:"mb-8 flex flex-wrap items-center justify-center gap-4 border-b border-gray-200 dark:border-gray-700"},Ze=["aria-selected","aria-controls","id","onClick"],Ge={class:"space-y-6"},Je={key:0,role:"tabpanel",id:"tabpanel-balance","aria-labelledby":"tab-balance"},Qe={class:"mb-6"},ea={class:"grid grid-cols-1 gap-3 md:grid-cols-12"},aa={class:"md:col-span-4"},ta={class:"md:col-span-3"},ra={class:"md:col-span-3"},na={class:"mb-6 rounded-lg border border-gray-200 bg-gradient-to-br from-brand-500 to-brand-600 p-6 shadow-lg dark:border-gray-700 dark:from-brand-600 dark:to-brand-700"},oa={class:"text-center"},la={class:"text-4xl font-bold text-white sm:text-5xl"},sa={class:"mt-2 text-sm text-white/80"},da={class:"mb-4 flex items-center justify-between"},ia={class:"text-lg font-semibold text-gray-800 dark:text-white/90"},ua={class:"flex items-center gap-2"},ga={class:"overflow-x-auto"},ca={class:"w-full table-auto"},ma={class:"px-4 py-3 text-sm text-gray-700"},pa={class:"px-4 py-3 text-sm text-gray-700"},ba={class:"px-4 py-3 text-sm text-right text-green-600"},va={class:"px-4 py-3 text-sm text-right text-red-600"},ka={class:"px-4 py-3 text-sm text-right"},ha={class:"mt-4 flex items-center justify-between"},xa={class:"text-sm text-gray-600"},fa={class:"flex gap-2"},ya=["disabled"],wa=["disabled"],_a={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2"},Ma={class:"flex items-center justify-between"},Ca={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Da={class:"flex items-center gap-3"},Pa={class:"flex items-center justify-between"},Sa={class:"text-2xl font-bold text-red-600 dark:text-red-400"},ja={class:"flex items-center gap-3"},Ba={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},Ta={class:"flex flex-col items-center justify-center"},Aa={class:"relative w-full max-w-[300px]"},Ka={class:"mt-4 flex gap-6 text-center"},Fa={class:"text-lg font-semibold text-green-600 dark:text-green-400"},Ia={class:"text-lg font-semibold text-red-600 dark:text-red-400"},Va={key:1,role:"tabpanel",id:"tabpanel-management","aria-labelledby":"tab-management"},La={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},Ha={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Ea={class:"flex-1"},Ra={class:"relative"},$a={class:"flex-1"},za={class:"flex-1"},Na={class:"flex-1"},Ya={class:"ag-theme-alpine dark:ag-theme-alpine-dark",style:{width:"100%"}},Oa={key:2,role:"tabpanel",id:"tabpanel-mitra","aria-labelledby":"tab-mitra"},Ua={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03]"},qa={class:"flex gap-4"},Xa={class:"flex-1"},Wa={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Za={class:"mb-4 flex items-center justify-between"},Ga=["onClick"],Ja={class:"mb-2 text-lg font-semibold text-gray-800 dark:text-white/90"},Qa={class:"mb-3 text-sm text-gray-600 dark:text-gray-400"},et={class:"flex items-center justify-between"},at={class:"text-base font-semibold text-gray-800 dark:text-white/90"},tt={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},rt={class:"text-lg font-medium text-gray-600 dark:text-gray-400"},nt={key:0,class:"mt-2 text-sm text-gray-500 dark:text-gray-500"},ot={key:1,class:"mt-6 flex items-center justify-between"},lt={class:"text-sm text-gray-600 dark:text-gray-400"},st={class:"flex gap-2"},dt=["disabled"],it={class:"flex gap-1"},ut=["onClick"],gt=["disabled"],q=6,ct=Le({__name:"LaporanKeuangan",setup(mt){const z=He(),be=Ee();u(()=>z.meta.title||"Laporan Keuangan");const ve=[{id:"balance",label:"Balance",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5z" />
    </svg>
  `}},{id:"management",label:"Management",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
    </svg>
  `}},{id:"mitra",label:"Mitra",icon:{template:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
    </svg>
  `}}],X=["balance","management","mitra"],W=z.query.tab,m=o(X.includes(W)?W:"balance");j(()=>z.query.tab,r=>{r&&X.includes(r)&&(m.value=r)}),o("");const ke={dateFormat:"Y-m-d",altInput:!0,altFormat:"d/m/Y",wrap:!1},A=o(""),K=o(""),F=o(""),I=o(""),f=o(""),v=o(1),p=o(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),b=o(new Date().toISOString().split("T")[0]);o(!1);const y=o({saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0}),D=o([]),s=o({current_page:1,last_page:1,per_page:20,total:0}),he={mode:"range",dateFormat:"Y-m-d",altInput:!0,altFormat:"d/m/Y",wrap:!1},P=o([p.value,b.value]);let N=null;const Z=(r=400)=>{N&&clearTimeout(N),N=setTimeout(()=>{s.value.current_page=1,h(1)},r)};j(P,r=>{if(Array.isArray(r))p.value=r[0]||p.value,b.value=r[1]||b.value;else if(typeof r=="string"){const e=r.split(" to ");p.value=e[0]||p.value,b.value=e[1]||b.value}Z()});const G=o([]),J=o([]),w=o(""),_=o(""),Q=o(""),ee=o(""),xe=u(()=>{const r=G.value.map(e=>({value:String(e.id),label:e.nama_program||e.name||e.nama}));return[{value:"",label:"Semua Program"},...r]}),fe=u(()=>{const r=J.value.map(e=>({value:String(e.id),label:e.nama||e.name}));return[{value:"",label:"Semua Kantor Cabang"},...r]});j([w,_],()=>{Z()});const x=o(!1),k=o("all"),ye=u(()=>k.value==="masuk"?"Pemasukan":k.value==="keluar"?"Pengeluaran":"Semua"),ae=u(()=>D.value?k.value==="masuk"?D.value.filter(r=>r.masuk>0):k.value==="keluar"?D.value.filter(r=>r.keluar>0):D.value:[]),te=o(null),re=async(r="all")=>{var e;if(console.log("toggleAccordion called",{filter:r,accordionOpen:x.value,accordionFilter:k.value}),x.value&&k.value===r)x.value=!1;else{k.value=r,x.value=!0,s.value.current_page=1,await h(1),console.log("toggleAccordion: fetched transactions count",D.value.length),await Oe();try{(e=te.value)==null||e.scrollIntoView({behavior:"smooth",block:"start"})}catch{}}},we=()=>{const r=ae.value.map(c=>({Tanggal:c.tanggal,Keterangan:c.keterangan,Masuk:c.masuk>0?i(c.masuk):"-",Keluar:c.keluar>0?i(c.keluar):"-",Saldo:i(c.saldo)})),e=T.json_to_sheet(r),t=T.book_new();T.book_append_sheet(t,e,"Laporan Keuangan");const n=`Laporan_Keuangan_${p.value}_${b.value}.xlsx`;me(t,n)},_e=u(()=>({chart:{fontFamily:"Outfit, sans-serif",type:"radialBar"},colors:["#10b981","#ef4444"],plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"70%"},track:{background:"#E4E7EC",strokeWidth:"100%",margin:5},dataLabels:{name:{show:!1},value:{fontSize:"24px",fontWeight:"600",offsetY:0,color:"#1D2939",formatter:function(r){return r.toFixed(1)+"%"}}}}},fill:{type:"solid"},stroke:{lineCap:"round"},labels:["Pemasukan"]})),Y=u(()=>{const r=y.value.totalMasuk||0,e=y.value.totalKeluar||0,t=r+e;return t===0?0:r/t*100}),Me=u(()=>Y.value.toFixed(2)),Ce=u(()=>(100-Y.value).toFixed(2)),De=u(()=>[Y.value]),h=async(r=1)=>{try{console.log("fetchBalanceData start",{start:p.value,end:b.value,program:w.value,kantor:_.value,page:r}),s.value.current_page=r;const e=new URLSearchParams;e.append("start",p.value),e.append("end",b.value),e.append("page",String(r)),e.append("per_page",String(s.value.per_page||20)),w.value&&e.append("program_id",w.value),_.value&&e.append("kantor_cabang_id",_.value);const t=await fetch(`/admin/api/laporan/keuangan?${e.toString()}`,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok){console.error("Error fetching laporan keuangan",t.status);return}const n=await t.json();if(console.log("fetchBalanceData json",n),!n.success){console.error("API returned error",n.message);return}const c=n.data;y.value=c.totals||{saldo_awal:0,totalMasuk:0,totalKeluar:0,saldo_akhir:0},D.value=c.transactions||[],s.value={...c.pagination||{},per_page:c.pagination&&c.pagination.per_page||20}}catch(e){console.error("Exception fetching laporan keuangan",e)}},Pe=()=>{const r=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],e=new Date().toISOString().split("T")[0];p.value=r,b.value=e,P.value=[r,e],w.value="",_.value="",s.value.current_page=1,h(1)},ne=async()=>{var r,e;try{const t=await fetch("/admin/api/program?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const n=await t.json();n.success&&(G.value=n.data||((r=n.data)==null?void 0:r.data)||((e=n.data)==null?void 0:e.items)||[])}catch(t){console.error("Error fetching programs",t)}},oe=async()=>{var r,e;try{const t=await fetch("/admin/api/kantor-cabang?per_page=200",{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)return;const n=await t.json();n.success&&(J.value=n.data||((r=n.data)==null?void 0:r.data)||((e=n.data)==null?void 0:e.items)||[])}catch(t){console.error("Error fetching kantor cabang",t)}};j(m,r=>{r==="balance"&&(P.value=[p.value,b.value],h(1),ne(),oe())}),ie(()=>{m.value==="balance"&&(P.value=[p.value,b.value],h(1),ne(),oe())});const i=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),Se=[{headerName:"Tanggal",field:"tanggal",sortable:!0,flex:1,valueFormatter:r=>r.value?new Date(r.value).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):""},{headerName:"Keterangan",field:"keterangan",sortable:!0,flex:2},{headerName:"Masuk",field:"masuk",sortable:!0,flex:1,valueFormatter:r=>r.value&&r.value>0?i(r.value):"-",cellStyle:{color:"#10b981",fontWeight:"500"}},{headerName:"Keluar",field:"keluar",sortable:!0,flex:1,valueFormatter:r=>r.value&&r.value>0?i(r.value):"-",cellStyle:{color:"#ef4444",fontWeight:"500"}},{headerName:"Saldo",field:"saldo",sortable:!0,flex:1,valueFormatter:r=>r.value?i(r.value):"-"},{headerName:"Actions",field:"actions",sortable:!1,filter:!1,width:120,cellRenderer:r=>{const e=document.createElement("div");e.className="flex items-center gap-3";const t=document.createElement("button");t.className="flex items-center justify-center w-8 h-8 rounded-lg text-brand-500 hover:bg-brand-50 dark:hover:bg-brand-500/10 transition-colors",t.innerHTML=`
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
          <circle cx="12" cy="12" r="3"></circle>
        </svg>
      `,t.onclick=()=>Ae(r.data.id);const n=document.createElement("button");return n.className="flex items-center justify-center w-8 h-8 rounded-lg text-gray-500 hover:bg-gray-50 dark:hover:bg-white/[0.03] dark:hover:text-gray-400 transition-colors",n.innerHTML=`
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
      `,n.onclick=()=>Ke(r.data.id),e.appendChild(t),e.appendChild(n),e}}],je={resizable:!0,sortable:!0,filter:!0},le=u(()=>{let r=[...Be];if(A.value&&(r=r.filter(e=>{const t=new Date(e.tanggal),n=new Date(A.value);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()})),K.value){const e=K.value.toLowerCase();r=r.filter(t=>t.keterangan.toLowerCase().includes(e))}if(F.value){const e=parseFloat(F.value);isNaN(e)||(r=r.filter(t=>t.masuk>=e))}if(I.value){const e=parseFloat(I.value);isNaN(e)||(r=r.filter(t=>t.keluar>=e))}return r}),Be=[{id:"1",tanggal:"2024-01-15",keterangan:"Donasi dari PT ABC",masuk:5e7,keluar:0,saldo:5e7},{id:"2",tanggal:"2024-01-16",keterangan:"Pembayaran gaji karyawan",masuk:0,keluar:25e6,saldo:25e6},{id:"3",tanggal:"2024-01-17",keterangan:"Donasi online",masuk:1e7,keluar:0,saldo:35e6},{id:"4",tanggal:"2024-01-18",keterangan:"Biaya operasional",masuk:0,keluar:5e6,saldo:3e7},{id:"5",tanggal:"2024-01-19",keterangan:"Zakat dari donatur",masuk:75e6,keluar:0,saldo:105e6},{id:"6",tanggal:"2024-01-20",keterangan:"Penyaluran ke program pendidikan",masuk:0,keluar:3e7,saldo:75e6},{id:"7",tanggal:"2024-01-21",keterangan:"Donasi dari Yayasan XYZ",masuk:1e8,keluar:0,saldo:175e6},{id:"8",tanggal:"2024-01-22",keterangan:"Biaya administrasi",masuk:0,keluar:2e6,saldo:173e6}],S=u(()=>{if(!f.value)return de.value;const r=f.value.toLowerCase();return de.value.filter(e=>e.nama.toLowerCase().includes(r)||e.program.toLowerCase().includes(r))}),O=u(()=>Math.ceil(S.value.length/q)),U=u(()=>(v.value-1)*q),se=u(()=>Math.min(U.value+q,S.value.length)),Te=u(()=>S.value.slice(U.value,se.value));j(f,()=>{v.value=1}),j(m,r=>{r==="balance"&&h(1)}),ie(()=>{m.value==="balance"&&h(1)});const de=o([{id:"1",nama:"PT ABC Foundation",program:"Program Pendidikan Anak",nominal:5e7,status:"Aktif"},{id:"2",nama:"Yayasan XYZ",program:"Program Pemberdayaan Masyarakat",nominal:75e6,status:"Aktif"},{id:"3",nama:"CV Sejahtera",program:"Program Kesehatan",nominal:3e7,status:"Aktif"},{id:"4",nama:"PT Harmoni",program:"Program Bantuan Sosial",nominal:1e8,status:"Aktif"},{id:"5",nama:"Yayasan Peduli",program:"Program Lingkungan",nominal:25e6,status:"Aktif"},{id:"6",nama:"PT Berkah",program:"Program Kemanusiaan",nominal:6e7,status:"Aktif"},{id:"7",nama:"PT Cinta Indonesia",program:"Program Beasiswa",nominal:8e7,status:"Aktif"},{id:"8",nama:"Yayasan Kasih Ibu",program:"Program Kesehatan Ibu dan Anak",nominal:45e6,status:"Aktif"},{id:"9",nama:"CV Maju Bersama",program:"Program Pemberdayaan Ekonomi",nominal:55e6,status:"Aktif"},{id:"10",nama:"PT Harapan Bangsa",program:"Program Infrastruktur",nominal:12e7,status:"Aktif"},{id:"11",nama:"Yayasan Bantu Sesama",program:"Program Bantuan Pangan",nominal:35e6,status:"Aktif"},{id:"12",nama:"PT Gotong Royong",program:"Program Air Bersih",nominal:7e7,status:"Aktif"},{id:"13",nama:"CV Jaya Abadi",program:"Program Teknologi",nominal:9e7,status:"Aktif"},{id:"14",nama:"Yayasan Damai Sentosa",program:"Program Perdamaian",nominal:4e7,status:"Aktif"},{id:"15",nama:"PT Harmoni Sejahtera",program:"Program Sosial Budaya",nominal:65e6,status:"Aktif"}]),Ae=r=>{alert(`Detail transaksi dengan ID: ${r}`)},Ke=r=>{alert(`Download transaksi dengan ID: ${r}`)},Fe=r=>{be.push(`/laporan/detail-mitra/${r}`)},Ie=()=>{A.value="",K.value="",F.value="",I.value=""},Ve=()=>{const r=le.value.map(M=>({Tanggal:new Date(M.tanggal).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),Keterangan:M.keterangan,Masuk:M.masuk>0?i(M.masuk):"-",Keluar:M.keluar>0?i(M.keluar):"-",Saldo:i(M.saldo)})),e=T.json_to_sheet(r),t=T.book_new();T.book_append_sheet(t,e,"Laporan Keuangan Management");const c=`Laporan_Keuangan_Management_${new Date().toISOString().split("T")[0]}.xlsx`;me(t,c)};return(r,e)=>(d(),ue(Ue,null,{default:Re(()=>[a("div",Xe,[e[43]||(e[43]=a("div",{class:"mb-8 text-center"},[a("h1",{class:"mb-2 text-3xl font-bold text-gray-800 dark:text-white/90 sm:text-4xl"}," Laporan Keuangan "),a("p",{class:"text-lg text-gray-600 dark:text-gray-400"}," Ringkasan dan detail keuangan organisasi ")],-1)),a("div",We,[(d(),g(L,null,H(ve,t=>a("button",{key:t.id,role:"tab","aria-selected":m.value===t.id,"aria-controls":`tabpanel-${t.id}`,id:`tab-${t.id}`,onClick:n=>m.value=t.id,class:V(["flex items-center gap-2 rounded-t-lg px-6 py-3 text-sm font-medium transition-all duration-200",m.value===t.id?"border-b-2 border-brand-500 bg-brand-50 text-brand-600 dark:bg-brand-500/10 dark:text-brand-400":"text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},[(d(),ue($e(t.icon),{class:"h-5 w-5"})),a("span",null,l(t.label),1)],10,Ze)),64))]),a("div",Ge,[m.value==="balance"?(d(),g("div",Je,[a("div",Qe,[a("div",ea,[a("div",aa,[e[17]||(e[17]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Rentang Tanggal",-1)),B(E(ce),{modelValue:P.value,"onUpdate:modelValue":e[0]||(e[0]=t=>P.value=t),config:he,class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:border-brand-300",placeholder:"Pilih rentang tanggal"},null,8,["modelValue"])]),a("div",ta,[e[18]||(e[18]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Program",-1)),B(pe,{modelValue:w.value,"onUpdate:modelValue":e[1]||(e[1]=t=>w.value=t),options:xe.value,placeholder:"Semua Program","search-input":Q.value,"onUpdate:searchInput":e[2]||(e[2]=t=>Q.value=t)},null,8,["modelValue","options","search-input"])]),a("div",ra,[e[19]||(e[19]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Kantor Cabang",-1)),B(pe,{modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=t=>_.value=t),options:fe.value,placeholder:"Semua Kantor Cabang","search-input":ee.value,"onUpdate:searchInput":e[4]||(e[4]=t=>ee.value=t)},null,8,["modelValue","options","search-input"])]),a("div",{class:"md:col-span-2 flex items-end justify-end"},[a("div",{class:"flex gap-2"},[a("button",{onClick:Pe,class:"h-11 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Reset ")])])])]),a("div",na,[a("div",oa,[e[20]||(e[20]=a("p",{class:"mb-2 text-sm font-medium text-white/80"},"Total Saldo",-1)),a("h2",la,l(i(y.value.saldo_akhir||0)),1),a("p",sa,"Saldo awal: "+l(i(y.value.saldo_awal||0)),1)])]),x.value?(d(),g("div",{key:0,ref_key:"accordionRef",ref:te,class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-white/[0.03]"},[a("div",da,[a("h3",ia,"Transaksi ("+l(ye.value)+")",1),a("div",ua,[a("button",{onClick:we,class:"h-10 rounded-lg bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600"},"Export Excel"),a("button",{onClick:e[5]||(e[5]=t=>x.value=!1),class:"h-10 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm"},"Tutup")])]),a("div",ga,[a("table",ca,[e[21]||(e[21]=a("thead",null,[a("tr",{class:"text-sm font-semibold text-left text-gray-600"},[a("th",{class:"px-4 py-2"},"Tanggal"),a("th",{class:"px-4 py-2"},"Keterangan"),a("th",{class:"px-4 py-2 text-right"},"Masuk"),a("th",{class:"px-4 py-2 text-right"},"Keluar"),a("th",{class:"px-4 py-2 text-right"},"Saldo")])],-1)),a("tbody",null,[(d(!0),g(L,null,H(ae.value,t=>(d(),g("tr",{key:t.id,class:"border-t"},[a("td",ma,l(t.tanggal),1),a("td",pa,l(t.keterangan),1),a("td",ba,l(t.masuk>0?i(t.masuk):"-"),1),a("td",va,l(t.keluar>0?i(t.keluar):"-"),1),a("td",ka,l(i(t.saldo)),1)]))),128))])])]),a("div",ha,[a("div",xa,"Menampilkan halaman "+l(s.value.current_page)+" dari "+l(s.value.last_page)+" â€” total "+l(s.value.total)+" transaksi",1),a("div",fa,[a("button",{disabled:s.value.current_page<=1,onClick:e[6]||(e[6]=t=>{s.value.current_page=Math.max(1,s.value.current_page-1),h(s.value.current_page)}),class:"h-10 rounded-lg border px-3 bg-white"},"Sebelumnya",8,ya),a("button",{disabled:s.value.current_page>=s.value.last_page,onClick:e[7]||(e[7]=t=>{s.value.current_page=Math.min(s.value.last_page,s.value.current_page+1),h(s.value.current_page)}),class:"h-10 rounded-lg border px-3 bg-white"},"Selanjutnya",8,wa)])])],512)):C("",!0),a("div",_a,[a("button",{onClick:e[8]||(e[8]=ge(t=>re("masuk"),["prevent"])),class:"w-full text-left rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:border-brand-300 focus:outline-none dark:border-gray-700 dark:bg-white/[0.03]"},[a("div",Ma,[a("div",null,[e[22]||(e[22]=a("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Saldo Masuk",-1)),a("p",Ca,l(i(y.value.totalMasuk||0)),1)]),a("div",Da,[e[24]||(e[24]=a("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100 dark:bg-green-500/10"},[a("svg",{class:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)),(d(),g("svg",{class:V(["h-5 w-5 transition-transform",x.value&&k.value==="masuk"?"rotate-180":"rotate-0"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...e[23]||(e[23]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))])])]),a("button",{onClick:e[9]||(e[9]=ge(t=>re("keluar"),["prevent"])),class:"w-full text-left rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:border-brand-300 focus:outline-none dark:border-gray-700 dark:bg-white/[0.03]"},[a("div",Pa,[a("div",null,[e[25]||(e[25]=a("p",{class:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Saldo Keluar",-1)),a("p",Sa,l(i(y.value.totalKeluar||0)),1)]),a("div",ja,[e[27]||(e[27]=a("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-red-100 dark:bg-red-500/10"},[a("svg",{class:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})])],-1)),(d(),g("svg",{class:V(["h-5 w-5 transition-transform",x.value&&k.value==="keluar"?"rotate-180":"rotate-0"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...e[26]||(e[26]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))])])])]),a("div",Ba,[e[30]||(e[30]=a("h3",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white/90"}," Persentase Pemasukan vs Pengeluaran ",-1)),a("div",Ta,[a("div",Aa,[B(E(ze),{type:"radialBar",height:"300",options:_e.value,series:De.value},null,8,["options","series"])]),a("div",Ka,[a("div",null,[e[28]||(e[28]=a("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pemasukan",-1)),a("p",Fa,l(Me.value)+"% ",1)]),a("div",null,[e[29]||(e[29]=a("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pengeluaran",-1)),a("p",Ia,l(Ce.value)+"% ",1)])])])])])):C("",!0),m.value==="management"?(d(),g("div",Va,[a("div",La,[a("div",{class:"mb-4 flex items-center justify-between"},[e[32]||(e[32]=a("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Filter & Export ",-1)),a("button",{onClick:Ve,class:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-green-600"},[...e[31]||(e[31]=[a("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M10.8333 3.33333V9.16667H16.6667L10.8333 3.33333ZM4.16667 2.5H11.6667L17.5 8.33333V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5Z",fill:"currentColor"})],-1),Ne(" Export Excel ",-1)])])]),a("div",Ha,[a("div",Ea,[e[34]||(e[34]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Tanggal ",-1)),a("div",Ra,[B(E(ce),{modelValue:A.value,"onUpdate:modelValue":e[10]||(e[10]=t=>A.value=t),config:ke,class:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"Pilih tanggal"},null,8,["modelValue"]),e[33]||(e[33]=a("span",{class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400"},[a("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M10 18.3333C14.6024 18.3333 18.3333 14.6024 18.3333 9.99999C18.3333 5.39762 14.6024 1.66666 10 1.66666C5.39763 1.66666 1.66667 5.39762 1.66667 9.99999C1.66667 14.6024 5.39763 18.3333 10 18.3333Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),a("path",{d:"M10 5V10L13.3333 11.6667",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])]),a("div",$a,[e[35]||(e[35]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Keterangan ",-1)),R(a("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=t=>K.value=t),placeholder:"Cari keterangan...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[$,K.value]])]),a("div",za,[e[36]||(e[36]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Masuk Min ",-1)),R(a("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=t=>F.value=t),placeholder:"Masuk minimum...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[$,F.value]])]),a("div",Na,[e[37]||(e[37]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Keluar Min ",-1)),R(a("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>I.value=t),placeholder:"Keluar minimum...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[$,I.value]])])]),a("div",{class:"mt-4 flex justify-end"},[a("button",{onClick:Ie,class:"h-11 rounded-lg border border-gray-300 bg-white px-6 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Reset Filter ")])]),a("div",Ya,[B(E(Ye),{class:"ag-theme-alpine",style:{width:"100%"},columnDefs:Se,rowData:le.value,defaultColDef:je,pagination:!0,paginationPageSize:20,theme:"legacy",animateRows:!0,suppressHorizontalScroll:!0,domLayout:"autoHeight"},null,8,["rowData"])])])):C("",!0),m.value==="mitra"?(d(),g("div",Oa,[a("div",Ua,[a("div",qa,[a("div",Xa,[e[38]||(e[38]=a("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Cari Mitra ",-1)),R(a("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=t=>f.value=t),placeholder:"Cari nama mitra atau program...",class:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[$,f.value]])])])]),a("div",Wa,[(d(!0),g(L,null,H(Te.value,t=>(d(),g("div",{key:t.id,class:"group cursor-pointer rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-brand-300 hover:shadow-lg dark:border-gray-700 dark:bg-white/[0.03] dark:hover:border-brand-500"},[a("div",Za,[e[40]||(e[40]=a("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-brand-500 text-white transition-all duration-300 group-hover:scale-110 group-hover:bg-brand-500 group-hover:text-white dark:bg-brand-500/10 dark:text-white/90"},[a("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),a("button",{onClick:n=>Fe(t.id),class:"flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 hover:bg-gray-100 hover:text-brand-500 dark:hover:bg-white/[0.03] dark:hover:text-brand-400"},[...e[39]||(e[39]=[a("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Ga)]),a("h3",Ja,l(t.nama),1),a("p",Qa,l(t.program),1),a("div",et,[a("div",null,[e[41]||(e[41]=a("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"Nominal",-1)),a("p",at,l(i(t.nominal)),1)]),a("span",{class:V(["rounded-full px-3 py-1 text-xs font-medium",t.status==="Aktif"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"])},l(t.status),3)])]))),128))]),S.value.length===0?(d(),g("div",tt,[e[42]||(e[42]=a("svg",{class:"mb-4 h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),a("p",rt,l(f.value?"Tidak ada data mitra ditemukan":"Tidak ada data mitra"),1),f.value?(d(),g("p",nt," Coba ubah kata kunci pencarian Anda ")):C("",!0)])):C("",!0),S.value.length>0?(d(),g("div",ot,[a("div",lt," Menampilkan "+l(U.value+1)+" - "+l(se.value)+" dari "+l(S.value.length)+" mitra ",1),a("div",st,[a("button",{onClick:e[15]||(e[15]=t=>v.value=Math.max(1,v.value-1)),disabled:v.value===1,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Sebelumnya ",8,dt),a("div",it,[(d(!0),g(L,null,H(O.value,t=>(d(),g("button",{key:t,onClick:n=>v.value=t,class:V(["flex h-10 w-10 items-center justify-center rounded-lg border text-sm font-medium transition-colors",v.value===t?"border-brand-500 bg-brand-500 text-white":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"])},l(t),11,ut))),128))]),a("button",{onClick:e[16]||(e[16]=t=>v.value=Math.min(O.value,v.value+1)),disabled:v.value===O.value,class:"flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Selanjutnya ",8,gt)])])):C("",!0)])):C("",!0)])])]),_:1}))}}),Mt=qe(ct,[["__scopeId","data-v-7dd929f1"]]);export{Mt as default};
